"use strict";var uh=Object.create;var na=Object.defineProperty;var ch=Object.getOwnPropertyDescriptor;var lh=Object.getOwnPropertyNames;var fh=Object.getPrototypeOf,hh=Object.prototype.hasOwnProperty;var V=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ph=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of lh(t))!hh.call(e,i)&&i!==r&&na(e,i,{get:()=>t[i],enumerable:!(n=ch(t,i))||n.enumerable});return e};var ir=(e,t,r)=>(r=e!=null?uh(fh(e)):{},ph(t||!e||!e.__esModule?na(r,"default",{value:e,enumerable:!0}):r,e));var ia=V((qg,dh)=>{dh.exports={name:"dotenv",version:"16.4.5",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard","lint-readme":"standard-markdown",pretest:"npm run lint && npm run dts-check",test:"tap tests/*.js --100 -Rspec","test:coverage":"tap --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},funding:"https://dotenvx.com",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@definitelytyped/dtslint":"^0.0.133","@types/node":"^18.11.3",decache:"^4.6.1",sinon:"^14.0.1",standard:"^17.0.0","standard-markdown":"^7.1.0","standard-version":"^9.5.0",tap:"^16.3.0",tar:"^6.1.11",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}});var ua=V((Dg,Ze)=>{var Kn=require("fs"),Yn=require("path"),yh=require("os"),vh=require("crypto"),mh=ia(),Qn=mh.version,gh=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function _h(e){let t={},r=e.toString();r=r.replace(/\r\n?/mg,`
`);let n;for(;(n=gh.exec(r))!=null;){let i=n[1],o=n[2]||"";o=o.trim();let s=o[0];o=o.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),s==='"'&&(o=o.replace(/\\n/g,`
`),o=o.replace(/\\r/g,"\r")),t[i]=o}return t}function wh(e){let t=sa(e),r=Oe.configDotenv({path:t});if(!r.parsed){let s=new Error(`MISSING_DATA: Cannot parse ${t} for an unknown reason`);throw s.code="MISSING_DATA",s}let n=aa(e).split(","),i=n.length,o;for(let s=0;s<i;s++)try{let u=n[s].trim(),a=Sh(r,u);o=Oe.decrypt(a.ciphertext,a.key);break}catch(u){if(s+1>=i)throw u}return Oe.parse(o)}function bh(e){console.log(`[dotenv@${Qn}][INFO] ${e}`)}function Eh(e){console.log(`[dotenv@${Qn}][WARN] ${e}`)}function $r(e){console.log(`[dotenv@${Qn}][DEBUG] ${e}`)}function aa(e){return e&&e.DOTENV_KEY&&e.DOTENV_KEY.length>0?e.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function Sh(e,t){let r;try{r=new URL(t)}catch(u){if(u.code==="ERR_INVALID_URL"){let a=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw a.code="INVALID_DOTENV_KEY",a}throw u}let n=r.password;if(!n){let u=new Error("INVALID_DOTENV_KEY: Missing key part");throw u.code="INVALID_DOTENV_KEY",u}let i=r.searchParams.get("environment");if(!i){let u=new Error("INVALID_DOTENV_KEY: Missing environment part");throw u.code="INVALID_DOTENV_KEY",u}let o=`DOTENV_VAULT_${i.toUpperCase()}`,s=e.parsed[o];if(!s){let u=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${o} in your .env.vault file.`);throw u.code="NOT_FOUND_DOTENV_ENVIRONMENT",u}return{ciphertext:s,key:n}}function sa(e){let t=null;if(e&&e.path&&e.path.length>0)if(Array.isArray(e.path))for(let r of e.path)Kn.existsSync(r)&&(t=r.endsWith(".vault")?r:`${r}.vault`);else t=e.path.endsWith(".vault")?e.path:`${e.path}.vault`;else t=Yn.resolve(process.cwd(),".env.vault");return Kn.existsSync(t)?t:null}function oa(e){return e[0]==="~"?Yn.join(yh.homedir(),e.slice(1)):e}function kh(e){bh("Loading env from encrypted .env.vault");let t=Oe._parseVault(e),r=process.env;return e&&e.processEnv!=null&&(r=e.processEnv),Oe.populate(r,t,e),{parsed:t}}function Th(e){let t=Yn.resolve(process.cwd(),".env"),r="utf8",n=!!(e&&e.debug);e&&e.encoding?r=e.encoding:n&&$r("No encoding is specified. UTF-8 is used by default");let i=[t];if(e&&e.path)if(!Array.isArray(e.path))i=[oa(e.path)];else{i=[];for(let a of e.path)i.push(oa(a))}let o,s={};for(let a of i)try{let c=Oe.parse(Kn.readFileSync(a,{encoding:r}));Oe.populate(s,c,e)}catch(c){n&&$r(`Failed to load ${a} ${c.message}`),o=c}let u=process.env;return e&&e.processEnv!=null&&(u=e.processEnv),Oe.populate(u,s,e),o?{parsed:s,error:o}:{parsed:s}}function Oh(e){if(aa(e).length===0)return Oe.configDotenv(e);let t=sa(e);return t?Oe._configVault(e):(Eh(`You set DOTENV_KEY but you are missing a .env.vault file at ${t}. Did you forget to build it?`),Oe.configDotenv(e))}function xh(e,t){let r=Buffer.from(t.slice(-64),"hex"),n=Buffer.from(e,"base64"),i=n.subarray(0,12),o=n.subarray(-16);n=n.subarray(12,-16);try{let s=vh.createDecipheriv("aes-256-gcm",r,i);return s.setAuthTag(o),`${s.update(n)}${s.final()}`}catch(s){let u=s instanceof RangeError,a=s.message==="Invalid key length",c=s.message==="Unsupported state or unable to authenticate data";if(u||a){let f=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw f.code="INVALID_DOTENV_KEY",f}else if(c){let f=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw f.code="DECRYPTION_FAILED",f}else throw s}}function Ch(e,t,r={}){let n=!!(r&&r.debug),i=!!(r&&r.override);if(typeof t!="object"){let o=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw o.code="OBJECT_REQUIRED",o}for(let o of Object.keys(t))Object.prototype.hasOwnProperty.call(e,o)?(i===!0&&(e[o]=t[o]),n&&$r(i===!0?`"${o}" is already defined and WAS overwritten`:`"${o}" is already defined and was NOT overwritten`)):e[o]=t[o]}var Oe={configDotenv:Th,_configVault:kh,_parseVault:wh,config:Oh,decrypt:xh,parse:_h,populate:Ch};Ze.exports.configDotenv=Oe.configDotenv;Ze.exports._configVault=Oe._configVault;Ze.exports._parseVault=Oe._parseVault;Ze.exports.config=Oe.config;Ze.exports.decrypt=Oe.decrypt;Ze.exports.parse=Oe.parse;Ze.exports.populate=Oe.populate;Ze.exports=Oe});var la=V((Ag,ca)=>{var Lt={};process.env.DOTENV_CONFIG_ENCODING!=null&&(Lt.encoding=process.env.DOTENV_CONFIG_ENCODING);process.env.DOTENV_CONFIG_PATH!=null&&(Lt.path=process.env.DOTENV_CONFIG_PATH);process.env.DOTENV_CONFIG_DEBUG!=null&&(Lt.debug=process.env.DOTENV_CONFIG_DEBUG);process.env.DOTENV_CONFIG_OVERRIDE!=null&&(Lt.override=process.env.DOTENV_CONFIG_OVERRIDE);process.env.DOTENV_CONFIG_DOTENV_KEY!=null&&(Lt.DOTENV_KEY=process.env.DOTENV_CONFIG_DOTENV_KEY);ca.exports=Lt});var ha=V((Ng,fa)=>{var Fh=/^dotenv_config_(encoding|path|debug|override|DOTENV_KEY)=(.+)$/;fa.exports=function(t){return t.reduce(function(r,n){let i=n.match(Fh);return i&&(r[i[1]]=i[2]),r},{})}});var Ke=V(Vr=>{"use strict";Vr.getBooleanOption=(e,t)=>{let r=!1;if(t in e&&typeof(r=e[t])!="boolean")throw new TypeError(`Expected the "${t}" option to be a boolean`);return r};Vr.cppdb=Symbol();Vr.inspect=Symbol.for("nodejs.util.inspect.custom")});var Xn=V((Lg,pa)=>{"use strict";var Jn={value:"SqliteError",writable:!0,enumerable:!1,configurable:!0};function _t(e,t){if(new.target!==_t)return new _t(e,t);if(typeof t!="string")throw new TypeError("Expected second argument to be a string");Error.call(this,e),Jn.value=""+e,Object.defineProperty(this,"message",Jn),Error.captureStackTrace(this,_t),this.code=t}Object.setPrototypeOf(_t,Error);Object.setPrototypeOf(_t.prototype,Error.prototype);Object.defineProperty(_t.prototype,"name",Jn);pa.exports=_t});var ya=V((Ig,da)=>{var Gr=require("path").sep||"/";da.exports=Rh;function Rh(e){if(typeof e!="string"||e.length<=7||e.substring(0,7)!="file://")throw new TypeError("must pass in a file:// URI to convert to a file path");var t=decodeURI(e.substring(7)),r=t.indexOf("/"),n=t.substring(0,r),i=t.substring(r+1);return n=="localhost"&&(n=""),n&&(n=Gr+Gr+n),i=i.replace(/^(.+)\|/,"$1:"),Gr=="\\"&&(i=i.replace(/\//g,"\\")),/^.+\:/.test(i)||(i=Gr+i),n+i}});var _a=V((It,ga)=>{var Zn=require("fs"),Hr=require("path"),qh=ya(),zr=Hr.join,Dh=Hr.dirname,va=Zn.accessSync&&function(e){try{Zn.accessSync(e)}catch{return!1}return!0}||Zn.existsSync||Hr.existsSync,ma={arrow:process.env.NODE_BINDINGS_ARROW||" \u2192 ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,nodePreGyp:"node-v"+process.versions.modules+"-"+process.platform+"-"+process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"],["module_root","addon-build","release","install-root","bindings"],["module_root","addon-build","debug","install-root","bindings"],["module_root","addon-build","default","install-root","bindings"],["module_root","lib","binding","nodePreGyp","bindings"]]};function Ah(e){typeof e=="string"?e={bindings:e}:e||(e={}),Object.keys(ma).map(function(a){a in e||(e[a]=ma[a])}),e.module_root||(e.module_root=It.getRoot(It.getFileName())),Hr.extname(e.bindings)!=".node"&&(e.bindings+=".node");for(var t=typeof __webpack_require__=="function"?__non_webpack_require__:require,r=[],n=0,i=e.try.length,o,s,u;n<i;n++){o=zr.apply(null,e.try[n].map(function(a){return e[a]||a})),r.push(o);try{return s=e.path?t.resolve(o):t(o),e.path||(s.path=o),s}catch(a){if(a.code!=="MODULE_NOT_FOUND"&&a.code!=="QUALIFIED_PATH_RESOLUTION_FAILED"&&!/not find/i.test(a.message))throw a}}throw u=new Error(`Could not locate the bindings file. Tried:
`+r.map(function(a){return e.arrow+a}).join(`
`)),u.tries=r,u}ga.exports=It=Ah;It.getFileName=function(t){var r=Error.prepareStackTrace,n=Error.stackTraceLimit,i={},o;Error.stackTraceLimit=10,Error.prepareStackTrace=function(u,a){for(var c=0,f=a.length;c<f;c++)if(o=a[c].getFileName(),o!==__filename)if(t){if(o!==t)return}else return},Error.captureStackTrace(i),i.stack,Error.prepareStackTrace=r,Error.stackTraceLimit=n;var s="file://";return o.indexOf(s)===0&&(o=qh(o)),o};It.getRoot=function(t){for(var r=Dh(t),n;;){if(r==="."&&(r=process.cwd()),va(zr(r,"package.json"))||va(zr(r,"node_modules")))return r;if(n===r)throw new Error('Could not find module root given file: "'+t+'". Do you have a `package.json` file? ');n=r,r=zr(r,"..")}}});var wa=V(ot=>{"use strict";var{cppdb:$e}=Ke();ot.prepare=function(t){return this[$e].prepare(t,this,!1)};ot.exec=function(t){return this[$e].exec(t),this};ot.close=function(){return this[$e].close(),this};ot.loadExtension=function(...t){return this[$e].loadExtension(...t),this};ot.defaultSafeIntegers=function(...t){return this[$e].defaultSafeIntegers(...t),this};ot.unsafeMode=function(...t){return this[$e].unsafeMode(...t),this};ot.getters={name:{get:function(){return this[$e].name},enumerable:!0},open:{get:function(){return this[$e].open},enumerable:!0},inTransaction:{get:function(){return this[$e].inTransaction},enumerable:!0},readonly:{get:function(){return this[$e].readonly},enumerable:!0},memory:{get:function(){return this[$e].memory},enumerable:!0}}});var Sa=V((Pg,Ea)=>{"use strict";var{cppdb:Nh}=Ke(),ba=new WeakMap;Ea.exports=function(t){if(typeof t!="function")throw new TypeError("Expected first argument to be a function");let r=this[Nh],n=jh(r,this),{apply:i}=Function.prototype,o={default:{value:Kr(i,t,r,n.default)},deferred:{value:Kr(i,t,r,n.deferred)},immediate:{value:Kr(i,t,r,n.immediate)},exclusive:{value:Kr(i,t,r,n.exclusive)},database:{value:this,enumerable:!0}};return Object.defineProperties(o.default.value,o),Object.defineProperties(o.deferred.value,o),Object.defineProperties(o.immediate.value,o),Object.defineProperties(o.exclusive.value,o),o.default.value};var jh=(e,t)=>{let r=ba.get(e);if(!r){let n={commit:e.prepare("COMMIT",t,!1),rollback:e.prepare("ROLLBACK",t,!1),savepoint:e.prepare("SAVEPOINT `	_bs3.	`",t,!1),release:e.prepare("RELEASE `	_bs3.	`",t,!1),rollbackTo:e.prepare("ROLLBACK TO `	_bs3.	`",t,!1)};ba.set(e,r={default:Object.assign({begin:e.prepare("BEGIN",t,!1)},n),deferred:Object.assign({begin:e.prepare("BEGIN DEFERRED",t,!1)},n),immediate:Object.assign({begin:e.prepare("BEGIN IMMEDIATE",t,!1)},n),exclusive:Object.assign({begin:e.prepare("BEGIN EXCLUSIVE",t,!1)},n)})}return r},Kr=(e,t,r,{begin:n,commit:i,rollback:o,savepoint:s,release:u,rollbackTo:a})=>function(){let f,d,w;r.inTransaction?(f=s,d=u,w=a):(f=n,d=i,w=o),f.run();try{let y=e.call(t,this,arguments);return d.run(),y}catch(y){throw r.inTransaction&&(w.run(),w!==o&&d.run()),y}}});var Ta=V((Bg,ka)=>{"use strict";var{getBooleanOption:Lh,cppdb:Ih}=Ke();ka.exports=function(t,r){if(r==null&&(r={}),typeof t!="string")throw new TypeError("Expected first argument to be a string");if(typeof r!="object")throw new TypeError("Expected second argument to be an options object");let n=Lh(r,"simple"),i=this[Ih].prepare(`PRAGMA ${t}`,this,!0);return n?i.pluck().get():i.all()}});var Ca=V((Ug,xa)=>{"use strict";var Mh=require("fs"),Ph=require("path"),{promisify:Bh}=require("util"),{cppdb:Uh}=Ke(),Oa=Bh(Mh.access);xa.exports=async function(t,r){if(r==null&&(r={}),typeof t!="string")throw new TypeError("Expected first argument to be a string");if(typeof r!="object")throw new TypeError("Expected second argument to be an options object");t=t.trim();let n="attached"in r?r.attached:"main",i="progress"in r?r.progress:null;if(!t)throw new TypeError("Backup filename cannot be an empty string");if(t===":memory:")throw new TypeError('Invalid backup filename ":memory:"');if(typeof n!="string")throw new TypeError('Expected the "attached" option to be a string');if(!n)throw new TypeError('The "attached" option cannot be an empty string');if(i!=null&&typeof i!="function")throw new TypeError('Expected the "progress" option to be a function');await Oa(Ph.dirname(t)).catch(()=>{throw new TypeError("Cannot save backup because the directory does not exist")});let o=await Oa(t).then(()=>!1,()=>!0);return Wh(this[Uh].backup(this,n,t,o),i||null)};var Wh=(e,t)=>{let r=0,n=!0;return new Promise((i,o)=>{setImmediate(function s(){try{let u=e.transfer(r);if(!u.remainingPages){e.close(),i(u);return}if(n&&(n=!1,r=100),t){let a=t(u);if(a!==void 0)if(typeof a=="number"&&a===a)r=Math.max(0,Math.min(2147483647,Math.round(a)));else throw new TypeError("Expected progress callback to return a number or undefined")}setImmediate(s)}catch(u){e.close(),o(u)}})})}});var Ra=V((Wg,Fa)=>{"use strict";var{cppdb:$h}=Ke();Fa.exports=function(t){if(t==null&&(t={}),typeof t!="object")throw new TypeError("Expected first argument to be an options object");let r="attached"in t?t.attached:"main";if(typeof r!="string")throw new TypeError('Expected the "attached" option to be a string');if(!r)throw new TypeError('The "attached" option cannot be an empty string');return this[$h].serialize(r)}});var Da=V(($g,qa)=>{"use strict";var{getBooleanOption:Yr,cppdb:Vh}=Ke();qa.exports=function(t,r,n){if(r==null&&(r={}),typeof r=="function"&&(n=r,r={}),typeof t!="string")throw new TypeError("Expected first argument to be a string");if(typeof n!="function")throw new TypeError("Expected last argument to be a function");if(typeof r!="object")throw new TypeError("Expected second argument to be an options object");if(!t)throw new TypeError("User-defined function name cannot be an empty string");let i="safeIntegers"in r?+Yr(r,"safeIntegers"):2,o=Yr(r,"deterministic"),s=Yr(r,"directOnly"),u=Yr(r,"varargs"),a=-1;if(!u){if(a=n.length,!Number.isInteger(a)||a<0)throw new TypeError("Expected function.length to be a positive integer");if(a>100)throw new RangeError("User-defined functions cannot have more than 100 arguments")}return this[Vh].function(n,t,a,i,o,s),this}});var ja=V((Vg,Na)=>{"use strict";var{getBooleanOption:Qr,cppdb:Gh}=Ke();Na.exports=function(t,r){if(typeof t!="string")throw new TypeError("Expected first argument to be a string");if(typeof r!="object"||r===null)throw new TypeError("Expected second argument to be an options object");if(!t)throw new TypeError("User-defined function name cannot be an empty string");let n="start"in r?r.start:null,i=ei(r,"step",!0),o=ei(r,"inverse",!1),s=ei(r,"result",!1),u="safeIntegers"in r?+Qr(r,"safeIntegers"):2,a=Qr(r,"deterministic"),c=Qr(r,"directOnly"),f=Qr(r,"varargs"),d=-1;if(!f&&(d=Math.max(Aa(i),o?Aa(o):0),d>0&&(d-=1),d>100))throw new RangeError("User-defined functions cannot have more than 100 arguments");return this[Gh].aggregate(n,i,o,s,t,d,u,a,c),this};var ei=(e,t,r)=>{let n=t in e?e[t]:null;if(typeof n=="function")return n;if(n!=null)throw new TypeError(`Expected the "${t}" option to be a function`);if(r)throw new TypeError(`Missing required option "${t}"`);return null},Aa=({length:e})=>{if(Number.isInteger(e)&&e>=0)return e;throw new TypeError("Expected function.length to be a positive integer")}});var Pa=V((Gg,Ma)=>{"use strict";var{cppdb:zh}=Ke();Ma.exports=function(t,r){if(typeof t!="string")throw new TypeError("Expected first argument to be a string");if(!t)throw new TypeError("Virtual table module name cannot be an empty string");let n=!1;if(typeof r=="object"&&r!==null)n=!0,r=ep(Ia(r,"used",t));else{if(typeof r!="function")throw new TypeError("Expected second argument to be a function or a table definition object");r=Hh(r)}return this[zh].table(r,t,n),this};function Hh(e){return function(r,n,i,...o){let s={module:r,database:n,table:i},u=Xh.call(e,s,o);if(typeof u!="object"||u===null)throw new TypeError(`Virtual table module "${r}" did not return a table definition object`);return Ia(u,"returned",r)}}function Ia(e,t,r){if(!or.call(e,"rows"))throw new TypeError(`Virtual table module "${r}" ${t} a table definition without a "rows" property`);if(!or.call(e,"columns"))throw new TypeError(`Virtual table module "${r}" ${t} a table definition without a "columns" property`);let n=e.rows;if(typeof n!="function"||Object.getPrototypeOf(n)!==Zh)throw new TypeError(`Virtual table module "${r}" ${t} a table definition with an invalid "rows" property (should be a generator function)`);let i=e.columns;if(!Array.isArray(i)||!(i=[...i]).every(c=>typeof c=="string"))throw new TypeError(`Virtual table module "${r}" ${t} a table definition with an invalid "columns" property (should be an array of strings)`);if(i.length!==new Set(i).size)throw new TypeError(`Virtual table module "${r}" ${t} a table definition with duplicate column names`);if(!i.length)throw new RangeError(`Virtual table module "${r}" ${t} a table definition with zero columns`);let o;if(or.call(e,"parameters")){if(o=e.parameters,!Array.isArray(o)||!(o=[...o]).every(c=>typeof c=="string"))throw new TypeError(`Virtual table module "${r}" ${t} a table definition with an invalid "parameters" property (should be an array of strings)`)}else o=Jh(n);if(o.length!==new Set(o).size)throw new TypeError(`Virtual table module "${r}" ${t} a table definition with duplicate parameter names`);if(o.length>32)throw new RangeError(`Virtual table module "${r}" ${t} a table definition with more than the maximum number of 32 parameters`);for(let c of o)if(i.includes(c))throw new TypeError(`Virtual table module "${r}" ${t} a table definition with column "${c}" which was ambiguously defined as both a column and parameter`);let s=2;if(or.call(e,"safeIntegers")){let c=e.safeIntegers;if(typeof c!="boolean")throw new TypeError(`Virtual table module "${r}" ${t} a table definition with an invalid "safeIntegers" property (should be a boolean)`);s=+c}let u=!1;if(or.call(e,"directOnly")&&(u=e.directOnly,typeof u!="boolean"))throw new TypeError(`Virtual table module "${r}" ${t} a table definition with an invalid "directOnly" property (should be a boolean)`);return[`CREATE TABLE x(${[...o.map(La).map(c=>`${c} HIDDEN`),...i.map(La)].join(", ")});`,Kh(n,new Map(i.map((c,f)=>[c,o.length+f])),r),o,s,u]}function Kh(e,t,r){return function*(...i){let o=i.map(s=>Buffer.isBuffer(s)?Buffer.from(s):s);for(let s=0;s<t.size;++s)o.push(null);for(let s of e(...i))if(Array.isArray(s))Yh(s,o,t.size,r),yield o;else if(typeof s=="object"&&s!==null)Qh(s,o,t,r),yield o;else throw new TypeError(`Virtual table module "${r}" yielded something that isn't a valid row object`)}}function Yh(e,t,r,n){if(e.length!==r)throw new TypeError(`Virtual table module "${n}" yielded a row with an incorrect number of columns`);let i=t.length-r;for(let o=0;o<r;++o)t[o+i]=e[o]}function Qh(e,t,r,n){let i=0;for(let o of Object.keys(e)){let s=r.get(o);if(s===void 0)throw new TypeError(`Virtual table module "${n}" yielded a row with an undeclared column "${o}"`);t[s]=e[o],i+=1}if(i!==r.size)throw new TypeError(`Virtual table module "${n}" yielded a row with missing columns`)}function Jh({length:e}){if(!Number.isInteger(e)||e<0)throw new TypeError("Expected function.length to be a positive integer");let t=[];for(let r=0;r<e;++r)t.push(`$${r+1}`);return t}var{hasOwnProperty:or}=Object.prototype,{apply:Xh}=Function.prototype,Zh=Object.getPrototypeOf(function*(){}),La=e=>`"${e.replace(/"/g,'""')}"`,ep=e=>()=>e});var Ua=V((zg,Ba)=>{"use strict";var tp=function(){};Ba.exports=function(t,r){return Object.assign(new tp,this)}});var Ga=V((Hg,Va)=>{"use strict";var rp=require("fs"),Wa=require("path"),Jr=Ke(),np=Xn(),$a;function Ne(e,t){if(new.target==null)return new Ne(e,t);let r;if(Buffer.isBuffer(e)&&(r=e,e=":memory:"),e==null&&(e=""),t==null&&(t={}),typeof e!="string")throw new TypeError("Expected first argument to be a string");if(typeof t!="object")throw new TypeError("Expected second argument to be an options object");if("readOnly"in t)throw new TypeError('Misspelled option "readOnly" should be "readonly"');if("memory"in t)throw new TypeError('Option "memory" was removed in v7.0.0 (use ":memory:" filename instead)');let n=e.trim(),i=n===""||n===":memory:",o=Jr.getBooleanOption(t,"readonly"),s=Jr.getBooleanOption(t,"fileMustExist"),u="timeout"in t?t.timeout:5e3,a="verbose"in t?t.verbose:null,c="nativeBinding"in t?t.nativeBinding:null;if(o&&i&&!r)throw new TypeError("In-memory/temporary databases cannot be readonly");if(!Number.isInteger(u)||u<0)throw new TypeError('Expected the "timeout" option to be a positive integer');if(u>2147483647)throw new RangeError('Option "timeout" cannot be greater than 2147483647');if(a!=null&&typeof a!="function")throw new TypeError('Expected the "verbose" option to be a function');if(c!=null&&typeof c!="string"&&typeof c!="object")throw new TypeError('Expected the "nativeBinding" option to be a string or addon object');let f;if(c==null?f=$a||($a=_a()("better_sqlite3.node")):typeof c=="string"?f=(typeof __non_webpack_require__=="function"?__non_webpack_require__:require)(Wa.resolve(c).replace(/(\.node)?$/,".node")):f=c,f.isInitialized||(f.setErrorConstructor(np),f.isInitialized=!0),!i&&!rp.existsSync(Wa.dirname(n)))throw new TypeError("Cannot open database because the directory does not exist");Object.defineProperties(this,{[Jr.cppdb]:{value:new f.Database(n,e,i,o,s,u,a||null,r||null)},...wt.getters})}var wt=wa();Ne.prototype.prepare=wt.prepare;Ne.prototype.transaction=Sa();Ne.prototype.pragma=Ta();Ne.prototype.backup=Ca();Ne.prototype.serialize=Ra();Ne.prototype.function=Da();Ne.prototype.aggregate=ja();Ne.prototype.table=Pa();Ne.prototype.loadExtension=wt.loadExtension;Ne.prototype.exec=wt.exec;Ne.prototype.close=wt.close;Ne.prototype.defaultSafeIntegers=wt.defaultSafeIntegers;Ne.prototype.unsafeMode=wt.unsafeMode;Ne.prototype[Jr.inspect]=Ua();Va.exports=Ne});var za=V((Kg,ti)=>{"use strict";ti.exports=Ga();ti.exports.SqliteError=Xn()});var Za=V((Yg,Xa)=>{"use strict";var ip=Object.create,en=Object.defineProperty,op=Object.getOwnPropertyDescriptor,ap=Object.getOwnPropertyNames,sp=Object.getPrototypeOf,up=Object.prototype.hasOwnProperty,oe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),cp=(e,t)=>{for(var r in t)en(e,r,{get:t[r],enumerable:!0})},Ha=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ap(t))!up.call(e,i)&&i!==r&&en(e,i,{get:()=>t[i],enumerable:!(n=op(t,i))||n.enumerable});return e},sr=(e,t,r)=>(r=e!=null?ip(sp(e)):{},Ha(t||!e||!e.__esModule?en(r,"default",{value:e,enumerable:!0}):r,e)),lp=e=>Ha(en({},"__esModule",{value:!0}),e),Pe=oe(e=>{"use strict";e.fromCallback=function(t){return Object.defineProperty(function(...r){if(typeof r[r.length-1]=="function")t.apply(this,r);else return new Promise((n,i)=>{r.push((o,s)=>o!=null?i(o):n(s)),t.apply(this,r)})},"name",{value:t.name})},e.fromPromise=function(t){return Object.defineProperty(function(...r){let n=r[r.length-1];if(typeof n!="function")return t.apply(this,r);r.pop(),t.apply(this,r).then(i=>n(null,i),n)},"name",{value:t.name})}}),fp=oe((e,t)=>{var r=require("constants"),n=process.cwd,i=null,o=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return i||(i=n.call(process)),i};try{process.cwd()}catch{}typeof process.chdir=="function"&&(s=process.chdir,process.chdir=function(a){i=null,s.call(process,a)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,s));var s;t.exports=u;function u(a){r.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&c(a),a.lutimes||f(a),a.chown=y(a.chown),a.fchown=y(a.fchown),a.lchown=y(a.lchown),a.chmod=d(a.chmod),a.fchmod=d(a.fchmod),a.lchmod=d(a.lchmod),a.chownSync=p(a.chownSync),a.fchownSync=p(a.fchownSync),a.lchownSync=p(a.lchownSync),a.chmodSync=w(a.chmodSync),a.fchmodSync=w(a.fchmodSync),a.lchmodSync=w(a.lchmodSync),a.stat=m(a.stat),a.fstat=m(a.fstat),a.lstat=m(a.lstat),a.statSync=_(a.statSync),a.fstatSync=_(a.fstatSync),a.lstatSync=_(a.lstatSync),a.chmod&&!a.lchmod&&(a.lchmod=function(g,S,O){O&&process.nextTick(O)},a.lchmodSync=function(){}),a.chown&&!a.lchown&&(a.lchown=function(g,S,O,R){R&&process.nextTick(R)},a.lchownSync=function(){}),o==="win32"&&(a.rename=typeof a.rename!="function"?a.rename:function(g){function S(O,R,W){var Y=Date.now(),z=0;g(O,R,function D(B){if(B&&(B.code==="EACCES"||B.code==="EPERM"||B.code==="EBUSY")&&Date.now()-Y<6e4){setTimeout(function(){a.stat(R,function($,C){$&&$.code==="ENOENT"?g(O,R,D):W(B)})},z),z<100&&(z+=10);return}W&&W(B)})}return Object.setPrototypeOf&&Object.setPrototypeOf(S,g),S}(a.rename)),a.read=typeof a.read!="function"?a.read:function(g){function S(O,R,W,Y,z,D){var B;if(D&&typeof D=="function"){var $=0;B=function(C,F,L){if(C&&C.code==="EAGAIN"&&$<10)return $++,g.call(a,O,R,W,Y,z,B);D.apply(this,arguments)}}return g.call(a,O,R,W,Y,z,B)}return Object.setPrototypeOf&&Object.setPrototypeOf(S,g),S}(a.read),a.readSync=typeof a.readSync!="function"?a.readSync:function(g){return function(S,O,R,W,Y){for(var z=0;;)try{return g.call(a,S,O,R,W,Y)}catch(D){if(D.code==="EAGAIN"&&z<10){z++;continue}throw D}}}(a.readSync);function c(g){g.lchmod=function(S,O,R){g.open(S,r.O_WRONLY|r.O_SYMLINK,O,function(W,Y){if(W){R&&R(W);return}g.fchmod(Y,O,function(z){g.close(Y,function(D){R&&R(z||D)})})})},g.lchmodSync=function(S,O){var R=g.openSync(S,r.O_WRONLY|r.O_SYMLINK,O),W=!0,Y;try{Y=g.fchmodSync(R,O),W=!1}finally{if(W)try{g.closeSync(R)}catch{}else g.closeSync(R)}return Y}}function f(g){r.hasOwnProperty("O_SYMLINK")&&g.futimes?(g.lutimes=function(S,O,R,W){g.open(S,r.O_SYMLINK,function(Y,z){if(Y){W&&W(Y);return}g.futimes(z,O,R,function(D){g.close(z,function(B){W&&W(D||B)})})})},g.lutimesSync=function(S,O,R){var W=g.openSync(S,r.O_SYMLINK),Y,z=!0;try{Y=g.futimesSync(W,O,R),z=!1}finally{if(z)try{g.closeSync(W)}catch{}else g.closeSync(W)}return Y}):g.futimes&&(g.lutimes=function(S,O,R,W){W&&process.nextTick(W)},g.lutimesSync=function(){})}function d(g){return g&&function(S,O,R){return g.call(a,S,O,function(W){b(W)&&(W=null),R&&R.apply(this,arguments)})}}function w(g){return g&&function(S,O){try{return g.call(a,S,O)}catch(R){if(!b(R))throw R}}}function y(g){return g&&function(S,O,R,W){return g.call(a,S,O,R,function(Y){b(Y)&&(Y=null),W&&W.apply(this,arguments)})}}function p(g){return g&&function(S,O,R){try{return g.call(a,S,O,R)}catch(W){if(!b(W))throw W}}}function m(g){return g&&function(S,O,R){typeof O=="function"&&(R=O,O=null);function W(Y,z){z&&(z.uid<0&&(z.uid+=4294967296),z.gid<0&&(z.gid+=4294967296)),R&&R.apply(this,arguments)}return O?g.call(a,S,O,W):g.call(a,S,W)}}function _(g){return g&&function(S,O){var R=O?g.call(a,S,O):g.call(a,S);return R&&(R.uid<0&&(R.uid+=4294967296),R.gid<0&&(R.gid+=4294967296)),R}}function b(g){if(!g||g.code==="ENOSYS")return!0;var S=!process.getuid||process.getuid()!==0;return!!(S&&(g.code==="EINVAL"||g.code==="EPERM"))}}}),hp=oe((e,t)=>{var r=require("stream").Stream;t.exports=n;function n(i){return{ReadStream:o,WriteStream:s};function o(u,a){if(!(this instanceof o))return new o(u,a);r.call(this);var c=this;this.path=u,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,a=a||{};for(var f=Object.keys(a),d=0,w=f.length;d<w;d++){var y=f[d];this[y]=a[y]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){c._read()});return}i.open(this.path,this.flags,this.mode,function(p,m){if(p){c.emit("error",p),c.readable=!1;return}c.fd=m,c.emit("open",m),c._read()})}function s(u,a){if(!(this instanceof s))return new s(u,a);r.call(this),this.path=u,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,a=a||{};for(var c=Object.keys(a),f=0,d=c.length;f<d;f++){var w=c[f];this[w]=a[w]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=i.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}),pp=oe((e,t)=>{"use strict";t.exports=n;var r=Object.getPrototypeOf||function(i){return i.__proto__};function n(i){if(i===null||typeof i!="object")return i;if(i instanceof Object)var o={__proto__:r(i)};else var o=Object.create(null);return Object.getOwnPropertyNames(i).forEach(function(s){Object.defineProperty(o,s,Object.getOwnPropertyDescriptor(i,s))}),o}}),Ie=oe((e,t)=>{var r=require("fs"),n=fp(),i=hp(),o=pp(),s=require("util"),u,a;typeof Symbol=="function"&&typeof Symbol.for=="function"?(u=Symbol.for("graceful-fs.queue"),a=Symbol.for("graceful-fs.previous")):(u="___graceful-fs.queue",a="___graceful-fs.previous");function c(){}function f(g,S){Object.defineProperty(g,u,{get:function(){return S}})}var d=c;s.debuglog?d=s.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(d=function(){var g=s.format.apply(s,arguments);g="GFS4: "+g.split(/\n/).join(`
GFS4: `),console.error(g)}),r[u]||(w=global[u]||[],f(r,w),r.close=function(g){function S(O,R){return g.call(r,O,function(W){W||_(),typeof R=="function"&&R.apply(this,arguments)})}return Object.defineProperty(S,a,{value:g}),S}(r.close),r.closeSync=function(g){function S(O){g.apply(r,arguments),_()}return Object.defineProperty(S,a,{value:g}),S}(r.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){d(r[u]),require("assert").equal(r[u].length,0)}));var w;global[u]||f(global,r[u]),t.exports=y(o(r)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!r.__patched&&(t.exports=y(r),r.__patched=!0);function y(g){n(g),g.gracefulify=y,g.createReadStream=ne,g.createWriteStream=be;var S=g.readFile;g.readFile=O;function O(J,re,ie){return typeof re=="function"&&(ie=re,re=null),_e(J,re,ie);function _e(we,he,de,me){return S(we,he,function(se){se&&(se.code==="EMFILE"||se.code==="ENFILE")?p([_e,[we,he,de],se,me||Date.now(),Date.now()]):typeof de=="function"&&de.apply(this,arguments)})}}var R=g.writeFile;g.writeFile=W;function W(J,re,ie,_e){return typeof ie=="function"&&(_e=ie,ie=null),we(J,re,ie,_e);function we(he,de,me,se,ke){return R(he,de,me,function(pe){pe&&(pe.code==="EMFILE"||pe.code==="ENFILE")?p([we,[he,de,me,se],pe,ke||Date.now(),Date.now()]):typeof se=="function"&&se.apply(this,arguments)})}}var Y=g.appendFile;Y&&(g.appendFile=z);function z(J,re,ie,_e){return typeof ie=="function"&&(_e=ie,ie=null),we(J,re,ie,_e);function we(he,de,me,se,ke){return Y(he,de,me,function(pe){pe&&(pe.code==="EMFILE"||pe.code==="ENFILE")?p([we,[he,de,me,se],pe,ke||Date.now(),Date.now()]):typeof se=="function"&&se.apply(this,arguments)})}}var D=g.copyFile;D&&(g.copyFile=B);function B(J,re,ie,_e){return typeof ie=="function"&&(_e=ie,ie=0),we(J,re,ie,_e);function we(he,de,me,se,ke){return D(he,de,me,function(pe){pe&&(pe.code==="EMFILE"||pe.code==="ENFILE")?p([we,[he,de,me,se],pe,ke||Date.now(),Date.now()]):typeof se=="function"&&se.apply(this,arguments)})}}var $=g.readdir;g.readdir=F;var C=/^v[0-5]\./;function F(J,re,ie){typeof re=="function"&&(ie=re,re=null);var _e=C.test(process.version)?function(he,de,me,se){return $(he,we(he,de,me,se))}:function(he,de,me,se){return $(he,de,we(he,de,me,se))};return _e(J,re,ie);function we(he,de,me,se){return function(ke,pe){ke&&(ke.code==="EMFILE"||ke.code==="ENFILE")?p([_e,[he,de,me],ke,se||Date.now(),Date.now()]):(pe&&pe.sort&&pe.sort(),typeof me=="function"&&me.call(this,ke,pe))}}}if(process.version.substr(0,4)==="v0.8"){var L=i(g);j=L.ReadStream,H=L.WriteStream}var I=g.ReadStream;I&&(j.prototype=Object.create(I.prototype),j.prototype.open=K);var E=g.WriteStream;E&&(H.prototype=Object.create(E.prototype),H.prototype.open=Z),Object.defineProperty(g,"ReadStream",{get:function(){return j},set:function(J){j=J},enumerable:!0,configurable:!0}),Object.defineProperty(g,"WriteStream",{get:function(){return H},set:function(J){H=J},enumerable:!0,configurable:!0});var T=j;Object.defineProperty(g,"FileReadStream",{get:function(){return T},set:function(J){T=J},enumerable:!0,configurable:!0});var A=H;Object.defineProperty(g,"FileWriteStream",{get:function(){return A},set:function(J){A=J},enumerable:!0,configurable:!0});function j(J,re){return this instanceof j?(I.apply(this,arguments),this):j.apply(Object.create(j.prototype),arguments)}function K(){var J=this;ve(J.path,J.flags,J.mode,function(re,ie){re?(J.autoClose&&J.destroy(),J.emit("error",re)):(J.fd=ie,J.emit("open",ie),J.read())})}function H(J,re){return this instanceof H?(E.apply(this,arguments),this):H.apply(Object.create(H.prototype),arguments)}function Z(){var J=this;ve(J.path,J.flags,J.mode,function(re,ie){re?(J.destroy(),J.emit("error",re)):(J.fd=ie,J.emit("open",ie))})}function ne(J,re){return new g.ReadStream(J,re)}function be(J,re){return new g.WriteStream(J,re)}var Se=g.open;g.open=ve;function ve(J,re,ie,_e){return typeof ie=="function"&&(_e=ie,ie=null),we(J,re,ie,_e);function we(he,de,me,se,ke){return Se(he,de,me,function(pe,ze){pe&&(pe.code==="EMFILE"||pe.code==="ENFILE")?p([we,[he,de,me,se],pe,ke||Date.now(),Date.now()]):typeof se=="function"&&se.apply(this,arguments)})}}return g}function p(g){d("ENQUEUE",g[0].name,g[1]),r[u].push(g),b()}var m;function _(){for(var g=Date.now(),S=0;S<r[u].length;++S)r[u][S].length>2&&(r[u][S][3]=g,r[u][S][4]=g);b()}function b(){if(clearTimeout(m),m=void 0,r[u].length!==0){var g=r[u].shift(),S=g[0],O=g[1],R=g[2],W=g[3],Y=g[4];if(W===void 0)d("RETRY",S.name,O),S.apply(null,O);else if(Date.now()-W>=6e4){d("TIMEOUT",S.name,O);var z=O.pop();typeof z=="function"&&z.call(null,R)}else{var D=Date.now()-Y,B=Math.max(Y-W,1),$=Math.min(B*1.2,100);D>=$?(d("RETRY",S.name,O),S.apply(null,O.concat([W]))):r[u].push(g)}m===void 0&&(m=setTimeout(b,0))}}}),Mt=oe(e=>{"use strict";var t=Pe().fromCallback,r=Ie(),n=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(i=>typeof r[i]=="function");Object.assign(e,r),n.forEach(i=>{e[i]=t(r[i])}),e.exists=function(i,o){return typeof o=="function"?r.exists(i,o):new Promise(s=>r.exists(i,s))},e.read=function(i,o,s,u,a,c){return typeof c=="function"?r.read(i,o,s,u,a,c):new Promise((f,d)=>{r.read(i,o,s,u,a,(w,y,p)=>{if(w)return d(w);f({bytesRead:y,buffer:p})})})},e.write=function(i,o,...s){return typeof s[s.length-1]=="function"?r.write(i,o,...s):new Promise((u,a)=>{r.write(i,o,...s,(c,f,d)=>{if(c)return a(c);u({bytesWritten:f,buffer:d})})})},typeof r.writev=="function"&&(e.writev=function(i,o,...s){return typeof s[s.length-1]=="function"?r.writev(i,o,...s):new Promise((u,a)=>{r.writev(i,o,...s,(c,f,d)=>{if(c)return a(c);u({bytesWritten:f,buffers:d})})})}),typeof r.realpath.native=="function"?e.realpath.native=t(r.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")}),dp=oe((e,t)=>{"use strict";var r=require("path");t.exports.checkPath=function(n){if(process.platform==="win32"&&/[<>:"|?*]/.test(n.replace(r.parse(n).root,""))){let i=new Error(`Path contains invalid characters: ${n}`);throw i.code="EINVAL",i}}}),yp=oe((e,t)=>{"use strict";var r=Mt(),{checkPath:n}=dp(),i=o=>typeof o=="number"?o:{...{mode:511},...o}.mode;t.exports.makeDir=async(o,s)=>(n(o),r.mkdir(o,{mode:i(s),recursive:!0})),t.exports.makeDirSync=(o,s)=>(n(o),r.mkdirSync(o,{mode:i(s),recursive:!0}))}),Ye=oe((e,t)=>{"use strict";var r=Pe().fromPromise,{makeDir:n,makeDirSync:i}=yp(),o=r(n);t.exports={mkdirs:o,mkdirsSync:i,mkdirp:o,mkdirpSync:i,ensureDir:o,ensureDirSync:i}}),bt=oe((e,t)=>{"use strict";var r=Pe().fromPromise,n=Mt();function i(o){return n.access(o).then(()=>!0).catch(()=>!1)}t.exports={pathExists:r(i),pathExistsSync:n.existsSync}}),Ka=oe((e,t)=>{"use strict";var r=Ie();function n(o,s,u,a){r.open(o,"r+",(c,f)=>{if(c)return a(c);r.futimes(f,s,u,d=>{r.close(f,w=>{a&&a(d||w)})})})}function i(o,s,u){let a=r.openSync(o,"r+");return r.futimesSync(a,s,u),r.closeSync(a)}t.exports={utimesMillis:n,utimesMillisSync:i}}),Pt=oe((e,t)=>{"use strict";var r=Mt(),n=require("path"),i=require("util");function o(p,m,_){let b=_.dereference?g=>r.stat(g,{bigint:!0}):g=>r.lstat(g,{bigint:!0});return Promise.all([b(p),b(m).catch(g=>{if(g.code==="ENOENT")return null;throw g})]).then(([g,S])=>({srcStat:g,destStat:S}))}function s(p,m,_){let b,g=_.dereference?O=>r.statSync(O,{bigint:!0}):O=>r.lstatSync(O,{bigint:!0}),S=g(p);try{b=g(m)}catch(O){if(O.code==="ENOENT")return{srcStat:S,destStat:null};throw O}return{srcStat:S,destStat:b}}function u(p,m,_,b,g){i.callbackify(o)(p,m,b,(S,O)=>{if(S)return g(S);let{srcStat:R,destStat:W}=O;if(W){if(d(R,W)){let Y=n.basename(p),z=n.basename(m);return _==="move"&&Y!==z&&Y.toLowerCase()===z.toLowerCase()?g(null,{srcStat:R,destStat:W,isChangingCase:!0}):g(new Error("Source and destination must not be the same."))}if(R.isDirectory()&&!W.isDirectory())return g(new Error(`Cannot overwrite non-directory '${m}' with directory '${p}'.`));if(!R.isDirectory()&&W.isDirectory())return g(new Error(`Cannot overwrite directory '${m}' with non-directory '${p}'.`))}return R.isDirectory()&&w(p,m)?g(new Error(y(p,m,_))):g(null,{srcStat:R,destStat:W})})}function a(p,m,_,b){let{srcStat:g,destStat:S}=s(p,m,b);if(S){if(d(g,S)){let O=n.basename(p),R=n.basename(m);if(_==="move"&&O!==R&&O.toLowerCase()===R.toLowerCase())return{srcStat:g,destStat:S,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(g.isDirectory()&&!S.isDirectory())throw new Error(`Cannot overwrite non-directory '${m}' with directory '${p}'.`);if(!g.isDirectory()&&S.isDirectory())throw new Error(`Cannot overwrite directory '${m}' with non-directory '${p}'.`)}if(g.isDirectory()&&w(p,m))throw new Error(y(p,m,_));return{srcStat:g,destStat:S}}function c(p,m,_,b,g){let S=n.resolve(n.dirname(p)),O=n.resolve(n.dirname(_));if(O===S||O===n.parse(O).root)return g();r.stat(O,{bigint:!0},(R,W)=>R?R.code==="ENOENT"?g():g(R):d(m,W)?g(new Error(y(p,_,b))):c(p,m,O,b,g))}function f(p,m,_,b){let g=n.resolve(n.dirname(p)),S=n.resolve(n.dirname(_));if(S===g||S===n.parse(S).root)return;let O;try{O=r.statSync(S,{bigint:!0})}catch(R){if(R.code==="ENOENT")return;throw R}if(d(m,O))throw new Error(y(p,_,b));return f(p,m,S,b)}function d(p,m){return m.ino&&m.dev&&m.ino===p.ino&&m.dev===p.dev}function w(p,m){let _=n.resolve(p).split(n.sep).filter(g=>g),b=n.resolve(m).split(n.sep).filter(g=>g);return _.reduce((g,S,O)=>g&&b[O]===S,!0)}function y(p,m,_){return`Cannot ${_} '${p}' to a subdirectory of itself, '${m}'.`}t.exports={checkPaths:u,checkPathsSync:a,checkParentPaths:c,checkParentPathsSync:f,isSrcSubdir:w,areIdentical:d}}),vp=oe((e,t)=>{"use strict";var r=Ie(),n=require("path"),i=Ye().mkdirs,o=bt().pathExists,s=Ka().utimesMillis,u=Pt();function a(F,L,I,E){typeof I=="function"&&!E?(E=I,I={}):typeof I=="function"&&(I={filter:I}),E=E||function(){},I=I||{},I.clobber="clobber"in I?!!I.clobber:!0,I.overwrite="overwrite"in I?!!I.overwrite:I.clobber,I.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001"),u.checkPaths(F,L,"copy",I,(T,A)=>{if(T)return E(T);let{srcStat:j,destStat:K}=A;u.checkParentPaths(F,j,L,"copy",H=>H?E(H):I.filter?f(c,K,F,L,I,E):c(K,F,L,I,E))})}function c(F,L,I,E,T){let A=n.dirname(I);o(A,(j,K)=>{if(j)return T(j);if(K)return w(F,L,I,E,T);i(A,H=>H?T(H):w(F,L,I,E,T))})}function f(F,L,I,E,T,A){Promise.resolve(T.filter(I,E)).then(j=>j?F(L,I,E,T,A):A(),j=>A(j))}function d(F,L,I,E,T){return E.filter?f(w,F,L,I,E,T):w(F,L,I,E,T)}function w(F,L,I,E,T){(E.dereference?r.stat:r.lstat)(L,(A,j)=>A?T(A):j.isDirectory()?W(j,F,L,I,E,T):j.isFile()||j.isCharacterDevice()||j.isBlockDevice()?y(j,F,L,I,E,T):j.isSymbolicLink()?$(F,L,I,E,T):j.isSocket()?T(new Error(`Cannot copy a socket file: ${L}`)):j.isFIFO()?T(new Error(`Cannot copy a FIFO pipe: ${L}`)):T(new Error(`Unknown file: ${L}`)))}function y(F,L,I,E,T,A){return L?p(F,I,E,T,A):m(F,I,E,T,A)}function p(F,L,I,E,T){if(E.overwrite)r.unlink(I,A=>A?T(A):m(F,L,I,E,T));else return E.errorOnExist?T(new Error(`'${I}' already exists`)):T()}function m(F,L,I,E,T){r.copyFile(L,I,A=>A?T(A):E.preserveTimestamps?_(F.mode,L,I,T):O(I,F.mode,T))}function _(F,L,I,E){return b(F)?g(I,F,T=>T?E(T):S(F,L,I,E)):S(F,L,I,E)}function b(F){return(F&128)===0}function g(F,L,I){return O(F,L|128,I)}function S(F,L,I,E){R(L,I,T=>T?E(T):O(I,F,E))}function O(F,L,I){return r.chmod(F,L,I)}function R(F,L,I){r.stat(F,(E,T)=>E?I(E):s(L,T.atime,T.mtime,I))}function W(F,L,I,E,T,A){return L?z(I,E,T,A):Y(F.mode,I,E,T,A)}function Y(F,L,I,E,T){r.mkdir(I,A=>{if(A)return T(A);z(L,I,E,j=>j?T(j):O(I,F,T))})}function z(F,L,I,E){r.readdir(F,(T,A)=>T?E(T):D(A,F,L,I,E))}function D(F,L,I,E,T){let A=F.pop();return A?B(F,A,L,I,E,T):T()}function B(F,L,I,E,T,A){let j=n.join(I,L),K=n.join(E,L);u.checkPaths(j,K,"copy",T,(H,Z)=>{if(H)return A(H);let{destStat:ne}=Z;d(ne,j,K,T,be=>be?A(be):D(F,I,E,T,A))})}function $(F,L,I,E,T){r.readlink(L,(A,j)=>{if(A)return T(A);if(E.dereference&&(j=n.resolve(process.cwd(),j)),F)r.readlink(I,(K,H)=>K?K.code==="EINVAL"||K.code==="UNKNOWN"?r.symlink(j,I,T):T(K):(E.dereference&&(H=n.resolve(process.cwd(),H)),u.isSrcSubdir(j,H)?T(new Error(`Cannot copy '${j}' to a subdirectory of itself, '${H}'.`)):F.isDirectory()&&u.isSrcSubdir(H,j)?T(new Error(`Cannot overwrite '${H}' with '${j}'.`)):C(j,I,T)));else return r.symlink(j,I,T)})}function C(F,L,I){r.unlink(L,E=>E?I(E):r.symlink(F,L,I))}t.exports=a}),mp=oe((e,t)=>{"use strict";var r=Ie(),n=require("path"),i=Ye().mkdirsSync,o=Ka().utimesMillisSync,s=Pt();function u(D,B,$){typeof $=="function"&&($={filter:$}),$=$||{},$.clobber="clobber"in $?!!$.clobber:!0,$.overwrite="overwrite"in $?!!$.overwrite:$.clobber,$.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");let{srcStat:C,destStat:F}=s.checkPathsSync(D,B,"copy",$);return s.checkParentPathsSync(D,C,B,"copy"),a(F,D,B,$)}function a(D,B,$,C){if(C.filter&&!C.filter(B,$))return;let F=n.dirname($);return r.existsSync(F)||i(F),f(D,B,$,C)}function c(D,B,$,C){if(!(C.filter&&!C.filter(B,$)))return f(D,B,$,C)}function f(D,B,$,C){let F=(C.dereference?r.statSync:r.lstatSync)(B);if(F.isDirectory())return S(F,D,B,$,C);if(F.isFile()||F.isCharacterDevice()||F.isBlockDevice())return d(F,D,B,$,C);if(F.isSymbolicLink())return Y(D,B,$,C);throw F.isSocket()?new Error(`Cannot copy a socket file: ${B}`):F.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${B}`):new Error(`Unknown file: ${B}`)}function d(D,B,$,C,F){return B?w(D,$,C,F):y(D,$,C,F)}function w(D,B,$,C){if(C.overwrite)return r.unlinkSync($),y(D,B,$,C);if(C.errorOnExist)throw new Error(`'${$}' already exists`)}function y(D,B,$,C){return r.copyFileSync(B,$),C.preserveTimestamps&&p(D.mode,B,$),b($,D.mode)}function p(D,B,$){return m(D)&&_($,D),g(B,$)}function m(D){return(D&128)===0}function _(D,B){return b(D,B|128)}function b(D,B){return r.chmodSync(D,B)}function g(D,B){let $=r.statSync(D);return o(B,$.atime,$.mtime)}function S(D,B,$,C,F){return B?R($,C,F):O(D.mode,$,C,F)}function O(D,B,$,C){return r.mkdirSync($),R(B,$,C),b($,D)}function R(D,B,$){r.readdirSync(D).forEach(C=>W(C,D,B,$))}function W(D,B,$,C){let F=n.join(B,D),L=n.join($,D),{destStat:I}=s.checkPathsSync(F,L,"copy",C);return c(I,F,L,C)}function Y(D,B,$,C){let F=r.readlinkSync(B);if(C.dereference&&(F=n.resolve(process.cwd(),F)),D){let L;try{L=r.readlinkSync($)}catch(I){if(I.code==="EINVAL"||I.code==="UNKNOWN")return r.symlinkSync(F,$);throw I}if(C.dereference&&(L=n.resolve(process.cwd(),L)),s.isSrcSubdir(F,L))throw new Error(`Cannot copy '${F}' to a subdirectory of itself, '${L}'.`);if(r.statSync($).isDirectory()&&s.isSrcSubdir(L,F))throw new Error(`Cannot overwrite '${L}' with '${F}'.`);return z(F,$)}else return r.symlinkSync(F,$)}function z(D,B){return r.unlinkSync(B),r.symlinkSync(D,B)}t.exports=u}),oi=oe((e,t)=>{"use strict";var r=Pe().fromCallback;t.exports={copy:r(vp()),copySync:mp()}}),gp=oe((e,t)=>{"use strict";var r=Ie(),n=require("path"),i=require("assert"),o=process.platform==="win32";function s(_){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(b=>{_[b]=_[b]||r[b],b=b+"Sync",_[b]=_[b]||r[b]}),_.maxBusyTries=_.maxBusyTries||3}function u(_,b,g){let S=0;typeof b=="function"&&(g=b,b={}),i(_,"rimraf: missing path"),i.strictEqual(typeof _,"string","rimraf: path should be a string"),i.strictEqual(typeof g,"function","rimraf: callback function required"),i(b,"rimraf: invalid options argument provided"),i.strictEqual(typeof b,"object","rimraf: options should be object"),s(b),a(_,b,function O(R){if(R){if((R.code==="EBUSY"||R.code==="ENOTEMPTY"||R.code==="EPERM")&&S<b.maxBusyTries){S++;let W=S*100;return setTimeout(()=>a(_,b,O),W)}R.code==="ENOENT"&&(R=null)}g(R)})}function a(_,b,g){i(_),i(b),i(typeof g=="function"),b.lstat(_,(S,O)=>{if(S&&S.code==="ENOENT")return g(null);if(S&&S.code==="EPERM"&&o)return c(_,b,S,g);if(O&&O.isDirectory())return d(_,b,S,g);b.unlink(_,R=>{if(R){if(R.code==="ENOENT")return g(null);if(R.code==="EPERM")return o?c(_,b,R,g):d(_,b,R,g);if(R.code==="EISDIR")return d(_,b,R,g)}return g(R)})})}function c(_,b,g,S){i(_),i(b),i(typeof S=="function"),b.chmod(_,438,O=>{O?S(O.code==="ENOENT"?null:g):b.stat(_,(R,W)=>{R?S(R.code==="ENOENT"?null:g):W.isDirectory()?d(_,b,g,S):b.unlink(_,S)})})}function f(_,b,g){let S;i(_),i(b);try{b.chmodSync(_,438)}catch(O){if(O.code==="ENOENT")return;throw g}try{S=b.statSync(_)}catch(O){if(O.code==="ENOENT")return;throw g}S.isDirectory()?p(_,b,g):b.unlinkSync(_)}function d(_,b,g,S){i(_),i(b),i(typeof S=="function"),b.rmdir(_,O=>{O&&(O.code==="ENOTEMPTY"||O.code==="EEXIST"||O.code==="EPERM")?w(_,b,S):O&&O.code==="ENOTDIR"?S(g):S(O)})}function w(_,b,g){i(_),i(b),i(typeof g=="function"),b.readdir(_,(S,O)=>{if(S)return g(S);let R=O.length,W;if(R===0)return b.rmdir(_,g);O.forEach(Y=>{u(n.join(_,Y),b,z=>{if(!W){if(z)return g(W=z);--R===0&&b.rmdir(_,g)}})})})}function y(_,b){let g;b=b||{},s(b),i(_,"rimraf: missing path"),i.strictEqual(typeof _,"string","rimraf: path should be a string"),i(b,"rimraf: missing options"),i.strictEqual(typeof b,"object","rimraf: options should be object");try{g=b.lstatSync(_)}catch(S){if(S.code==="ENOENT")return;S.code==="EPERM"&&o&&f(_,b,S)}try{g&&g.isDirectory()?p(_,b,null):b.unlinkSync(_)}catch(S){if(S.code==="ENOENT")return;if(S.code==="EPERM")return o?f(_,b,S):p(_,b,S);if(S.code!=="EISDIR")throw S;p(_,b,S)}}function p(_,b,g){i(_),i(b);try{b.rmdirSync(_)}catch(S){if(S.code==="ENOTDIR")throw g;if(S.code==="ENOTEMPTY"||S.code==="EEXIST"||S.code==="EPERM")m(_,b);else if(S.code!=="ENOENT")throw S}}function m(_,b){if(i(_),i(b),b.readdirSync(_).forEach(g=>y(n.join(_,g),b)),o){let g=Date.now();do try{return b.rmdirSync(_,b)}catch{}while(Date.now()-g<500)}else return b.rmdirSync(_,b)}t.exports=u,u.sync=y}),tn=oe((e,t)=>{"use strict";var r=Ie(),n=Pe().fromCallback,i=gp();function o(u,a){if(r.rm)return r.rm(u,{recursive:!0,force:!0},a);i(u,a)}function s(u){if(r.rmSync)return r.rmSync(u,{recursive:!0,force:!0});i.sync(u)}t.exports={remove:n(o),removeSync:s}}),_p=oe((e,t)=>{"use strict";var r=Pe().fromPromise,n=Mt(),i=require("path"),o=Ye(),s=tn(),u=r(async function(c){let f;try{f=await n.readdir(c)}catch{return o.mkdirs(c)}return Promise.all(f.map(d=>s.remove(i.join(c,d))))});function a(c){let f;try{f=n.readdirSync(c)}catch{return o.mkdirsSync(c)}f.forEach(d=>{d=i.join(c,d),s.removeSync(d)})}t.exports={emptyDirSync:a,emptydirSync:a,emptyDir:u,emptydir:u}}),wp=oe((e,t)=>{"use strict";var r=Pe().fromCallback,n=require("path"),i=Ie(),o=Ye();function s(a,c){function f(){i.writeFile(a,"",d=>{if(d)return c(d);c()})}i.stat(a,(d,w)=>{if(!d&&w.isFile())return c();let y=n.dirname(a);i.stat(y,(p,m)=>{if(p)return p.code==="ENOENT"?o.mkdirs(y,_=>{if(_)return c(_);f()}):c(p);m.isDirectory()?f():i.readdir(y,_=>{if(_)return c(_)})})})}function u(a){let c;try{c=i.statSync(a)}catch{}if(c&&c.isFile())return;let f=n.dirname(a);try{i.statSync(f).isDirectory()||i.readdirSync(f)}catch(d){if(d&&d.code==="ENOENT")o.mkdirsSync(f);else throw d}i.writeFileSync(a,"")}t.exports={createFile:r(s),createFileSync:u}}),bp=oe((e,t)=>{"use strict";var r=Pe().fromCallback,n=require("path"),i=Ie(),o=Ye(),s=bt().pathExists,{areIdentical:u}=Pt();function a(f,d,w){function y(p,m){i.link(p,m,_=>{if(_)return w(_);w(null)})}i.lstat(d,(p,m)=>{i.lstat(f,(_,b)=>{if(_)return _.message=_.message.replace("lstat","ensureLink"),w(_);if(m&&u(b,m))return w(null);let g=n.dirname(d);s(g,(S,O)=>{if(S)return w(S);if(O)return y(f,d);o.mkdirs(g,R=>{if(R)return w(R);y(f,d)})})})})}function c(f,d){let w;try{w=i.lstatSync(d)}catch{}try{let p=i.lstatSync(f);if(w&&u(p,w))return}catch(p){throw p.message=p.message.replace("lstat","ensureLink"),p}let y=n.dirname(d);return i.existsSync(y)||o.mkdirsSync(y),i.linkSync(f,d)}t.exports={createLink:r(a),createLinkSync:c}}),Ep=oe((e,t)=>{"use strict";var r=require("path"),n=Ie(),i=bt().pathExists;function o(u,a,c){if(r.isAbsolute(u))return n.lstat(u,f=>f?(f.message=f.message.replace("lstat","ensureSymlink"),c(f)):c(null,{toCwd:u,toDst:u}));{let f=r.dirname(a),d=r.join(f,u);return i(d,(w,y)=>w?c(w):y?c(null,{toCwd:d,toDst:u}):n.lstat(u,p=>p?(p.message=p.message.replace("lstat","ensureSymlink"),c(p)):c(null,{toCwd:u,toDst:r.relative(f,u)})))}}function s(u,a){let c;if(r.isAbsolute(u)){if(c=n.existsSync(u),!c)throw new Error("absolute srcpath does not exist");return{toCwd:u,toDst:u}}else{let f=r.dirname(a),d=r.join(f,u);if(c=n.existsSync(d),c)return{toCwd:d,toDst:u};if(c=n.existsSync(u),!c)throw new Error("relative srcpath does not exist");return{toCwd:u,toDst:r.relative(f,u)}}}t.exports={symlinkPaths:o,symlinkPathsSync:s}}),Sp=oe((e,t)=>{"use strict";var r=Ie();function n(o,s,u){if(u=typeof s=="function"?s:u,s=typeof s=="function"?!1:s,s)return u(null,s);r.lstat(o,(a,c)=>{if(a)return u(null,"file");s=c&&c.isDirectory()?"dir":"file",u(null,s)})}function i(o,s){let u;if(s)return s;try{u=r.lstatSync(o)}catch{return"file"}return u&&u.isDirectory()?"dir":"file"}t.exports={symlinkType:n,symlinkTypeSync:i}}),kp=oe((e,t)=>{"use strict";var r=Pe().fromCallback,n=require("path"),i=Mt(),o=Ye(),s=o.mkdirs,u=o.mkdirsSync,a=Ep(),c=a.symlinkPaths,f=a.symlinkPathsSync,d=Sp(),w=d.symlinkType,y=d.symlinkTypeSync,p=bt().pathExists,{areIdentical:m}=Pt();function _(S,O,R,W){W=typeof R=="function"?R:W,R=typeof R=="function"?!1:R,i.lstat(O,(Y,z)=>{!Y&&z.isSymbolicLink()?Promise.all([i.stat(S),i.stat(O)]).then(([D,B])=>{if(m(D,B))return W(null);b(S,O,R,W)}):b(S,O,R,W)})}function b(S,O,R,W){c(S,O,(Y,z)=>{if(Y)return W(Y);S=z.toDst,w(z.toCwd,R,(D,B)=>{if(D)return W(D);let $=n.dirname(O);p($,(C,F)=>{if(C)return W(C);if(F)return i.symlink(S,O,B,W);s($,L=>{if(L)return W(L);i.symlink(S,O,B,W)})})})})}function g(S,O,R){let W;try{W=i.lstatSync(O)}catch{}if(W&&W.isSymbolicLink()){let D=i.statSync(S),B=i.statSync(O);if(m(D,B))return}let Y=f(S,O);S=Y.toDst,R=y(Y.toCwd,R);let z=n.dirname(O);return i.existsSync(z)||u(z),i.symlinkSync(S,O,R)}t.exports={createSymlink:r(_),createSymlinkSync:g}}),Tp=oe((e,t)=>{"use strict";var{createFile:r,createFileSync:n}=wp(),{createLink:i,createLinkSync:o}=bp(),{createSymlink:s,createSymlinkSync:u}=kp();t.exports={createFile:r,createFileSync:n,ensureFile:r,ensureFileSync:n,createLink:i,createLinkSync:o,ensureLink:i,ensureLinkSync:o,createSymlink:s,createSymlinkSync:u,ensureSymlink:s,ensureSymlinkSync:u}}),ai=oe((e,t)=>{function r(i,{EOL:o=`
`,finalEOL:s=!0,replacer:u=null,spaces:a}={}){let c=s?o:"";return JSON.stringify(i,u,a).replace(/\n/g,o)+c}function n(i){return Buffer.isBuffer(i)&&(i=i.toString("utf8")),i.replace(/^\uFEFF/,"")}t.exports={stringify:r,stripBom:n}}),Op=oe((e,t)=>{var r;try{r=Ie()}catch{r=require("fs")}var n=Pe(),{stringify:i,stripBom:o}=ai();async function s(y,p={}){typeof p=="string"&&(p={encoding:p});let m=p.fs||r,_="throws"in p?p.throws:!0,b=await n.fromCallback(m.readFile)(y,p);b=o(b);let g;try{g=JSON.parse(b,p?p.reviver:null)}catch(S){if(_)throw S.message=`${y}: ${S.message}`,S;return null}return g}var u=n.fromPromise(s);function a(y,p={}){typeof p=="string"&&(p={encoding:p});let m=p.fs||r,_="throws"in p?p.throws:!0;try{let b=m.readFileSync(y,p);return b=o(b),JSON.parse(b,p.reviver)}catch(b){if(_)throw b.message=`${y}: ${b.message}`,b;return null}}async function c(y,p,m={}){let _=m.fs||r,b=i(p,m);await n.fromCallback(_.writeFile)(y,b,m)}var f=n.fromPromise(c);function d(y,p,m={}){let _=m.fs||r,b=i(p,m);return _.writeFileSync(y,b,m)}var w={readFile:u,readFileSync:a,writeFile:f,writeFileSync:d};t.exports=w}),xp=oe((e,t)=>{"use strict";var r=Op();t.exports={readJson:r.readFile,readJsonSync:r.readFileSync,writeJson:r.writeFile,writeJsonSync:r.writeFileSync}}),si=oe((e,t)=>{"use strict";var r=Pe().fromCallback,n=Ie(),i=require("path"),o=Ye(),s=bt().pathExists;function u(c,f,d,w){typeof d=="function"&&(w=d,d="utf8");let y=i.dirname(c);s(y,(p,m)=>{if(p)return w(p);if(m)return n.writeFile(c,f,d,w);o.mkdirs(y,_=>{if(_)return w(_);n.writeFile(c,f,d,w)})})}function a(c,...f){let d=i.dirname(c);if(n.existsSync(d))return n.writeFileSync(c,...f);o.mkdirsSync(d),n.writeFileSync(c,...f)}t.exports={outputFile:r(u),outputFileSync:a}}),Cp=oe((e,t)=>{"use strict";var{stringify:r}=ai(),{outputFile:n}=si();async function i(o,s,u={}){let a=r(s,u);await n(o,a,u)}t.exports=i}),Fp=oe((e,t)=>{"use strict";var{stringify:r}=ai(),{outputFileSync:n}=si();function i(o,s,u){let a=r(s,u);n(o,a,u)}t.exports=i}),Rp=oe((e,t)=>{"use strict";var r=Pe().fromPromise,n=xp();n.outputJson=r(Cp()),n.outputJsonSync=Fp(),n.outputJSON=n.outputJson,n.outputJSONSync=n.outputJsonSync,n.writeJSON=n.writeJson,n.writeJSONSync=n.writeJsonSync,n.readJSON=n.readJson,n.readJSONSync=n.readJsonSync,t.exports=n}),qp=oe((e,t)=>{"use strict";var r=Ie(),n=require("path"),i=oi().copy,o=tn().remove,s=Ye().mkdirp,u=bt().pathExists,a=Pt();function c(p,m,_,b){typeof _=="function"&&(b=_,_={}),_=_||{};let g=_.overwrite||_.clobber||!1;a.checkPaths(p,m,"move",_,(S,O)=>{if(S)return b(S);let{srcStat:R,isChangingCase:W=!1}=O;a.checkParentPaths(p,R,m,"move",Y=>{if(Y)return b(Y);if(f(m))return d(p,m,g,W,b);s(n.dirname(m),z=>z?b(z):d(p,m,g,W,b))})})}function f(p){let m=n.dirname(p);return n.parse(m).root===m}function d(p,m,_,b,g){if(b)return w(p,m,_,g);if(_)return o(m,S=>S?g(S):w(p,m,_,g));u(m,(S,O)=>S?g(S):O?g(new Error("dest already exists.")):w(p,m,_,g))}function w(p,m,_,b){r.rename(p,m,g=>g?g.code!=="EXDEV"?b(g):y(p,m,_,b):b())}function y(p,m,_,b){i(p,m,{overwrite:_,errorOnExist:!0},g=>g?b(g):o(p,b))}t.exports=c}),Dp=oe((e,t)=>{"use strict";var r=Ie(),n=require("path"),i=oi().copySync,o=tn().removeSync,s=Ye().mkdirpSync,u=Pt();function a(y,p,m){m=m||{};let _=m.overwrite||m.clobber||!1,{srcStat:b,isChangingCase:g=!1}=u.checkPathsSync(y,p,"move",m);return u.checkParentPathsSync(y,b,p,"move"),c(p)||s(n.dirname(p)),f(y,p,_,g)}function c(y){let p=n.dirname(y);return n.parse(p).root===p}function f(y,p,m,_){if(_)return d(y,p,m);if(m)return o(p),d(y,p,m);if(r.existsSync(p))throw new Error("dest already exists.");return d(y,p,m)}function d(y,p,m){try{r.renameSync(y,p)}catch(_){if(_.code!=="EXDEV")throw _;return w(y,p,m)}}function w(y,p,m){return i(y,p,{overwrite:m,errorOnExist:!0}),o(y)}t.exports=a}),Ap=oe((e,t)=>{"use strict";var r=Pe().fromCallback;t.exports={move:r(qp()),moveSync:Dp()}}),Ya=oe((e,t)=>{"use strict";t.exports={...Mt(),...oi(),..._p(),...Tp(),...Rp(),...Ye(),...Ap(),...si(),...bt(),...tn()}}),Qa={};cp(Qa,{enqueue:()=>Zp,getDb:()=>ed,startWriters:()=>Xp,workerCount:()=>td});Xa.exports=lp(Qa);var Np=sr(require("os")),jp=require("worker_threads"),Lp=sr(Ya()),Ip=require("child_process"),Mp=sr(require("util")),Pp=Mp.default.promisify(Ip.exec),ar=[],Ja=Np.cpus(),ui=Ja.length,Bp=/CREATE TABLE IF NOT EXISTS ([^\s]+) \(/,Up=/CREATE\s+TABLE\s+IF\s+NOT\s+EXISTS\s*(\w+)\s*\(([\s\S]*?)\)/i,Wp=/(\w+)\s+(\w+)/ig,$p=`const { parentPort } = require('worker_threads')
const SqliteDatabaseConnection = require('better-sqlite3')

let db
let transactionFactory
let typeCache
let typeCacheKeys
let typeCacheInsert
const escapeRegex = /'/g

function defaultRowParser (data) {
  let result = ''

  for (const item of data) {
    let query = 'INSERT INTO ' + typeCache.tableName + ' (' + typeCacheInsert + ') VALUES ('
    let index = 0

    for(const key of typeCacheKeys) {
      switch (typeCache.fields[key]) {
        case 'TEXT':
        case 'VARCHAR':
        case 'CHAR':
        case 'NCHAR':
        case 'NVARCHAR':
          query += "'" + item[key].replace(escapeRegex, "''") + "'"
          break
        default:
          query += item[key]
      }

      if (index < typeCacheKeys.length - 1) {
        query += ','
      }

      index += 1
    }

    result += query + ');'
  }

  return result
}

parentPort.on('message', (command) => {
  try{
  const { type } = command

  if (type === 'connect') {
    // Initial connection
    const { transactions, path } = command
    typeCache = command.typeCache
    typeCacheKeys = Object.keys(command.typeCache.fields)
    typeCacheInsert = typeCacheKeys.join(', ')

    db = new SqliteDatabaseConnection(path)
    db.exec('PRAGMA journal_mode = OFF;')
    db.exec('PRAGMA synchronous = 0;')
    db.exec('PRAGMA cache_size = 1000000;')
    db.exec('PRAGMA locking_mode = EXCLUSIVE')
    db.exec('PRAGMA temp_store = MEMORY;')

    transactionFactory = transactions === undefined
      ? defaultRowParser
      : new Function('return ' + transactions)()

  } else if (type === 'collection') {
    // Dealing with transactions
    const { data } = command

    db.exec('BEGIN TRANSACTION;' + transactionFactory(data) + 'COMMIT;')
    parentPort.postMessage(true)

  } else {
    // Arbitrary sql
    const { sql } = command
    parentPort.postMessage(db.exec(sql))
  }
}catch(e){
  console.error(e)
}
})`,Zr=[],ri=0,ni=!1,ii=0;async function Vp(e,t){let r=[];return new Promise(n=>{function i(o,s){let u=new jp.Worker($p,{eval:!0});r.push(u);let a=null;function c(){return!a&&ar.length?(ii+=1,a=ar.shift(),u.postMessage(a.message),!0):!1}u.on("online",()=>{Zr.push({takeWork:c,shutdown:()=>u.terminate()}),c()}).on("message",async f=>{if(f===!0){if(ii-=1,ar.length===0&&ii===0&&await t(r)===!0)return n(!0)}else{if(a===null)return;a.resolve(f),a=null,c()}}).on("error",f=>{console.error(f)}),e(u,s)}Ja.forEach(i)})}var Gp=async e=>new Promise((t,r)=>{ar.push({resolve:t,reject:r,message:e});let n=0;for(let i of Zr){if(n===ri){i.takeWork(),ri=(ri+1)%ui;break}n+=1}});function zp(e){let t=Up.exec(e);if(!t)throw new Error("Invalid CREATE TABLE statement");let r=t[1],n=t[2].trim(),i={},o;for(;(o=Wp.exec(n))!==null;){let s=o[1],u=o[2].toUpperCase();i[s]=u}return{tableName:r,fields:i}}var Hp=async(e,t,r,n=void 0,i=!0)=>{(0,Lp.ensureDirSync)(e);let o="CREATE TABLE IF NOT EXISTS "+r+";",s=zp(o);return Vp((u,a)=>{u.postMessage({typeCache:s,type:"connect",path:e+"/"+t+"."+a+".sqlite",transactions:n?.toString()}),u.postMessage({sql:o})},async u=>{if(ar.length>0||i===!1||ni)return!1;ni=!0,await Promise.all(Zr.map((f,d)=>new Promise(w=>{u[d].on("exit",w),f.shutdown()}))),Zr=[];let a=e+"/"+t+".sqlite",c=[`(rm -f "${a}" && touch "${a}")`];for(let f=0;f<ui;f++){let d=e+"/"+t+"."+f+".sqlite",w=o.match(Bp)[1];c.push(`(sqlite3 "${d}" ".dump ${w}" | sed -e 's/CREATE TABLE ${w} /CREATE TABLE IF NOT EXISTS ${w} /' | sqlite3 "${a}")`),c.push(`(rm -f "${d}" && rm -f "${d}-journal")`)}return await Pp(`(${c.join(" && ")})`),ni=!1,!0})},Kp=sr(za()),Yp=sr(Ya()),Xr={},Qp=e=>(Xr[e]===void 0&&((0,Yp.ensureFileSync)(e),Xr[e]=new Kp.default(e),process.on("exit",()=>Xr[e].close()),process.on("SIGHUP",()=>process.exit(129)),process.on("SIGINT",()=>process.exit(130)),process.on("SIGTERM",()=>process.exit(143))),Xr[e]),Jp=async e=>Gp({type:"collection",data:e}),Xp=Hp,Zp=Jp,ed=Qp,td=ui});var Et=V((Jg,fi)=>{var ci=function(){"use strict";return this===void 0}();ci?fi.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:ci,propertyIsWritable:function(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return!!(!r||r.writable||r.set)}}:(ns={}.hasOwnProperty,is={}.toString,os={}.constructor.prototype,li=function(e){var t=[];for(var r in e)ns.call(e,r)&&t.push(r);return t},as=function(e,t){return{value:e[t]}},ss=function(e,t,r){return e[t]=r.value,e},us=function(e){return e},cs=function(e){try{return Object(e).constructor.prototype}catch{return os}},ls=function(e){try{return is.call(e)==="[object Array]"}catch{return!1}},fi.exports={isArray:ls,keys:li,names:li,defineProperty:ss,getDescriptor:as,freeze:us,getPrototypeOf:cs,isES5:ci,propertyIsWritable:function(){return!0}});var ns,is,os,li,as,ss,us,cs,ls});var ye=V((exports,module)=>{"use strict";var es5=Et(),canEvaluate=typeof navigator>"u",errorObj={e:{}},tryCatchTarget,globalObject=typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:exports!==void 0?exports:null;function tryCatcher(){try{var e=tryCatchTarget;return tryCatchTarget=null,e.apply(this,arguments)}catch(t){return errorObj.e=t,errorObj}}function tryCatch(e){return tryCatchTarget=e,tryCatcher}var inherits=function(e,t){var r={}.hasOwnProperty;function n(){this.constructor=e,this.constructor$=t;for(var i in t.prototype)r.call(t.prototype,i)&&i.charAt(i.length-1)!=="$"&&(this[i+"$"]=t.prototype[i])}return n.prototype=t.prototype,e.prototype=new n,e.prototype};function isPrimitive(e){return e==null||e===!0||e===!1||typeof e=="string"||typeof e=="number"}function isObject(e){return typeof e=="function"||typeof e=="object"&&e!==null}function maybeWrapAsError(e){return isPrimitive(e)?new Error(safeToString(e)):e}function withAppended(e,t){var r=e.length,n=new Array(r+1),i;for(i=0;i<r;++i)n[i]=e[i];return n[i]=t,n}function getDataPropertyOrDefault(e,t,r){if(es5.isES5){var n=Object.getOwnPropertyDescriptor(e,t);if(n!=null)return n.get==null&&n.set==null?n.value:r}else return{}.hasOwnProperty.call(e,t)?e[t]:void 0}function notEnumerableProp(e,t,r){if(isPrimitive(e))return e;var n={value:r,configurable:!0,enumerable:!1,writable:!0};return es5.defineProperty(e,t,n),e}function thrower(e){throw e}var inheritedDataKeys=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(i){for(var o=0;o<e.length;++o)if(e[o]===i)return!0;return!1};if(es5.isES5){var r=Object.getOwnPropertyNames;return function(i){for(var o=[],s=Object.create(null);i!=null&&!t(i);){var u;try{u=r(i)}catch{return o}for(var a=0;a<u.length;++a){var c=u[a];if(!s[c]){s[c]=!0;var f=Object.getOwnPropertyDescriptor(i,c);f!=null&&f.get==null&&f.set==null&&o.push(c)}}i=es5.getPrototypeOf(i)}return o}}else{var n={}.hasOwnProperty;return function(i){if(t(i))return[];var o=[];e:for(var s in i)if(n.call(i,s))o.push(s);else{for(var u=0;u<e.length;++u)if(n.call(e[u],s))continue e;o.push(s)}return o}}}(),thisAssignmentPattern=/this\s*\.\s*\S+\s*=/;function isClass(e){try{if(typeof e=="function"){var t=es5.names(e.prototype),r=es5.isES5&&t.length>1,n=t.length>0&&!(t.length===1&&t[0]==="constructor"),i=thisAssignmentPattern.test(e+"")&&es5.names(e).length>0;if(r||n||i)return!0}return!1}catch{return!1}}function toFastProperties(obj){function FakeConstructor(){}FakeConstructor.prototype=obj;for(var l=8;l--;)new FakeConstructor;return obj}var rident=/^[a-z$_][a-z$_0-9]*$/i;function isIdentifier(e){return rident.test(e)}function filledRange(e,t,r){for(var n=new Array(e),i=0;i<e;++i)n[i]=t+i+r;return n}function safeToString(e){try{return e+""}catch{return"[no string representation]"}}function isError(e){return e!==null&&typeof e=="object"&&typeof e.message=="string"&&typeof e.name=="string"}function markAsOriginatingFromRejection(e){try{notEnumerableProp(e,"isOperational",!0)}catch{}}function originatesFromRejection(e){return e==null?!1:e instanceof Error.__BluebirdErrorTypes__.OperationalError||e.isOperational===!0}function canAttachTrace(e){return isError(e)&&es5.propertyIsWritable(e,"stack")}var ensureErrorObject=function(){return"stack"in new Error?function(e){return canAttachTrace(e)?e:new Error(safeToString(e))}:function(e){if(canAttachTrace(e))return e;try{throw new Error(safeToString(e))}catch(t){return t}}}();function classString(e){return{}.toString.call(e)}function copyDescriptors(e,t,r){for(var n=es5.names(e),i=0;i<n.length;++i){var o=n[i];if(r(o))try{es5.defineProperty(t,o,es5.getDescriptor(e,o))}catch{}}}var asArray=function(e){return es5.isArray(e)?e:null};typeof Symbol<"u"&&Symbol.iterator&&(ArrayFrom=typeof Array.from=="function"?function(e){return Array.from(e)}:function(e){for(var t=[],r=e[Symbol.iterator](),n;!(n=r.next()).done;)t.push(n.value);return t},asArray=function(e){return es5.isArray(e)?e:e!=null&&typeof e[Symbol.iterator]=="function"?ArrayFrom(e):null});var ArrayFrom,isNode=typeof process<"u"&&classString(process).toLowerCase()==="[object process]",hasEnvVariables=typeof process<"u"&&typeof process.env<"u";function env(e){return hasEnvVariables?process.env[e]:void 0}function getNativePromise(){if(typeof Promise=="function")try{var e=new Promise(function(){});if({}.toString.call(e)==="[object Promise]")return Promise}catch{}}function domainBind(e,t){return e.bind(t)}var ret={isClass,isIdentifier,inheritedDataKeys,getDataPropertyOrDefault,thrower,isArray:es5.isArray,asArray,notEnumerableProp,isPrimitive,isObject,isError,canEvaluate,errorObj,tryCatch,inherits,withAppended,maybeWrapAsError,toFastProperties,filledRange,toString:safeToString,canAttachTrace,ensureErrorObject,originatesFromRejection,markAsOriginatingFromRejection,classString,copyDescriptors,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode,hasEnvVariables,env,global:globalObject,getNativePromise,domainBind};ret.isRecentNode=ret.isNode&&function(){var e=process.versions.node.split(".").map(Number);return e[0]===0&&e[1]>10||e[0]>0}();ret.isNode&&ret.toFastProperties(process);try{throw new Error}catch(e){ret.lastLineError=e}module.exports=ret});var ys=V((Xg,ds)=>{"use strict";var pi=ye(),St,rd=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},hi=pi.getNativePromise();pi.isNode&&typeof MutationObserver>"u"?(fs=global.setImmediate,hs=process.nextTick,St=pi.isRecentNode?function(e){fs.call(global,e)}:function(e){hs.call(process,e)}):typeof hi=="function"&&typeof hi.resolve=="function"?(ps=hi.resolve(),St=function(e){ps.then(e)}):typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))?St=function(){var e=document.createElement("div"),t={attributes:!0},r=!1,n=document.createElement("div"),i=new MutationObserver(function(){e.classList.toggle("foo"),r=!1});i.observe(n,t);var o=function(){r||(r=!0,n.classList.toggle("foo"))};return function(u){var a=new MutationObserver(function(){a.disconnect(),u()});a.observe(e,t),o()}}():typeof setImmediate<"u"?St=function(e){setImmediate(e)}:typeof setTimeout<"u"?St=function(e){setTimeout(e,0)}:St=rd;var fs,hs,ps;ds.exports=St});var ms=V((Zg,vs)=>{"use strict";function nd(e,t,r,n,i){for(var o=0;o<i;++o)r[o+n]=e[o+t],e[o+t]=void 0}function at(e){this._capacity=e,this._length=0,this._front=0}at.prototype._willBeOverCapacity=function(e){return this._capacity<e};at.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1);var r=this._front+t&this._capacity-1;this[r]=e,this._length=t+1};at.prototype.push=function(e,t,r){var n=this.length()+3;if(this._willBeOverCapacity(n)){this._pushOne(e),this._pushOne(t),this._pushOne(r);return}var i=this._front+n-3;this._checkCapacity(n);var o=this._capacity-1;this[i+0&o]=e,this[i+1&o]=t,this[i+2&o]=r,this._length=n};at.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t};at.prototype.length=function(){return this._length};at.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)};at.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e;var r=this._front,n=this._length,i=r+n&t-1;nd(this,0,this,t,i)};vs.exports=at});var ks=V((e_,di)=>{"use strict";var Es;try{throw new Error}catch(e){Es=e}var id=ys(),gs=ms(),Ss=ye();function Re(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new gs(16),this._normalQueue=new gs(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=id}Re.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t};Re.prototype.hasCustomScheduler=function(){return this._customScheduler};Re.prototype.enableTrampoline=function(){this._trampolineEnabled=!0};Re.prototype.disableTrampolineIfNecessary=function(){Ss.hasDevTools&&(this._trampolineEnabled=!1)};Re.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues};Re.prototype.fatalError=function(e,t){t?(process.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+`
`),process.exit(2)):this.throwLater(e)};Re.prototype.throwLater=function(e,t){if(arguments.length===1&&(t=e,e=function(){throw t}),typeof setTimeout<"u")setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function _s(e,t,r){this._lateQueue.push(e,t,r),this._queueTick()}function ws(e,t,r){this._normalQueue.push(e,t,r),this._queueTick()}function bs(e){this._normalQueue._pushOne(e),this._queueTick()}Ss.hasDevTools?(Re.prototype.invokeLater=function(e,t,r){this._trampolineEnabled?_s.call(this,e,t,r):this._schedule(function(){setTimeout(function(){e.call(t,r)},100)})},Re.prototype.invoke=function(e,t,r){this._trampolineEnabled?ws.call(this,e,t,r):this._schedule(function(){e.call(t,r)})},Re.prototype.settlePromises=function(e){this._trampolineEnabled?bs.call(this,e):this._schedule(function(){e._settlePromises()})}):(Re.prototype.invokeLater=_s,Re.prototype.invoke=ws,Re.prototype.settlePromises=bs);Re.prototype._drainQueue=function(e){for(;e.length()>0;){var t=e.shift();if(typeof t!="function"){t._settlePromises();continue}var r=e.shift(),n=e.shift();t.call(r,n)}};Re.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)};Re.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))};Re.prototype._reset=function(){this._isTickUsed=!1};di.exports=Re;di.exports.firstLineError=Es});var et=V((t_,xs)=>{"use strict";var mi=Et(),od=mi.freeze,Ts=ye(),Os=Ts.inherits,Wt=Ts.notEnumerableProp;function $t(e,t){function r(n){if(!(this instanceof r))return new r(n);Wt(this,"message",typeof n=="string"?n:t),Wt(this,"name",e),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return Os(r,Error),r}var yi,vi,ad=$t("Warning","warning"),sd=$t("CancellationError","cancellation error"),ud=$t("TimeoutError","timeout error"),cr=$t("AggregateError","aggregate error");try{yi=TypeError,vi=RangeError}catch{yi=$t("TypeError","type error"),vi=$t("RangeError","range error")}var rn="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" ");for(Ut=0;Ut<rn.length;++Ut)typeof Array.prototype[rn[Ut]]=="function"&&(cr.prototype[rn[Ut]]=Array.prototype[rn[Ut]]);var Ut;mi.defineProperty(cr.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0});cr.prototype.isOperational=!0;var nn=0;cr.prototype.toString=function(){var e=Array(nn*4+1).join(" "),t=`
`+e+`AggregateError of:
`;nn++,e=Array(nn*4+1).join(" ");for(var r=0;r<this.length;++r){for(var n=this[r]===this?"[Circular AggregateError]":this[r]+"",i=n.split(`
`),o=0;o<i.length;++o)i[o]=e+i[o];n=i.join(`
`),t+=n+`
`}return nn--,t};function ur(e){if(!(this instanceof ur))return new ur(e);Wt(this,"name","OperationalError"),Wt(this,"message",e),this.cause=e,this.isOperational=!0,e instanceof Error?(Wt(this,"message",e.message),Wt(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}Os(ur,Error);var kt=Error.__BluebirdErrorTypes__;kt||(kt=od({CancellationError:sd,TimeoutError:ud,OperationalError:ur,RejectionError:ur,AggregateError:cr}),mi.defineProperty(Error,"__BluebirdErrorTypes__",{value:kt,writable:!1,enumerable:!1,configurable:!1}));xs.exports={Error,TypeError:yi,RangeError:vi,CancellationError:kt.CancellationError,OperationalError:kt.OperationalError,TimeoutError:kt.TimeoutError,AggregateError:kt.AggregateError,Warning:ad}});var Fs=V((r_,Cs)=>{"use strict";Cs.exports=function(e,t){var r=ye(),n=r.errorObj,i=r.isObject;function o(d,w){if(i(d)){if(d instanceof e)return d;var y=u(d);if(y===n){w&&w._pushContext();var p=e.reject(y.e);return w&&w._popContext(),p}else if(typeof y=="function"){if(c(d)){var p=new e(t);return d._then(p._fulfill,p._reject,void 0,p,null),p}return f(d,y,w)}}return d}function s(d){return d.then}function u(d){try{return s(d)}catch(w){return n.e=w,n}}var a={}.hasOwnProperty;function c(d){try{return a.call(d,"_promise0")}catch{return!1}}function f(d,w,y){var p=new e(t),m=p;y&&y._pushContext(),p._captureStackTrace(),y&&y._popContext();var _=!0,b=r.tryCatch(w).call(d,g,S);_=!1,p&&b===n&&(p._rejectCallback(b.e,!0,!0),p=null);function g(O){p&&(p._resolveCallback(O),p=null)}function S(O){p&&(p._rejectCallback(O,_,!0),p=null)}return m}return o}});var qs=V((n_,Rs)=>{"use strict";Rs.exports=function(e,t,r,n,i){var o=ye(),s=o.isArray;function u(c){switch(c){case-2:return[];case-3:return{}}}function a(c){var f=this._promise=new e(t);c instanceof e&&f._propagateFrom(c,3),f._setOnCancel(this),this._values=c,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return o.inherits(a,i),a.prototype.length=function(){return this._length},a.prototype.promise=function(){return this._promise},a.prototype._init=function c(f,d){var w=r(this._values,this._promise);if(w instanceof e){w=w._target();var y=w._bitField;if(this._values=w,y&50397184)if(y&33554432)w=w._value();else return y&16777216?this._reject(w._reason()):this._cancel();else return this._promise._setAsyncGuaranteed(),w._then(c,this._reject,void 0,this,d)}if(w=o.asArray(w),w===null){var p=n("expecting an array or an iterable object but got "+o.classString(w)).reason();this._promise._rejectCallback(p,!1);return}if(w.length===0){d===-5?this._resolveEmptyArray():this._resolve(u(d));return}this._iterate(w)},a.prototype._iterate=function(c){var f=this.getActualLength(c.length);this._length=f,this._values=this.shouldCopyValues()?new Array(f):this._values;for(var d=this._promise,w=!1,y=null,p=0;p<f;++p){var m=r(c[p],d);m instanceof e?(m=m._target(),y=m._bitField):y=null,w?y!==null&&m.suppressUnhandledRejections():y!==null?y&50397184?y&33554432?w=this._promiseFulfilled(m._value(),p):y&16777216?w=this._promiseRejected(m._reason(),p):w=this._promiseCancelled(p):(m._proxy(this,p),this._values[p]=m):w=this._promiseFulfilled(m,p)}w||d._setAsyncGuaranteed()},a.prototype._isResolved=function(){return this._values===null},a.prototype._resolve=function(c){this._values=null,this._promise._fulfill(c)},a.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},a.prototype._reject=function(c){this._values=null,this._promise._rejectCallback(c,!1)},a.prototype._promiseFulfilled=function(c,f){this._values[f]=c;var d=++this._totalResolved;return d>=this._length?(this._resolve(this._values),!0):!1},a.prototype._promiseCancelled=function(){return this._cancel(),!0},a.prototype._promiseRejected=function(c){return this._totalResolved++,this._reject(c),!0},a.prototype._resultCancelled=function(){if(!this._isResolved()){var c=this._values;if(this._cancel(),c instanceof e)c.cancel();else for(var f=0;f<c.length;++f)c[f]instanceof e&&c[f].cancel()}},a.prototype.shouldCopyValues=function(){return!0},a.prototype.getActualLength=function(c){return c},a}});var As=V((i_,Ds)=>{"use strict";Ds.exports=function(e){var t=!1,r=[];e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){};function n(){this._trace=new n.CapturedTrace(o())}n.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,r.push(this._trace))},n.prototype._popContext=function(){if(this._trace!==void 0){var s=r.pop(),u=s._promiseCreated;return s._promiseCreated=null,u}return null};function i(){if(t)return new n}function o(){var s=r.length-1;if(s>=0)return r[s]}return n.CapturedTrace=null,n.create=i,n.deactivateLongStackTraces=function(){},n.activateLongStackTraces=function(){var s=e.prototype._pushContext,u=e.prototype._popContext,a=e._peekContext,c=e.prototype._peekContext,f=e.prototype._promiseCreated;n.deactivateLongStackTraces=function(){e.prototype._pushContext=s,e.prototype._popContext=u,e._peekContext=a,e.prototype._peekContext=c,e.prototype._promiseCreated=f,t=!1},t=!0,e.prototype._pushContext=n.prototype._pushContext,e.prototype._popContext=n.prototype._popContext,e._peekContext=e.prototype._peekContext=o,e.prototype._promiseCreated=function(){var d=this._peekContext();d&&d._promiseCreated==null&&(d._promiseCreated=this)}},n}});var js=V((o_,Ns)=>{"use strict";Ns.exports=function(e,t){var r=e._getDomain,n=e._async,i=et().Warning,o=ye(),s=o.canAttachTrace,u,a,c=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,f=/\((?:timers\.js):\d+:\d+\)/,d=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,w=null,y=null,p=!1,m,_=!!(o.env("BLUEBIRD_DEBUG")!=0&&(o.env("BLUEBIRD_DEBUG")||o.env("NODE_ENV")==="development")),b=!!(o.env("BLUEBIRD_WARNINGS")!=0&&(_||o.env("BLUEBIRD_WARNINGS"))),g=!!(o.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(_||o.env("BLUEBIRD_LONG_STACK_TRACES"))),S=o.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(b||!!o.env("BLUEBIRD_W_FORGOTTEN_RETURN"));e.prototype.suppressUnhandledRejections=function(){var N=this._target();N._bitField=N._bitField&-1048577|524288},e.prototype._ensurePossibleRejectionHandled=function(){this._bitField&524288||(this._setRejectionIsUnhandled(),n.invokeLater(this._notifyUnhandledRejection,this,void 0))},e.prototype._notifyUnhandledRejectionIsHandled=function(){he("rejectionHandled",u,void 0,this)},e.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},e.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},e.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var N=this._settledValue();this._setUnhandledRejectionIsNotified(),he("unhandledRejection",a,N,this)}},e.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},e.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},e.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},e.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},e.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},e.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},e.prototype._warn=function(N,h,v){return be(N,h,v||this)},e.onPossiblyUnhandledRejection=function(N){var h=r();a=typeof N=="function"?h===null?N:o.domainBind(h,N):void 0},e.onUnhandledRejectionHandled=function(N){var h=r();u=typeof N=="function"?h===null?N:o.domainBind(h,N):void 0};var O=function(){};e.longStackTraces=function(){if(n.haveItemsQueued()&&!Q.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!Q.longStackTraces&&se()){var N=e.prototype._captureStackTrace,h=e.prototype._attachExtraTrace;Q.longStackTraces=!0,O=function(){if(n.haveItemsQueued()&&!Q.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);e.prototype._captureStackTrace=N,e.prototype._attachExtraTrace=h,t.deactivateLongStackTraces(),n.enableTrampoline(),Q.longStackTraces=!1},e.prototype._captureStackTrace=K,e.prototype._attachExtraTrace=H,t.activateLongStackTraces(),n.disableTrampolineIfNecessary()}},e.hasLongStackTraces=function(){return Q.longStackTraces&&se()};var R=function(){try{if(typeof CustomEvent=="function"){var N=new CustomEvent("CustomEvent");return o.global.dispatchEvent(N),function(h,v){var k=new CustomEvent(h.toLowerCase(),{detail:v,cancelable:!0});return!o.global.dispatchEvent(k)}}else if(typeof Event=="function"){var N=new Event("CustomEvent");return o.global.dispatchEvent(N),function(v,k){var x=new Event(v.toLowerCase(),{cancelable:!0});return x.detail=k,!o.global.dispatchEvent(x)}}else{var N=document.createEvent("CustomEvent");return N.initCustomEvent("testingtheevent",!1,!0,{}),o.global.dispatchEvent(N),function(v,k){var x=document.createEvent("CustomEvent");return x.initCustomEvent(v.toLowerCase(),!1,!0,k),!o.global.dispatchEvent(x)}}}catch{}return function(){return!1}}(),W=function(){return o.isNode?function(){return process.emit.apply(process,arguments)}:o.global?function(N){var h="on"+N.toLowerCase(),v=o.global[h];return v?(v.apply(o.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}}();function Y(N,h){return{promise:h}}var z={promiseCreated:Y,promiseFulfilled:Y,promiseRejected:Y,promiseResolved:Y,promiseCancelled:Y,promiseChained:function(N,h,v){return{promise:h,child:v}},warning:function(N,h){return{warning:h}},unhandledRejection:function(N,h,v){return{reason:h,promise:v}},rejectionHandled:Y},D=function(N){var h=!1;try{h=W.apply(null,arguments)}catch(k){n.throwLater(k),h=!0}var v=!1;try{v=R(N,z[N].apply(null,arguments))}catch(k){n.throwLater(k),v=!0}return v||h};e.config=function(N){if(N=Object(N),"longStackTraces"in N&&(N.longStackTraces?e.longStackTraces():!N.longStackTraces&&e.hasLongStackTraces()&&O()),"warnings"in N){var h=N.warnings;Q.warnings=!!h,S=Q.warnings,o.isObject(h)&&"wForgottenReturn"in h&&(S=!!h.wForgottenReturn)}if("cancellation"in N&&N.cancellation&&!Q.cancellation){if(n.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");e.prototype._clearCancellationData=I,e.prototype._propagateFrom=E,e.prototype._onCancel=F,e.prototype._setOnCancel=L,e.prototype._attachCancellationCallback=C,e.prototype._execute=$,A=E,Q.cancellation=!0}return"monitoring"in N&&(N.monitoring&&!Q.monitoring?(Q.monitoring=!0,e.prototype._fireEvent=D):!N.monitoring&&Q.monitoring&&(Q.monitoring=!1,e.prototype._fireEvent=B)),e};function B(){return!1}e.prototype._fireEvent=B,e.prototype._execute=function(N,h,v){try{N(h,v)}catch(k){return k}},e.prototype._onCancel=function(){},e.prototype._setOnCancel=function(N){},e.prototype._attachCancellationCallback=function(N){},e.prototype._captureStackTrace=function(){},e.prototype._attachExtraTrace=function(){},e.prototype._clearCancellationData=function(){},e.prototype._propagateFrom=function(N,h){};function $(N,h,v){var k=this;try{N(h,v,function(x){if(typeof x!="function")throw new TypeError("onCancel must be a function, got: "+o.toString(x));k._attachCancellationCallback(x)})}catch(x){return x}}function C(N){if(!this._isCancellable())return this;var h=this._onCancel();h!==void 0?o.isArray(h)?h.push(N):this._setOnCancel([h,N]):this._setOnCancel(N)}function F(){return this._onCancelField}function L(N){this._onCancelField=N}function I(){this._cancellationParent=void 0,this._onCancelField=void 0}function E(N,h){if(h&1){this._cancellationParent=N;var v=N._branchesRemainingToCancel;v===void 0&&(v=0),N._branchesRemainingToCancel=v+1}h&2&&N._isBound()&&this._setBoundTo(N._boundTo)}function T(N,h){h&2&&N._isBound()&&this._setBoundTo(N._boundTo)}var A=T;function j(){var N=this._boundTo;return N!==void 0&&N instanceof e?N.isFulfilled()?N.value():void 0:N}function K(){this._trace=new He(this._peekContext())}function H(N,h){if(s(N)){var v=this._trace;if(v!==void 0&&h&&(v=v._parent),v!==void 0)v.attachExtraTrace(N);else if(!N.__stackCleaned__){var k=_e(N);o.notEnumerableProp(N,"stack",k.message+`
`+k.stack.join(`
`)),o.notEnumerableProp(N,"__stackCleaned__",!0)}}}function Z(N,h,v,k,x){if(N===void 0&&h!==null&&S){if(x!==void 0&&x._returnedNonUndefined()||!(k._bitField&65535))return;v&&(v=v+" ");var M="",q="";if(h._trace){for(var P=h._trace.stack.split(`
`),U=re(P),G=U.length-1;G>=0;--G){var X=U[G];if(!f.test(X)){var ee=X.match(d);ee&&(M="at "+ee[1]+":"+ee[2]+":"+ee[3]+" ");break}}if(U.length>0){for(var te=U[0],G=0;G<P.length;++G)if(P[G]===te){G>0&&(q=`
`+P[G-1]);break}}}var ue="a promise was created in a "+v+"handler "+M+"but was not returned from it, see http://goo.gl/rRqMUw"+q;k._warn(ue,!0,h)}}function ne(N,h){var v=N+" is deprecated and will be removed in a future version.";return h&&(v+=" Use "+h+" instead."),be(v)}function be(N,h,v){if(Q.warnings){var k=new i(N),x;if(h)v._attachExtraTrace(k);else if(Q.longStackTraces&&(x=e._peekContext()))x.attachExtraTrace(k);else{var M=_e(k);k.stack=M.message+`
`+M.stack.join(`
`)}D("warning",k)||we(k,"",!0)}}function Se(N,h){for(var v=0;v<h.length-1;++v)h[v].push("From previous event:"),h[v]=h[v].join(`
`);return v<h.length&&(h[v]=h[v].join(`
`)),N+`
`+h.join(`
`)}function ve(N){for(var h=0;h<N.length;++h)(N[h].length===0||h+1<N.length&&N[h][0]===N[h+1][0])&&(N.splice(h,1),h--)}function J(N){for(var h=N[0],v=1;v<N.length;++v){for(var k=N[v],x=h.length-1,M=h[x],q=-1,P=k.length-1;P>=0;--P)if(k[P]===M){q=P;break}for(var P=q;P>=0;--P){var U=k[P];if(h[x]===U)h.pop(),x--;else break}h=k}}function re(N){for(var h=[],v=0;v<N.length;++v){var k=N[v],x=k==="    (No stack trace)"||w.test(k),M=x&&ke(k);x&&!M&&(p&&k.charAt(0)!==" "&&(k="    "+k),h.push(k))}return h}function ie(N){for(var h=N.stack.replace(/\s+$/g,"").split(`
`),v=0;v<h.length;++v){var k=h[v];if(k==="    (No stack trace)"||w.test(k))break}return v>0&&N.name!="SyntaxError"&&(h=h.slice(v)),h}function _e(N){var h=N.stack,v=N.toString();return h=typeof h=="string"&&h.length>0?ie(N):["    (No stack trace)"],{message:v,stack:N.name=="SyntaxError"?h:re(h)}}function we(N,h,v){if(typeof console<"u"){var k;if(o.isObject(N)){var x=N.stack;k=h+y(x,N)}else k=h+String(N);typeof m=="function"?m(k,v):(typeof console.log=="function"||typeof console.log=="object")&&console.log(k)}}function he(N,h,v,k){var x=!1;try{typeof h=="function"&&(x=!0,N==="rejectionHandled"?h(k):h(v,k))}catch(M){n.throwLater(M)}N==="unhandledRejection"?!D(N,v,k)&&!x&&we(v,"Unhandled rejection "):D(N,k)}function de(N){var h;if(typeof N=="function")h="[function "+(N.name||"anonymous")+"]";else{h=N&&typeof N.toString=="function"?N.toString():o.toString(N);var v=/\[object [a-zA-Z0-9$_]+\]/;if(v.test(h))try{var k=JSON.stringify(N);h=k}catch{}h.length===0&&(h="(empty array)")}return"(<"+me(h)+">, no stack trace)"}function me(N){var h=41;return N.length<h?N:N.substr(0,h-3)+"..."}function se(){return typeof Wr=="function"}var ke=function(){return!1},pe=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function ze(N){var h=N.match(pe);if(h)return{fileName:h[1],line:parseInt(h[2],10)}}function Ur(N,h){if(se()){for(var v=N.stack.split(`
`),k=h.stack.split(`
`),x=-1,M=-1,q,P,U=0;U<v.length;++U){var G=ze(v[U]);if(G){q=G.fileName,x=G.line;break}}for(var U=0;U<k.length;++U){var G=ze(k[U]);if(G){P=G.fileName,M=G.line;break}}x<0||M<0||!q||!P||q!==P||x>=M||(ke=function(X){if(c.test(X))return!0;var ee=ze(X);return!!(ee&&ee.fileName===q&&x<=ee.line&&ee.line<=M)})}}function He(N){this._parent=N,this._promisesCreated=0;var h=this._length=1+(N===void 0?0:N._length);Wr(this,He),h>32&&this.uncycle()}o.inherits(He,Error),t.CapturedTrace=He,He.prototype.uncycle=function(){var N=this._length;if(!(N<2)){for(var h=[],v={},k=0,x=this;x!==void 0;++k)h.push(x),x=x._parent;N=this._length=k;for(var k=N-1;k>=0;--k){var M=h[k].stack;v[M]===void 0&&(v[M]=k)}for(var k=0;k<N;++k){var q=h[k].stack,P=v[q];if(P!==void 0&&P!==k){P>0&&(h[P-1]._parent=void 0,h[P-1]._length=1),h[k]._parent=void 0,h[k]._length=1;var U=k>0?h[k-1]:this;P<N-1?(U._parent=h[P+1],U._parent.uncycle(),U._length=U._parent._length+1):(U._parent=void 0,U._length=1);for(var G=U._length+1,X=k-2;X>=0;--X)h[X]._length=G,G++;return}}}},He.prototype.attachExtraTrace=function(N){if(!N.__stackCleaned__){this.uncycle();for(var h=_e(N),v=h.message,k=[h.stack],x=this;x!==void 0;)k.push(re(x.stack.split(`
`))),x=x._parent;J(k),ve(k),o.notEnumerableProp(N,"stack",Se(v,k)),o.notEnumerableProp(N,"__stackCleaned__",!0)}};var Wr=function(){var h=/^\s*at\s*/,v=function(q,P){return typeof q=="string"?q:P.name!==void 0&&P.message!==void 0?P.toString():de(P)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,w=h,y=v;var k=Error.captureStackTrace;return ke=function(q){return c.test(q)},function(q,P){Error.stackTraceLimit+=6,k(q,P),Error.stackTraceLimit-=6}}var x=new Error;if(typeof x.stack=="string"&&x.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return w=/@/,y=v,p=!0,function(P){P.stack=new Error().stack};var M;try{throw new Error}catch(q){M="stack"in q}return!("stack"in x)&&M&&typeof Error.stackTraceLimit=="number"?(w=h,y=v,function(P){Error.stackTraceLimit+=6;try{throw new Error}catch(U){P.stack=U.stack}Error.stackTraceLimit-=6}):(y=function(q,P){return typeof q=="string"?q:(typeof P=="object"||typeof P=="function")&&P.name!==void 0&&P.message!==void 0?P.toString():de(P)},null)}([]);typeof console<"u"&&typeof console.warn<"u"&&(m=function(N){console.warn(N)},o.isNode&&process.stderr.isTTY?m=function(N,h){var v=h?"\x1B[33m":"\x1B[31m";console.warn(v+N+`\x1B[0m
`)}:!o.isNode&&typeof new Error().stack=="string"&&(m=function(N,h){console.warn("%c"+N,h?"color: darkorange":"color: red")}));var Q={warnings:b,longStackTraces:!1,cancellation:!1,monitoring:!1};return g&&e.longStackTraces(),{longStackTraces:function(){return Q.longStackTraces},warnings:function(){return Q.warnings},cancellation:function(){return Q.cancellation},monitoring:function(){return Q.monitoring},propagateFromFunction:function(){return A},boundValueFunction:function(){return j},checkForgottenReturns:Z,setBounds:Ur,warn:be,deprecated:ne,CapturedTrace:He,fireDomEvent:R,fireGlobalEvent:W}}});var Is=V((a_,Ls)=>{"use strict";Ls.exports=function(e,t){var r=ye(),n=e.CancellationError,i=r.errorObj;function o(d,w,y){this.promise=d,this.type=w,this.handler=y,this.called=!1,this.cancelPromise=null}o.prototype.isFinallyHandler=function(){return this.type===0};function s(d){this.finallyHandler=d}s.prototype._resultCancelled=function(){u(this.finallyHandler)};function u(d,w){return d.cancelPromise!=null?(arguments.length>1?d.cancelPromise._reject(w):d.cancelPromise._cancel(),d.cancelPromise=null,!0):!1}function a(){return f.call(this,this.promise._target()._settledValue())}function c(d){if(!u(this,d))return i.e=d,i}function f(d){var w=this.promise,y=this.handler;if(!this.called){this.called=!0;var p=this.isFinallyHandler()?y.call(w._boundValue()):y.call(w._boundValue(),d);if(p!==void 0){w._setReturnedNonUndefined();var m=t(p,w);if(m instanceof e){if(this.cancelPromise!=null)if(m._isCancelled()){var _=new n("late cancellation observer");return w._attachExtraTrace(_),i.e=_,i}else m.isPending()&&m._attachCancellationCallback(new s(this));return m._then(a,c,void 0,this,void 0)}}}return w.isRejected()?(u(this),i.e=d,i):(u(this),d)}return e.prototype._passThrough=function(d,w,y,p){return typeof d!="function"?this.then():this._then(y,p,void 0,new o(this,w,d),void 0)},e.prototype.lastly=e.prototype.finally=function(d){return this._passThrough(d,0,f,f)},e.prototype.tap=function(d){return this._passThrough(d,1,f)},o}});var Ps=V((s_,Ms)=>{"use strict";Ms.exports=function(e){var t=ye(),r=Et().keys,n=t.tryCatch,i=t.errorObj;function o(s,u,a){return function(c){var f=a._boundValue();e:for(var d=0;d<s.length;++d){var w=s[d];if(w===Error||w!=null&&w.prototype instanceof Error){if(c instanceof w)return n(u).call(f,c)}else if(typeof w=="function"){var y=n(w).call(f,c);if(y===i)return y;if(y)return n(u).call(f,c)}else if(t.isObject(c)){for(var p=r(w),m=0;m<p.length;++m){var _=p[m];if(w[_]!=c[_])continue e}return n(u).call(f,c)}}return e}}return o}});var gi=V((u_,Ws)=>{"use strict";var Bs=ye(),cd=Bs.maybeWrapAsError,ld=et(),fd=ld.OperationalError,Us=Et();function hd(e){return e instanceof Error&&Us.getPrototypeOf(e)===Error.prototype}var pd=/^(?:name|message|stack|cause)$/;function dd(e){var t;if(hd(e)){t=new fd(e),t.name=e.name,t.message=e.message,t.stack=e.stack;for(var r=Us.keys(e),n=0;n<r.length;++n){var i=r[n];pd.test(i)||(t[i]=e[i])}return t}return Bs.markAsOriginatingFromRejection(e),e}function yd(e,t){return function(r,n){if(e!==null){if(r){var i=dd(cd(r));e._attachExtraTrace(i),e._reject(i)}else if(!t)e._fulfill(n);else{for(var o=arguments.length,s=new Array(Math.max(o-1,0)),u=1;u<o;++u)s[u-1]=arguments[u];e._fulfill(s)}e=null}}}Ws.exports=yd});var Vs=V((c_,$s)=>{"use strict";$s.exports=function(e,t,r,n,i){var o=ye(),s=o.tryCatch;e.method=function(u){if(typeof u!="function")throw new e.TypeError("expecting a function but got "+o.classString(u));return function(){var a=new e(t);a._captureStackTrace(),a._pushContext();var c=s(u).apply(this,arguments),f=a._popContext();return i.checkForgottenReturns(c,f,"Promise.method",a),a._resolveFromSyncValue(c),a}},e.attempt=e.try=function(u){if(typeof u!="function")return n("expecting a function but got "+o.classString(u));var a=new e(t);a._captureStackTrace(),a._pushContext();var c;if(arguments.length>1){i.deprecated("calling Promise.try with more than 1 argument");var f=arguments[1],d=arguments[2];c=o.isArray(f)?s(u).apply(d,f):s(u).call(d,f)}else c=s(u)();var w=a._popContext();return i.checkForgottenReturns(c,w,"Promise.try",a),a._resolveFromSyncValue(c),a},e.prototype._resolveFromSyncValue=function(u){u===o.errorObj?this._rejectCallback(u.e,!1):this._resolveCallback(u,!0)}}});var zs=V((l_,Gs)=>{"use strict";Gs.exports=function(e,t,r,n){var i=!1,o=function(c,f){this._reject(f)},s=function(c,f){f.promiseRejectionQueued=!0,f.bindingPromise._then(o,o,null,this,c)},u=function(c,f){this._bitField&50397184||this._resolveCallback(f.target)},a=function(c,f){f.promiseRejectionQueued||this._reject(c)};e.prototype.bind=function(c){i||(i=!0,e.prototype._propagateFrom=n.propagateFromFunction(),e.prototype._boundValue=n.boundValueFunction());var f=r(c),d=new e(t);d._propagateFrom(this,1);var w=this._target();if(d._setBoundTo(f),f instanceof e){var y={promiseRejectionQueued:!1,promise:d,target:w,bindingPromise:f};w._then(t,s,void 0,d,y),f._then(u,a,void 0,d,y),d._setOnCancel(f)}else d._resolveCallback(w);return d},e.prototype._setBoundTo=function(c){c!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=c):this._bitField=this._bitField&-2097153},e.prototype._isBound=function(){return(this._bitField&2097152)===2097152},e.bind=function(c,f){return e.resolve(f).bind(c)}}});var Ks=V((f_,Hs)=>{"use strict";Hs.exports=function(e,t,r,n){var i=ye(),o=i.tryCatch,s=i.errorObj,u=e._async;e.prototype.break=e.prototype.cancel=function(){if(!n.cancellation())return this._warn("cancellation is disabled");for(var a=this,c=a;a._isCancellable();){if(!a._cancelBy(c)){c._isFollowing()?c._followee().cancel():c._cancelBranched();break}var f=a._cancellationParent;if(f==null||!f._isCancellable()){a._isFollowing()?a._followee().cancel():a._cancelBranched();break}else a._isFollowing()&&a._followee().cancel(),a._setWillBeCancelled(),c=a,a=f}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(a){return a===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),u.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(a,c){if(i.isArray(a))for(var f=0;f<a.length;++f)this._doInvokeOnCancel(a[f],c);else if(a!==void 0)if(typeof a=="function"){if(!c){var d=o(a).call(this._boundValue());d===s&&(this._attachExtraTrace(d.e),u.throwLater(d.e))}}else a._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var a=this._onCancel();this._unsetOnCancel(),u.invoke(this._doInvokeOnCancel,this,a)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}});var Qs=V((h_,Ys)=>{"use strict";Ys.exports=function(e){function t(){return this.value}function r(){throw this.reason}e.prototype.return=e.prototype.thenReturn=function(n){return n instanceof e&&n.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:n},void 0)},e.prototype.throw=e.prototype.thenThrow=function(n){return this._then(r,void 0,void 0,{reason:n},void 0)},e.prototype.catchThrow=function(n){if(arguments.length<=1)return this._then(void 0,r,void 0,{reason:n},void 0);var i=arguments[1],o=function(){throw i};return this.caught(n,o)},e.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof e&&n.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:n},void 0);var i=arguments[1];i instanceof e&&i.suppressUnhandledRejections();var o=function(){return i};return this.caught(n,o)}}});var Xs=V((p_,Js)=>{"use strict";Js.exports=function(e){function t(a){a!==void 0?(a=a._target(),this._bitField=a._bitField,this._settledValueField=a._isFateSealed()?a._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var r=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},n=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},i=t.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},o=t.prototype.isRejected=function(){return(this._bitField&16777216)!==0},s=t.prototype.isPending=function(){return(this._bitField&50397184)===0},u=t.prototype.isResolved=function(){return(this._bitField&50331648)!==0};t.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},e.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},e.prototype.isPending=function(){return s.call(this._target())},e.prototype.isRejected=function(){return o.call(this._target())},e.prototype.isFulfilled=function(){return i.call(this._target())},e.prototype.isResolved=function(){return u.call(this._target())},e.prototype.value=function(){return r.call(this._target())},e.prototype.reason=function(){var a=this._target();return a._unsetRejectionIsUnhandled(),n.call(a)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}});var eu=V((d_,Zs)=>{"use strict";Zs.exports=function(e,t,r,n,i,o){var s=ye(),u=s.canEvaluate,a=s.tryCatch,c=s.errorObj,f;if(u){for(var d=function(g){return new Function("value","holder",`                             
            'use strict';                                                    
            holder.pIndex = value;                                           
            holder.checkFulfillment(this);                                   
            `.replace(/Index/g,g))},w=function(g){return new Function("promise","holder",`                           
            'use strict';                                                    
            holder.pIndex = promise;                                         
            `.replace(/Index/g,g))},y=function(g){for(var S=new Array(g),O=0;O<S.length;++O)S[O]="this.p"+(O+1);var R=S.join(" = ")+" = null;",W=`var promise;
`+S.map(function(B){return`                                                         
                promise = `+B+`;                                      
                if (promise instanceof Promise) {                            
                    promise.cancel();                                        
                }                                                            
            `}).join(`
`),Y=S.join(", "),z="Holder$"+g,D=`return function(tryCatch, errorObj, Promise, async) {    
            'use strict';                                                    
            function [TheName](fn) {                                         
                [TheProperties]                                              
                this.fn = fn;                                                
                this.asyncNeeded = true;                                     
                this.now = 0;                                                
            }                                                                
                                                                             
            [TheName].prototype._callFunction = function(promise) {          
                promise._pushContext();                                      
                var ret = tryCatch(this.fn)([ThePassedArguments]);           
                promise._popContext();                                       
                if (ret === errorObj) {                                      
                    promise._rejectCallback(ret.e, false);                   
                } else {                                                     
                    promise._resolveCallback(ret);                           
                }                                                            
            };                                                               
                                                                             
            [TheName].prototype.checkFulfillment = function(promise) {       
                var now = ++this.now;                                        
                if (now === [TheTotal]) {                                    
                    if (this.asyncNeeded) {                                  
                        async.invoke(this._callFunction, this, promise);     
                    } else {                                                 
                        this._callFunction(promise);                         
                    }                                                        
                                                                             
                }                                                            
            };                                                               
                                                                             
            [TheName].prototype._resultCancelled = function() {              
                [CancellationCode]                                           
            };                                                               
                                                                             
            return [TheName];                                                
        }(tryCatch, errorObj, Promise, async);                               
        `;return D=D.replace(/\[TheName\]/g,z).replace(/\[TheTotal\]/g,g).replace(/\[ThePassedArguments\]/g,Y).replace(/\[TheProperties\]/g,R).replace(/\[CancellationCode\]/g,W),new Function("tryCatch","errorObj","Promise","async",D)(a,c,e,i)},p=[],m=[],_=[],b=0;b<8;++b)p.push(y(b+1)),m.push(d(b+1)),_.push(w(b+1));f=function(g){this._reject(g)}}e.join=function(){var g=arguments.length-1,S;if(g>0&&typeof arguments[g]=="function"&&(S=arguments[g],g<=8&&u)){var L=new e(n);L._captureStackTrace();for(var O=p[g-1],R=new O(S),W=m,Y=0;Y<g;++Y){var z=r(arguments[Y],L);if(z instanceof e){z=z._target();var D=z._bitField;D&50397184?D&33554432?W[Y].call(L,z._value(),R):D&16777216?L._reject(z._reason()):L._cancel():(z._then(W[Y],f,void 0,L,R),_[Y](z,R),R.asyncNeeded=!1)}else W[Y].call(L,z,R)}if(!L._isFateSealed()){if(R.asyncNeeded){var B=o();B!==null&&(R.fn=s.domainBind(B,R.fn))}L._setAsyncGuaranteed(),L._setOnCancel(R)}return L}for(var $=arguments.length,C=new Array($),F=0;F<$;++F)C[F]=arguments[F];S&&C.pop();var L=new t(C).promise();return S!==void 0?L.spread(S):L}}});var ru=V((y_,tu)=>{"use strict";tu.exports=function(e,t,r,n,i,o){var s=e._getDomain,u=ye(),a=u.tryCatch,c=u.errorObj,f=e._async;function d(y,p,m,_){this.constructor$(y),this._promise._captureStackTrace();var b=s();this._callback=b===null?p:u.domainBind(b,p),this._preservedValues=_===i?new Array(this.length()):null,this._limit=m,this._inFlight=0,this._queue=[],f.invoke(this._asyncInit,this,void 0)}u.inherits(d,t),d.prototype._asyncInit=function(){this._init$(void 0,-2)},d.prototype._init=function(){},d.prototype._promiseFulfilled=function(y,p){var m=this._values,_=this.length(),b=this._preservedValues,g=this._limit;if(p<0){if(p=p*-1-1,m[p]=y,g>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(g>=1&&this._inFlight>=g)return m[p]=y,this._queue.push(p),!1;b!==null&&(b[p]=y);var S=this._promise,O=this._callback,R=S._boundValue();S._pushContext();var W=a(O).call(R,y,p,_),Y=S._popContext();if(o.checkForgottenReturns(W,Y,b!==null?"Promise.filter":"Promise.map",S),W===c)return this._reject(W.e),!0;var z=n(W,this._promise);if(z instanceof e){z=z._target();var D=z._bitField;if(D&50397184)if(D&33554432)W=z._value();else return D&16777216?(this._reject(z._reason()),!0):(this._cancel(),!0);else return g>=1&&this._inFlight++,m[p]=z,z._proxy(this,(p+1)*-1),!1}m[p]=W}var B=++this._totalResolved;return B>=_?(b!==null?this._filter(m,b):this._resolve(m),!0):!1},d.prototype._drainQueue=function(){for(var y=this._queue,p=this._limit,m=this._values;y.length>0&&this._inFlight<p;){if(this._isResolved())return;var _=y.pop();this._promiseFulfilled(m[_],_)}},d.prototype._filter=function(y,p){for(var m=p.length,_=new Array(m),b=0,g=0;g<m;++g)y[g]&&(_[b++]=p[g]);_.length=b,this._resolve(_)},d.prototype.preservedValues=function(){return this._preservedValues};function w(y,p,m,_){if(typeof p!="function")return r("expecting a function but got "+u.classString(p));var b=0;if(m!==void 0)if(typeof m=="object"&&m!==null){if(typeof m.concurrency!="number")return e.reject(new TypeError("'concurrency' must be a number but it is "+u.classString(m.concurrency)));b=m.concurrency}else return e.reject(new TypeError("options argument must be an object but it is "+u.classString(m)));return b=typeof b=="number"&&isFinite(b)&&b>=1?b:0,new d(y,p,b,_).promise()}e.prototype.map=function(y,p){return w(this,y,p,null)},e.map=function(y,p,m,_){return w(y,p,m,_)}}});var iu=V((v_,nu)=>{"use strict";var _i=Object.create;_i&&(wi=_i(null),bi=_i(null),wi[" size"]=bi[" size"]=0);var wi,bi;nu.exports=function(e){var t=ye(),r=t.canEvaluate,n=t.isIdentifier,i,o,s=function(y){return new Function("ensureMethod",`                                    
        return function(obj) {                                               
            'use strict'                                                     
            var len = this.length;                                           
            ensureMethod(obj, 'methodName');                                 
            switch(len) {                                                    
                case 1: return obj.methodName(this[0]);                      
                case 2: return obj.methodName(this[0], this[1]);             
                case 3: return obj.methodName(this[0], this[1], this[2]);    
                case 0: return obj.methodName();                             
                default:                                                     
                    return obj.methodName.apply(obj, this);                  
            }                                                                
        };                                                                   
        `.replace(/methodName/g,y))(c)},u=function(y){return new Function("obj",`                                             
        'use strict';                                                        
        return obj.propertyName;                                             
        `.replace("propertyName",y))},a=function(y,p,m){var _=m[y];if(typeof _!="function"){if(!n(y))return null;if(_=p(y),m[y]=_,m[" size"]++,m[" size"]>512){for(var b=Object.keys(m),g=0;g<256;++g)delete m[b[g]];m[" size"]=b.length-256}}return _};i=function(y){return a(y,s,wi)},o=function(y){return a(y,u,bi)};function c(y,p){var m;if(y!=null&&(m=y[p]),typeof m!="function"){var _="Object "+t.classString(y)+" has no method '"+t.toString(p)+"'";throw new e.TypeError(_)}return m}function f(y){var p=this.pop(),m=c(y,p);return m.apply(y,this)}e.prototype.call=function(y){for(var p=arguments.length,m=new Array(Math.max(p-1,0)),_=1;_<p;++_)m[_-1]=arguments[_];if(r){var b=i(y);if(b!==null)return this._then(b,void 0,void 0,m,void 0)}return m.push(y),this._then(f,void 0,void 0,m,void 0)};function d(y){return y[this]}function w(y){var p=+this;return p<0&&(p=Math.max(0,p+y.length)),y[p]}e.prototype.get=function(y){var p=typeof y=="number",m;if(p)m=w;else if(r){var _=o(y);m=_!==null?_:d}else m=d;return this._then(m,void 0,void 0,y,void 0)}}});var au=V((m_,ou)=>{"use strict";ou.exports=function(e,t,r,n,i,o){var s=ye(),u=et().TypeError,a=ye().inherits,c=s.errorObj,f=s.tryCatch,d={};function w(S){setTimeout(function(){throw S},0)}function y(S){var O=r(S);return O!==S&&typeof S._isDisposable=="function"&&typeof S._getDisposer=="function"&&S._isDisposable()&&O._setDisposable(S._getDisposer()),O}function p(S,O){var R=0,W=S.length,Y=new e(i);function z(){if(R>=W)return Y._fulfill();var D=y(S[R++]);if(D instanceof e&&D._isDisposable()){try{D=r(D._getDisposer().tryDispose(O),S.promise)}catch(B){return w(B)}if(D instanceof e)return D._then(z,w,null,null,null)}z()}return z(),Y}function m(S,O,R){this._data=S,this._promise=O,this._context=R}m.prototype.data=function(){return this._data},m.prototype.promise=function(){return this._promise},m.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():d},m.prototype.tryDispose=function(S){var O=this.resource(),R=this._context;R!==void 0&&R._pushContext();var W=O!==d?this.doDispose(O,S):null;return R!==void 0&&R._popContext(),this._promise._unsetDisposable(),this._data=null,W},m.isDisposer=function(S){return S!=null&&typeof S.resource=="function"&&typeof S.tryDispose=="function"};function _(S,O,R){this.constructor$(S,O,R)}a(_,m),_.prototype.doDispose=function(S,O){var R=this.data();return R.call(S,S,O)};function b(S){return m.isDisposer(S)?(this.resources[this.index]._setDisposable(S),S.promise()):S}function g(S){this.length=S,this.promise=null,this[S-1]=null}g.prototype._resultCancelled=function(){for(var S=this.length,O=0;O<S;++O){var R=this[O];R instanceof e&&R.cancel()}},e.using=function(){var S=arguments.length;if(S<2)return t("you must pass at least 2 arguments to Promise.using");var O=arguments[S-1];if(typeof O!="function")return t("expecting a function but got "+s.classString(O));var R,W=!0;S===2&&Array.isArray(arguments[0])?(R=arguments[0],S=R.length,W=!1):(R=arguments,S--);for(var Y=new g(S),z=0;z<S;++z){var D=R[z];if(m.isDisposer(D)){var B=D;D=D.promise(),D._setDisposable(B)}else{var $=r(D);$ instanceof e&&(D=$._then(b,null,null,{resources:Y,index:z},void 0))}Y[z]=D}for(var C=new Array(Y.length),z=0;z<C.length;++z)C[z]=e.resolve(Y[z]).reflect();var F=e.all(C).then(function(I){for(var E=0;E<I.length;++E){var T=I[E];if(T.isRejected())return c.e=T.error(),c;if(!T.isFulfilled()){F.cancel();return}I[E]=T.value()}L._pushContext(),O=f(O);var A=W?O.apply(void 0,I):O(I),j=L._popContext();return o.checkForgottenReturns(A,j,"Promise.using",L),A}),L=F.lastly(function(){var I=new e.PromiseInspection(F);return p(Y,I)});return Y.promise=L,L._setOnCancel(Y),L},e.prototype._setDisposable=function(S){this._bitField=this._bitField|131072,this._disposer=S},e.prototype._isDisposable=function(){return(this._bitField&131072)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},e.prototype.disposer=function(S){if(typeof S=="function")return new _(S,this,n());throw new u}}});var uu=V((g_,su)=>{"use strict";su.exports=function(e,t,r){var n=ye(),i=e.TimeoutError;function o(d){this.handle=d}o.prototype._resultCancelled=function(){clearTimeout(this.handle)};var s=function(d){return u(+this).thenReturn(d)},u=e.delay=function(d,w){var y,p;return w!==void 0?(y=e.resolve(w)._then(s,null,null,d,void 0),r.cancellation()&&w instanceof e&&y._setOnCancel(w)):(y=new e(t),p=setTimeout(function(){y._fulfill()},+d),r.cancellation()&&y._setOnCancel(new o(p)),y._captureStackTrace()),y._setAsyncGuaranteed(),y};e.prototype.delay=function(d){return u(d,this)};var a=function(d,w,y){var p;typeof w!="string"?w instanceof Error?p=w:p=new i("operation timed out"):p=new i(w),n.markAsOriginatingFromRejection(p),d._attachExtraTrace(p),d._reject(p),y?.cancel()};function c(d){return clearTimeout(this.handle),d}function f(d){throw clearTimeout(this.handle),d}e.prototype.timeout=function(d,w){d=+d;var y,p,m=new o(setTimeout(function(){y.isPending()&&a(y,w,p)},d));return r.cancellation()?(p=this.then(),y=p._then(c,f,void 0,m,void 0),y._setOnCancel(m)):y=this._then(c,f,void 0,m,void 0),y}}});var lu=V((__,cu)=>{"use strict";cu.exports=function(e,t,r,n,i,o){var s=et(),u=s.TypeError,a=ye(),c=a.errorObj,f=a.tryCatch,d=[];function w(p,m,_){for(var b=0;b<m.length;++b){_._pushContext();var g=f(m[b])(p);if(_._popContext(),g===c){_._pushContext();var S=e.reject(c.e);return _._popContext(),S}var O=n(g,_);if(O instanceof e)return O}return null}function y(p,m,_,b){if(o.cancellation()){var g=new e(r),S=this._finallyPromise=new e(r);this._promise=g.lastly(function(){return S}),g._captureStackTrace(),g._setOnCancel(this)}else{var O=this._promise=new e(r);O._captureStackTrace()}this._stack=b,this._generatorFunction=p,this._receiver=m,this._generator=void 0,this._yieldHandlers=typeof _=="function"?[_].concat(d):d,this._yieldedPromise=null,this._cancellationPhase=!1}a.inherits(y,i),y.prototype._isResolved=function(){return this._promise===null},y.prototype._cleanup=function(){this._promise=this._generator=null,o.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},y.prototype._promiseCancelled=function(){if(!this._isResolved()){var p=typeof this._generator.return<"u",m;if(p)this._promise._pushContext(),m=f(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var _=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=_,this._promise._attachExtraTrace(_),this._promise._pushContext(),m=f(this._generator.throw).call(this._generator,_),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(m)}},y.prototype._promiseFulfilled=function(p){this._yieldedPromise=null,this._promise._pushContext();var m=f(this._generator.next).call(this._generator,p);this._promise._popContext(),this._continue(m)},y.prototype._promiseRejected=function(p){this._yieldedPromise=null,this._promise._attachExtraTrace(p),this._promise._pushContext();var m=f(this._generator.throw).call(this._generator,p);this._promise._popContext(),this._continue(m)},y.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var p=this._yieldedPromise;this._yieldedPromise=null,p.cancel()}},y.prototype.promise=function(){return this._promise},y.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},y.prototype._continue=function(p){var m=this._promise;if(p===c)return this._cleanup(),this._cancellationPhase?m.cancel():m._rejectCallback(p.e,!1);var _=p.value;if(p.done===!0)return this._cleanup(),this._cancellationPhase?m.cancel():m._resolveCallback(_);var b=n(_,this._promise);if(!(b instanceof e)&&(b=w(b,this._yieldHandlers,this._promise),b===null)){this._promiseRejected(new u(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",_)+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}b=b._target();var g=b._bitField;g&50397184?g&33554432?e._async.invoke(this._promiseFulfilled,this,b._value()):g&16777216?e._async.invoke(this._promiseRejected,this,b._reason()):this._promiseCancelled():(this._yieldedPromise=b,b._proxy(this,null))},e.coroutine=function(p,m){if(typeof p!="function")throw new u(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var _=Object(m).yieldHandler,b=y,g=new Error().stack;return function(){var S=p.apply(this,arguments),O=new b(void 0,void 0,_,g),R=O.promise();return O._generator=S,O._promiseFulfilled(void 0),R}},e.coroutine.addYieldHandler=function(p){if(typeof p!="function")throw new u("expecting a function but got "+a.classString(p));d.push(p)},e.spawn=function(p){if(o.deprecated("Promise.spawn()","Promise.coroutine()"),typeof p!="function")return t(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var m=new y(p,this),_=m.promise();return m._run(e.spawn),_}}});var hu=V((w_,fu)=>{"use strict";fu.exports=function(e){var t=ye(),r=e._async,n=t.tryCatch,i=t.errorObj;function o(a,c){var f=this;if(!t.isArray(a))return s.call(f,a,c);var d=n(c).apply(f._boundValue(),[null].concat(a));d===i&&r.throwLater(d.e)}function s(a,c){var f=this,d=f._boundValue(),w=a===void 0?n(c).call(d,null):n(c).call(d,null,a);w===i&&r.throwLater(w.e)}function u(a,c){var f=this;if(!a){var d=new Error(a+"");d.cause=a,a=d}var w=n(c).call(f._boundValue(),a);w===i&&r.throwLater(w.e)}e.prototype.asCallback=e.prototype.nodeify=function(a,c){if(typeof a=="function"){var f=s;c!==void 0&&Object(c).spread&&(f=o),this._then(f,u,void 0,this,a)}return this}}});var du=V((b_,pu)=>{"use strict";pu.exports=function(e,t){var r={},n=ye(),i=gi(),o=n.withAppended,s=n.maybeWrapAsError,u=n.canEvaluate,a=et().TypeError,c="Async",f={__isPromisified__:!0},d=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],w=new RegExp("^(?:"+d.join("|")+")$"),y=function(F){return n.isIdentifier(F)&&F.charAt(0)!=="_"&&F!=="constructor"};function p(F){return!w.test(F)}function m(F){try{return F.__isPromisified__===!0}catch{return!1}}function _(F,L,I){var E=n.getDataPropertyOrDefault(F,L+I,f);return E?m(E):!1}function b(F,L,I){for(var E=0;E<F.length;E+=2){var T=F[E];if(I.test(T)){for(var A=T.replace(I,""),j=0;j<F.length;j+=2)if(F[j]===A)throw new a(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",L))}}}function g(F,L,I,E){for(var T=n.inheritedDataKeys(F),A=[],j=0;j<T.length;++j){var K=T[j],H=F[K],Z=E===y?!0:y(K,H,F);typeof H=="function"&&!m(H)&&!_(F,K,L)&&E(K,H,F,Z)&&A.push(K,H)}return b(A,L,I),A}var S=function(F){return F.replace(/([$])/,"\\$")},O,R=function(F){for(var L=[F],I=Math.max(0,F-1-3),E=F-1;E>=I;--E)L.push(E);for(var E=F+1;E<=3;++E)L.push(E);return L},W=function(F){return n.filledRange(F,"_arg","")},Y=function(F){return n.filledRange(Math.max(F,3),"_arg","")},z=function(F){return typeof F.length=="number"?Math.max(Math.min(F.length,1024),0):0};O=function(F,L,I,E,T,A){var j=Math.max(0,z(E)-1),K=R(j),H=typeof F=="string"||L===r;function Z(ve){var J=W(ve).join(", "),re=ve>0?", ":"",ie;return H?ie=`ret = callback.call(this, {{args}}, nodeback); break;
`:ie=L===void 0?`ret = callback({{args}}, nodeback); break;
`:`ret = callback.call(receiver, {{args}}, nodeback); break;
`,ie.replace("{{args}}",J).replace(", ",re)}function ne(){for(var ve="",J=0;J<K.length;++J)ve+="case "+K[J]+":"+Z(K[J]);return ve+=`                                                             
        default:                                                             
            var args = new Array(len + 1);                                   
            var i = 0;                                                       
            for (var i = 0; i < len; ++i) {                                  
               args[i] = arguments[i];                                       
            }                                                                
            args[i] = nodeback;                                              
            [CodeForCall]                                                    
            break;                                                           
        `.replace("[CodeForCall]",H?`ret = callback.apply(this, args);
`:`ret = callback.apply(receiver, args);
`),ve}var be=typeof F=="string"?"this != null ? this['"+F+"'] : fn":"fn",Se=`'use strict';                                                
        var ret = function (Parameters) {                                    
            'use strict';                                                    
            var len = arguments.length;                                      
            var promise = new Promise(INTERNAL);                             
            promise._captureStackTrace();                                    
            var nodeback = nodebackForPromise(promise, `+A+`);   
            var ret;                                                         
            var callback = tryCatch([GetFunctionCode]);                      
            switch(len) {                                                    
                [CodeForSwitchCase]                                          
            }                                                                
            if (ret === errorObj) {                                          
                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);
            }                                                                
            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     
            return promise;                                                  
        };                                                                   
        notEnumerableProp(ret, '__isPromisified__', true);                   
        return ret;                                                          
    `.replace("[CodeForSwitchCase]",ne()).replace("[GetFunctionCode]",be);return Se=Se.replace("Parameters",Y(j)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",Se)(e,E,L,o,s,i,n.tryCatch,n.errorObj,n.notEnumerableProp,t)};function D(F,L,I,E,T,A){var j=function(){return this}(),K=F;typeof K=="string"&&(F=E);function H(){var Z=L;L===r&&(Z=this);var ne=new e(t);ne._captureStackTrace();var be=typeof K=="string"&&this!==j?this[K]:F,Se=i(ne,A);try{be.apply(Z,o(arguments,Se))}catch(ve){ne._rejectCallback(s(ve),!0,!0)}return ne._isFateSealed()||ne._setAsyncGuaranteed(),ne}return n.notEnumerableProp(H,"__isPromisified__",!0),H}var B=u?O:D;function $(F,L,I,E,T){for(var A=new RegExp(S(L)+"$"),j=g(F,L,A,I),K=0,H=j.length;K<H;K+=2){var Z=j[K],ne=j[K+1],be=Z+L;if(E===B)F[be]=B(Z,r,Z,ne,L,T);else{var Se=E(ne,function(){return B(Z,r,Z,ne,L,T)});n.notEnumerableProp(Se,"__isPromisified__",!0),F[be]=Se}}return n.toFastProperties(F),F}function C(F,L,I){return B(F,L,void 0,F,null,I)}e.promisify=function(F,L){if(typeof F!="function")throw new a("expecting a function but got "+n.classString(F));if(m(F))return F;L=Object(L);var I=L.context===void 0?r:L.context,E=!!L.multiArgs,T=C(F,I,E);return n.copyDescriptors(F,T,p),T},e.promisifyAll=function(F,L){if(typeof F!="function"&&typeof F!="object")throw new a(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);L=Object(L);var I=!!L.multiArgs,E=L.suffix;typeof E!="string"&&(E=c);var T=L.filter;typeof T!="function"&&(T=y);var A=L.promisifier;if(typeof A!="function"&&(A=B),!n.isIdentifier(E))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var j=n.inheritedDataKeys(F),K=0;K<j.length;++K){var H=F[j[K]];j[K]!=="constructor"&&n.isClass(H)&&($(H.prototype,E,T,A,I),$(H,E,T,A,I))}return $(F,E,T,A,I)}}});var vu=V((E_,yu)=>{"use strict";yu.exports=function(e,t,r,n){var i=ye(),o=i.isObject,s=Et(),u;typeof Map=="function"&&(u=Map);var a=function(){var w=0,y=0;function p(m,_){this[w]=m,this[w+y]=_,w++}return function(_){y=_.size,w=0;var b=new Array(_.size*2);return _.forEach(p,b),b}}(),c=function(w){for(var y=new u,p=w.length/2|0,m=0;m<p;++m){var _=w[p+m],b=w[m];y.set(_,b)}return y};function f(w){var y=!1,p;if(u!==void 0&&w instanceof u)p=a(w),y=!0;else{var m=s.keys(w),_=m.length;p=new Array(_*2);for(var b=0;b<_;++b){var g=m[b];p[b]=w[g],p[b+_]=g}}this.constructor$(p),this._isMap=y,this._init$(void 0,-3)}i.inherits(f,t),f.prototype._init=function(){},f.prototype._promiseFulfilled=function(w,y){this._values[y]=w;var p=++this._totalResolved;if(p>=this._length){var m;if(this._isMap)m=c(this._values);else{m={};for(var _=this.length(),b=0,g=this.length();b<g;++b)m[this._values[b+_]]=this._values[b]}return this._resolve(m),!0}return!1},f.prototype.shouldCopyValues=function(){return!1},f.prototype.getActualLength=function(w){return w>>1};function d(w){var y,p=r(w);if(o(p))p instanceof e?y=p._then(e.props,void 0,void 0,void 0,void 0):y=new f(p).promise();else return n(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return p instanceof e&&y._propagateFrom(p,2),y}e.prototype.props=function(){return d(this)},e.props=function(w){return d(w)}}});var gu=V((S_,mu)=>{"use strict";mu.exports=function(e,t,r,n){var i=ye(),o=function(u){return u.then(function(a){return s(a,u)})};function s(u,a){var c=r(u);if(c instanceof e)return o(c);if(u=i.asArray(u),u===null)return n("expecting an array or an iterable object but got "+i.classString(u));var f=new e(t);a!==void 0&&f._propagateFrom(a,3);for(var d=f._fulfill,w=f._reject,y=0,p=u.length;y<p;++y){var m=u[y];m===void 0&&!(y in u)||e.cast(m)._then(d,w,void 0,f,null)}return f}e.race=function(u){return s(u,void 0)},e.prototype.race=function(){return s(this,void 0)}}});var wu=V((k_,_u)=>{"use strict";_u.exports=function(e,t,r,n,i,o){var s=e._getDomain,u=ye(),a=u.tryCatch;function c(p,m,_,b){this.constructor$(p);var g=s();this._fn=g===null?m:u.domainBind(g,m),_!==void 0&&(_=e.resolve(_),_._attachCancellationCallback(this)),this._initialValue=_,this._currentCancellable=null,b===i?this._eachValues=Array(this._length):b===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}u.inherits(c,t),c.prototype._gotAccum=function(p){this._eachValues!==void 0&&this._eachValues!==null&&p!==i&&this._eachValues.push(p)},c.prototype._eachComplete=function(p){return this._eachValues!==null&&this._eachValues.push(p),this._eachValues},c.prototype._init=function(){},c.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},c.prototype.shouldCopyValues=function(){return!1},c.prototype._resolve=function(p){this._promise._resolveCallback(p),this._values=null},c.prototype._resultCancelled=function(p){if(p===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel())},c.prototype._iterate=function(p){this._values=p;var m,_,b=p.length;if(this._initialValue!==void 0?(m=this._initialValue,_=0):(m=e.resolve(p[0]),_=1),this._currentCancellable=m,!m.isRejected())for(;_<b;++_){var g={accum:null,value:p[_],index:_,length:b,array:this};m=m._then(w,void 0,void 0,g,void 0)}this._eachValues!==void 0&&(m=m._then(this._eachComplete,void 0,void 0,this,void 0)),m._then(f,f,void 0,m,this)},e.prototype.reduce=function(p,m){return d(this,p,m,null)},e.reduce=function(p,m,_,b){return d(p,m,_,b)};function f(p,m){this.isFulfilled()?m._resolve(p):m._reject(p)}function d(p,m,_,b){if(typeof m!="function")return r("expecting a function but got "+u.classString(m));var g=new c(p,m,_,b);return g.promise()}function w(p){this.accum=p,this.array._gotAccum(p);var m=n(this.value,this.array._promise);return m instanceof e?(this.array._currentCancellable=m,m._then(y,void 0,void 0,this,void 0)):y.call(this,m)}function y(p){var m=this.array,_=m._promise,b=a(m._fn);_._pushContext();var g;m._eachValues!==void 0?g=b.call(_._boundValue(),p,this.index,this.length):g=b.call(_._boundValue(),this.accum,p,this.index,this.length),g instanceof e&&(m._currentCancellable=g);var S=_._popContext();return o.checkForgottenReturns(g,S,m._eachValues!==void 0?"Promise.each":"Promise.reduce",_),g}}});var Eu=V((T_,bu)=>{"use strict";bu.exports=function(e,t,r){var n=e.PromiseInspection,i=ye();function o(s){this.constructor$(s)}i.inherits(o,t),o.prototype._promiseResolved=function(s,u){this._values[s]=u;var a=++this._totalResolved;return a>=this._length?(this._resolve(this._values),!0):!1},o.prototype._promiseFulfilled=function(s,u){var a=new n;return a._bitField=33554432,a._settledValueField=s,this._promiseResolved(u,a)},o.prototype._promiseRejected=function(s,u){var a=new n;return a._bitField=16777216,a._settledValueField=s,this._promiseResolved(u,a)},e.settle=function(s){return r.deprecated(".settle()",".reflect()"),new o(s).promise()},e.prototype.settle=function(){return e.settle(this)}}});var ku=V((O_,Su)=>{"use strict";Su.exports=function(e,t,r){var n=ye(),i=et().RangeError,o=et().AggregateError,s=n.isArray,u={};function a(f){this.constructor$(f),this._howMany=0,this._unwrap=!1,this._initialized=!1}n.inherits(a,t),a.prototype._init=function(){if(this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var f=s(this._values);!this._isResolved()&&f&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},a.prototype.init=function(){this._initialized=!0,this._init()},a.prototype.setUnwrap=function(){this._unwrap=!0},a.prototype.howMany=function(){return this._howMany},a.prototype.setHowMany=function(f){this._howMany=f},a.prototype._promiseFulfilled=function(f){return this._addFulfilled(f),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},a.prototype._promiseRejected=function(f){return this._addRejected(f),this._checkOutcome()},a.prototype._promiseCancelled=function(){return this._values instanceof e||this._values==null?this._cancel():(this._addRejected(u),this._checkOutcome())},a.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var f=new o,d=this.length();d<this._values.length;++d)this._values[d]!==u&&f.push(this._values[d]);return f.length>0?this._reject(f):this._cancel(),!0}return!1},a.prototype._fulfilled=function(){return this._totalResolved},a.prototype._rejected=function(){return this._values.length-this.length()},a.prototype._addRejected=function(f){this._values.push(f)},a.prototype._addFulfilled=function(f){this._values[this._totalResolved++]=f},a.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},a.prototype._getRangeError=function(f){var d="Input array must contain at least "+this._howMany+" items but contains only "+f+" items";return new i(d)},a.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function c(f,d){if((d|0)!==d||d<0)return r(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var w=new a(f),y=w.promise();return w.setHowMany(d),w.init(),y}e.some=function(f,d){return c(f,d)},e.prototype.some=function(f){return c(this,f)},e._SomePromiseArray=a}});var Ou=V((x_,Tu)=>{"use strict";Tu.exports=function(e,t){var r=e.map;e.prototype.filter=function(n,i){return r(this,n,i,t)},e.filter=function(n,i,o){return r(n,i,o,t)}}});var Cu=V((C_,xu)=>{"use strict";xu.exports=function(e,t){var r=e.reduce,n=e.all;function i(){return n(this)}function o(s,u){return r(s,u,t,t)}e.prototype.each=function(s){return r(this,s,t,0)._then(i,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(s){return r(this,s,t,t)},e.each=function(s,u){return r(s,u,t,0)._then(i,void 0,void 0,s,void 0)},e.mapSeries=o}});var Ru=V((F_,Fu)=>{"use strict";Fu.exports=function(e){var t=e._SomePromiseArray;function r(n){var i=new t(n),o=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),o}e.any=function(n){return r(n)},e.prototype.any=function(){return r(this)}}});var qu=V((R_,Ei)=>{"use strict";Ei.exports=function(){var e=function(){return new d(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},t=function(){return new C.PromiseInspection(this._target())},r=function(E){return C.reject(new d(E))};function n(){}var i={},o=ye(),s;o.isNode?s=function(){var E=process.domain;return E===void 0&&(E=null),E}:s=function(){return null},o.notEnumerableProp(C,"_getDomain",s);var u=Et(),a=ks(),c=new a;u.defineProperty(C,"_async",{value:c});var f=et(),d=C.TypeError=f.TypeError;C.RangeError=f.RangeError;var w=C.CancellationError=f.CancellationError;C.TimeoutError=f.TimeoutError,C.OperationalError=f.OperationalError,C.RejectionError=f.OperationalError,C.AggregateError=f.AggregateError;var y=function(){},p={},m={},_=Fs()(C,y),b=qs()(C,y,_,r,n),g=As()(C),S=g.create,O=js()(C,g),R=O.CapturedTrace,W=Is()(C,_),Y=Ps()(m),z=gi(),D=o.errorObj,B=o.tryCatch;function $(E,T){if(typeof T!="function")throw new d("expecting a function but got "+o.classString(T));if(E.constructor!==C)throw new d(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`)}function C(E){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,E!==y&&($(this,E),this._resolveFromExecutor(E)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}C.prototype.toString=function(){return"[object Promise]"},C.prototype.caught=C.prototype.catch=function(E){var T=arguments.length;if(T>1){var A=new Array(T-1),j=0,K;for(K=0;K<T-1;++K){var H=arguments[K];if(o.isObject(H))A[j++]=H;else return r("expecting an object but got A catch statement predicate "+o.classString(H))}return A.length=j,E=arguments[K],this.then(void 0,Y(A,E,this))}return this.then(void 0,E)},C.prototype.reflect=function(){return this._then(t,t,void 0,this,void 0)},C.prototype.then=function(E,T){if(O.warnings()&&arguments.length>0&&typeof E!="function"&&typeof T!="function"){var A=".then() only accepts functions but was passed: "+o.classString(E);arguments.length>1&&(A+=", "+o.classString(T)),this._warn(A)}return this._then(E,T,void 0,void 0,void 0)},C.prototype.done=function(E,T){var A=this._then(E,T,void 0,void 0,void 0);A._setIsFinal()},C.prototype.spread=function(E){return typeof E!="function"?r("expecting a function but got "+o.classString(E)):this.all()._then(E,void 0,void 0,p,void 0)},C.prototype.toJSON=function(){var E={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(E.fulfillmentValue=this.value(),E.isFulfilled=!0):this.isRejected()&&(E.rejectionReason=this.reason(),E.isRejected=!0),E},C.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new b(this).promise()},C.prototype.error=function(E){return this.caught(o.originatesFromRejection,E)},C.getNewLibraryCopy=Ei.exports,C.is=function(E){return E instanceof C},C.fromNode=C.fromCallback=function(E){var T=new C(y);T._captureStackTrace();var A=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,j=B(E)(z(T,A));return j===D&&T._rejectCallback(j.e,!0),T._isFateSealed()||T._setAsyncGuaranteed(),T},C.all=function(E){return new b(E).promise()},C.cast=function(E){var T=_(E);return T instanceof C||(T=new C(y),T._captureStackTrace(),T._setFulfilled(),T._rejectionHandler0=E),T},C.resolve=C.fulfilled=C.cast,C.reject=C.rejected=function(E){var T=new C(y);return T._captureStackTrace(),T._rejectCallback(E,!0),T},C.setScheduler=function(E){if(typeof E!="function")throw new d("expecting a function but got "+o.classString(E));return c.setScheduler(E)},C.prototype._then=function(E,T,A,j,K){var H=K!==void 0,Z=H?K:new C(y),ne=this._target(),be=ne._bitField;H||(Z._propagateFrom(this,3),Z._captureStackTrace(),j===void 0&&this._bitField&2097152&&(be&50397184?j=this._boundValue():j=ne===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,Z));var Se=s();if(be&50397184){var ve,J,re=ne._settlePromiseCtx;be&33554432?(J=ne._rejectionHandler0,ve=E):be&16777216?(J=ne._fulfillmentHandler0,ve=T,ne._unsetRejectionIsUnhandled()):(re=ne._settlePromiseLateCancellationObserver,J=new w("late cancellation observer"),ne._attachExtraTrace(J),ve=T),c.invoke(re,ne,{handler:Se===null?ve:typeof ve=="function"&&o.domainBind(Se,ve),promise:Z,receiver:j,value:J})}else ne._addCallbacks(E,T,Z,j,Se);return Z},C.prototype._length=function(){return this._bitField&65535},C.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},C.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},C.prototype._setLength=function(E){this._bitField=this._bitField&-65536|E&65535},C.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},C.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},C.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},C.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},C.prototype._isFinal=function(){return(this._bitField&4194304)>0},C.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},C.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},C.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},C.prototype._setAsyncGuaranteed=function(){c.hasCustomScheduler()||(this._bitField=this._bitField|134217728)},C.prototype._receiverAt=function(E){var T=E===0?this._receiver0:this[E*4-4+3];if(T!==i)return T===void 0&&this._isBound()?this._boundValue():T},C.prototype._promiseAt=function(E){return this[E*4-4+2]},C.prototype._fulfillmentHandlerAt=function(E){return this[E*4-4+0]},C.prototype._rejectionHandlerAt=function(E){return this[E*4-4+1]},C.prototype._boundValue=function(){},C.prototype._migrateCallback0=function(E){var T=E._bitField,A=E._fulfillmentHandler0,j=E._rejectionHandler0,K=E._promise0,H=E._receiverAt(0);H===void 0&&(H=i),this._addCallbacks(A,j,K,H,null)},C.prototype._migrateCallbackAt=function(E,T){var A=E._fulfillmentHandlerAt(T),j=E._rejectionHandlerAt(T),K=E._promiseAt(T),H=E._receiverAt(T);H===void 0&&(H=i),this._addCallbacks(A,j,K,H,null)},C.prototype._addCallbacks=function(E,T,A,j,K){var H=this._length();if(H>=65531&&(H=0,this._setLength(0)),H===0)this._promise0=A,this._receiver0=j,typeof E=="function"&&(this._fulfillmentHandler0=K===null?E:o.domainBind(K,E)),typeof T=="function"&&(this._rejectionHandler0=K===null?T:o.domainBind(K,T));else{var Z=H*4-4;this[Z+2]=A,this[Z+3]=j,typeof E=="function"&&(this[Z+0]=K===null?E:o.domainBind(K,E)),typeof T=="function"&&(this[Z+1]=K===null?T:o.domainBind(K,T))}return this._setLength(H+1),H},C.prototype._proxy=function(E,T){this._addCallbacks(void 0,void 0,T,E,null)},C.prototype._resolveCallback=function(E,T){if(!(this._bitField&117506048)){if(E===this)return this._rejectCallback(e(),!1);var A=_(E,this);if(!(A instanceof C))return this._fulfill(E);T&&this._propagateFrom(A,2);var j=A._target();if(j===this){this._reject(e());return}var K=j._bitField;if(K&50397184)if(K&33554432)this._fulfill(j._value());else if(K&16777216)this._reject(j._reason());else{var ne=new w("late cancellation observer");j._attachExtraTrace(ne),this._reject(ne)}else{var H=this._length();H>0&&j._migrateCallback0(this);for(var Z=1;Z<H;++Z)j._migrateCallbackAt(this,Z);this._setFollowing(),this._setLength(0),this._setFollowee(j)}}},C.prototype._rejectCallback=function(E,T,A){var j=o.ensureErrorObject(E),K=j===E;if(!K&&!A&&O.warnings()){var H="a promise was rejected with a non-error: "+o.classString(E);this._warn(H,!0)}this._attachExtraTrace(j,T?K:!1),this._reject(E)},C.prototype._resolveFromExecutor=function(E){var T=this;this._captureStackTrace(),this._pushContext();var A=!0,j=this._execute(E,function(K){T._resolveCallback(K)},function(K){T._rejectCallback(K,A)});A=!1,this._popContext(),j!==void 0&&T._rejectCallback(j,!0)},C.prototype._settlePromiseFromHandler=function(E,T,A,j){var K=j._bitField;if(!(K&65536)){j._pushContext();var H;T===p?!A||typeof A.length!="number"?(H=D,H.e=new d("cannot .spread() a non-array: "+o.classString(A))):H=B(E).apply(this._boundValue(),A):H=B(E).call(T,A);var Z=j._popContext();K=j._bitField,!(K&65536)&&(H===m?j._reject(A):H===D?j._rejectCallback(H.e,!1):(O.checkForgottenReturns(H,Z,"",j,this),j._resolveCallback(H)))}},C.prototype._target=function(){for(var E=this;E._isFollowing();)E=E._followee();return E},C.prototype._followee=function(){return this._rejectionHandler0},C.prototype._setFollowee=function(E){this._rejectionHandler0=E},C.prototype._settlePromise=function(E,T,A,j){var K=E instanceof C,H=this._bitField,Z=(H&134217728)!==0;H&65536?(K&&E._invokeInternalOnCancel(),A instanceof W&&A.isFinallyHandler()?(A.cancelPromise=E,B(T).call(A,j)===D&&E._reject(D.e)):T===t?E._fulfill(t.call(A)):A instanceof n?A._promiseCancelled(E):K||E instanceof b?E._cancel():A.cancel()):typeof T=="function"?K?(Z&&E._setAsyncGuaranteed(),this._settlePromiseFromHandler(T,A,j,E)):T.call(A,j,E):A instanceof n?A._isResolved()||(H&33554432?A._promiseFulfilled(j,E):A._promiseRejected(j,E)):K&&(Z&&E._setAsyncGuaranteed(),H&33554432?E._fulfill(j):E._reject(j))},C.prototype._settlePromiseLateCancellationObserver=function(E){var T=E.handler,A=E.promise,j=E.receiver,K=E.value;typeof T=="function"?A instanceof C?this._settlePromiseFromHandler(T,j,K,A):T.call(j,K,A):A instanceof C&&A._reject(K)},C.prototype._settlePromiseCtx=function(E){this._settlePromise(E.promise,E.handler,E.receiver,E.value)},C.prototype._settlePromise0=function(E,T,A){var j=this._promise0,K=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(j,E,K,T)},C.prototype._clearCallbackDataAtIndex=function(E){var T=E*4-4;this[T+2]=this[T+3]=this[T+0]=this[T+1]=void 0},C.prototype._fulfill=function(E){var T=this._bitField;if(!((T&117506048)>>>16)){if(E===this){var A=e();return this._attachExtraTrace(A),this._reject(A)}this._setFulfilled(),this._rejectionHandler0=E,(T&65535)>0&&(T&134217728?this._settlePromises():c.settlePromises(this))}},C.prototype._reject=function(E){var T=this._bitField;if(!((T&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=E,this._isFinal())return c.fatalError(E,o.isNode);(T&65535)>0?c.settlePromises(this):this._ensurePossibleRejectionHandled()}},C.prototype._fulfillPromises=function(E,T){for(var A=1;A<E;A++){var j=this._fulfillmentHandlerAt(A),K=this._promiseAt(A),H=this._receiverAt(A);this._clearCallbackDataAtIndex(A),this._settlePromise(K,j,H,T)}},C.prototype._rejectPromises=function(E,T){for(var A=1;A<E;A++){var j=this._rejectionHandlerAt(A),K=this._promiseAt(A),H=this._receiverAt(A);this._clearCallbackDataAtIndex(A),this._settlePromise(K,j,H,T)}},C.prototype._settlePromises=function(){var E=this._bitField,T=E&65535;if(T>0){if(E&16842752){var A=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,A,E),this._rejectPromises(T,A)}else{var j=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,j,E),this._fulfillPromises(T,j)}this._setLength(0)}this._clearCancellationData()},C.prototype._settledValue=function(){var E=this._bitField;if(E&33554432)return this._rejectionHandler0;if(E&16777216)return this._fulfillmentHandler0};function F(E){this.promise._resolveCallback(E)}function L(E){this.promise._rejectCallback(E,!1)}C.defer=C.pending=function(){O.deprecated("Promise.defer","new Promise");var E=new C(y);return{promise:E,resolve:F,reject:L}},o.notEnumerableProp(C,"_makeSelfResolutionError",e),Vs()(C,y,_,r,O),zs()(C,y,_,O),Ks()(C,b,r,O),Qs()(C),Xs()(C),eu()(C,b,_,y,c,s),C.Promise=C,C.version="3.4.7",ru()(C,b,r,_,y,O),iu()(C),au()(C,r,_,S,y,O),uu()(C,y,O),lu()(C,r,y,_,n,O),hu()(C),du()(C,y),vu()(C,b,_,r),gu()(C,y,_,r),wu()(C,b,r,_,y,O),Eu()(C,b,O),ku()(C,b,r),Ou()(C,y),Cu()(C,y),Ru()(C),o.toFastProperties(C),o.toFastProperties(C.prototype);function I(E){var T=new C(y);T._fulfillmentHandler0=E,T._rejectionHandler0=E,T._promise0=E,T._receiver0=E}return I({a:1}),I({b:2}),I({c:3}),I(1),I(function(){}),I(void 0),I(!1),I(new C(y)),O.setBounds(a.firstLineError,o.lastLineError),C}});var st=V((q_,Au)=>{"use strict";var Du;typeof Promise<"u"&&(Du=Promise);function vd(){try{Promise===on&&(Promise=Du)}catch{}return on}var on=qu()();on.noConflict=vd;Au.exports=on});var sn=V((D_,Nu)=>{var an=require("stream"),Si=st(),md=require("util"),gd="function";function ut(){if(!(this instanceof ut))return new ut;an.Duplex.call(this,{decodeStrings:!1,objectMode:!0}),this.buffer=Buffer.from("");var e=this;e.on("finish",function(){e.finished=!0,e.emit("chunk",!1)})}md.inherits(ut,an.Duplex);ut.prototype._write=function(e,t,r){this.buffer=Buffer.concat([this.buffer,e]),this.cb=r,this.emit("chunk")};ut.prototype.stream=function(e,t){var r=an.PassThrough(),n,i=this;function o(){if(typeof i.cb===gd){var u=i.cb;return i.cb=void 0,u()}}function s(){var u;if(i.buffer&&i.buffer.length){if(typeof e=="number")u=i.buffer.slice(0,e),i.buffer=i.buffer.slice(e),e-=u.length,n=n||!e;else{var a=i.buffer.indexOf(e);if(a!==-1)i.match=a,t&&(a=a+e.length),u=i.buffer.slice(0,a),i.buffer=i.buffer.slice(a),n=!0;else{var c=i.buffer.length-e.length;c<=0?o():(u=i.buffer.slice(0,c),i.buffer=i.buffer.slice(c))}}u&&r.write(u,function(){(i.buffer.length===0||e.length&&i.buffer.length<=e.length)&&o()})}if(n)i.removeListener("chunk",s),r.end();else if(i.finished){i.removeListener("chunk",s),i.emit("error",new Error("FILE_ENDED"));return}}return i.on("chunk",s),s(),r};ut.prototype.pull=function(e,t){if(e===0)return Si.resolve("");if(!isNaN(e)&&this.buffer.length>e){var r=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),Si.resolve(r)}var n=Buffer.from(""),i=this,o=an.Transform();o._transform=function(a,c,f){n=Buffer.concat([n,a]),f()};var s,u;return new Si(function(a,c){if(s=c,u=function(f){i.__emittedError=f,c(f)},i.finished)return c(new Error("FILE_ENDED"));i.once("error",u),i.stream(e,t).on("error",c).pipe(o).on("finish",function(){a(n)}).on("error",c)}).finally(function(){i.removeListener("error",s),i.removeListener("error",u)})};ut.prototype._read=function(){};Nu.exports=ut});var Iu=V((A_,Lu)=>{var ju=require("stream"),_d=require("util");function lr(){if(!(this instanceof lr))return new lr;ju.Transform.call(this)}_d.inherits(lr,ju.Transform);lr.prototype._transform=function(e,t,r){r()};Lu.exports=lr});var un=V((N_,Mu)=>{var wd=st(),bd=require("stream");Mu.exports=function(e){return new wd(function(t,r){var n=[],i=bd.Transform().on("finish",function(){t(Buffer.concat(n))}).on("error",r);i._transform=function(o,s,u){n.push(o),u()},e.on("error",r).pipe(i)})}});var fr=V((j_,Pu)=>{var Ed=function(e,t,r){var n;switch(r){case 1:n=e.readUInt8(t);break;case 2:n=e.readUInt16LE(t);break;case 4:n=e.readUInt32LE(t);break;case 8:n=Number(e.readBigUInt64LE(t));break;default:throw new Error("Unsupported UInt LE size!")}return n},Sd=function(e,t){var r={},n=0;for(let[i,o]of t)e.length>=n+o?r[i]=Ed(e,n,o):r[i]=null,n+=o;return r};Pu.exports={parse:Sd}});var cn=V((L_,Bu)=>{var kd=fr();Bu.exports=function(e,t){for(var r;!r&&e&&e.length;){var n=kd.parse(e,[["signature",2],["partsize",2],["uncompressedSize",8],["compressedSize",8],["offset",8],["disknum",8]]);n.signature===1?r=n:e=e.slice(n.partsize+4)}return r=r||{},t.compressedSize===4294967295&&(t.compressedSize=r.compressedSize),t.uncompressedSize===4294967295&&(t.uncompressedSize=r.uncompressedSize),t.offsetToLocalFileHeader===4294967295&&(t.offsetToLocalFileHeader=r.offset),r}});var ln=V((I_,Uu)=>{Uu.exports=function(t,r){let n=t&31,i=t>>5&15,o=(t>>9&127)+1980,s=r?(r&31)*2:0,u=r?r>>5&63:0,a=r?r>>11:0;return new Date(Date.UTC(o,i-1,n,a,u,s))}});var fn=V((M_,Vu)=>{var Td=require("util"),Od=require("zlib"),ki=require("stream"),Ti=st(),Wu=sn(),xd=Iu(),Cd=un(),Fd=cn(),Rd=ln(),qd=ki.pipeline,hr=fr(),$u=Buffer.alloc(4);$u.writeUInt32LE(101010256,0);function Ve(e){if(!(this instanceof Ve))return new Ve(e);var t=this;t._opts=e||{verbose:!1},Wu.call(t,t._opts),t.on("finish",function(){t.emit("end"),t.emit("close")}),t._readRecord().catch(function(r){(!t.__emittedError||t.__emittedError!==r)&&t.emit("error",r)})}Td.inherits(Ve,Wu);Ve.prototype._readRecord=function(){var e=this;return e.pull(4).then(function(t){if(t.length!==0){var r=t.readUInt32LE(0);if(r===875721283)return e._readCrxHeader();if(r===67324752)return e._readFile();if(r===33639248)return e.reachedCD=!0,e._readCentralDirectoryFileHeader();if(r===101010256)return e._readEndOfCentralDirectoryRecord();if(e.reachedCD){var n=!0;return e.pull($u,n).then(function(){return e._readEndOfCentralDirectoryRecord()})}else e.emit("error",new Error("invalid signature: 0x"+r.toString(16)))}}).then(function(t){if(t)return e._readRecord()})};Ve.prototype._readCrxHeader=function(){var e=this;return e.pull(12).then(function(t){return e.crxHeader=hr.parse(t,[["version",4],["pubKeyLength",4],["signatureLength",4]]),e.pull(e.crxHeader.pubKeyLength+e.crxHeader.signatureLength)}).then(function(t){return e.crxHeader.publicKey=t.slice(0,e.crxHeader.pubKeyLength),e.crxHeader.signature=t.slice(e.crxHeader.pubKeyLength),e.emit("crx-header",e.crxHeader),!0})};Ve.prototype._readFile=function(){var e=this;return e.pull(26).then(function(t){var r=hr.parse(t,[["versionsNeededToExtract",2],["flags",2],["compressionMethod",2],["lastModifiedTime",2],["lastModifiedDate",2],["crc32",4],["compressedSize",4],["uncompressedSize",4],["fileNameLength",2],["extraFieldLength",2]]);return r.lastModifiedDateTime=Rd(r.lastModifiedDate,r.lastModifiedTime),e.crxHeader&&(r.crxHeader=e.crxHeader),e.pull(r.fileNameLength).then(function(n){var i=n.toString("utf8"),o=ki.PassThrough(),s=!1;return o.autodrain=function(){s=!0;var u=o.pipe(xd());return u.promise=function(){return new Ti(function(a,c){u.on("finish",a),u.on("error",c)})},u},o.buffer=function(){return Cd(o)},o.path=i,o.props={},o.props.path=i,o.props.pathBuffer=n,o.props.flags={isUnicode:(r.flags&2048)!=0},o.type=r.uncompressedSize===0&&/[\/\\]$/.test(i)?"Directory":"File",e._opts.verbose&&(o.type==="Directory"?console.log("   creating:",i):o.type==="File"&&(r.compressionMethod===0?console.log(" extracting:",i):console.log("  inflating:",i))),e.pull(r.extraFieldLength).then(function(u){var a=Fd(u,r);o.vars=r,o.extra=a,e._opts.forceStream?e.push(o):(e.emit("entry",o),(e._readableState.pipesCount||e._readableState.pipes&&e._readableState.pipes.length)&&e.push(o)),e._opts.verbose&&console.log({filename:i,vars:r,extra:a});var c=!(r.flags&8)||r.compressedSize>0,f;o.__autodraining=s;var d=r.compressionMethod&&!s?Od.createInflateRaw():ki.PassThrough();return c?(o.size=r.uncompressedSize,f=r.compressedSize):(f=Buffer.alloc(4),f.writeUInt32LE(134695760,0)),new Ti(function(w,y){qd(e.stream(f),d,o,function(p){return p?y(p):c?w(c):e._processDataDescriptor(o).then(w).catch(y)})})})})})};Ve.prototype._processDataDescriptor=function(e){var t=this;return t.pull(16).then(function(r){var n=hr.parse(r,[["dataDescriptorSignature",4],["crc32",4],["compressedSize",4],["uncompressedSize",4]]);return e.size=n.uncompressedSize,!0})};Ve.prototype._readCentralDirectoryFileHeader=function(){var e=this;return e.pull(42).then(function(t){var r=hr.parse(t,[["versionMadeBy",2],["versionsNeededToExtract",2],["flags",2],["compressionMethod",2],["lastModifiedTime",2],["lastModifiedDate",2],["crc32",4],["compressedSize",4],["uncompressedSize",4],["fileNameLength",2],["extraFieldLength",2],["fileCommentLength",2],["diskNumber",2],["internalFileAttributes",2],["externalFileAttributes",4],["offsetToLocalFileHeader",4]]);return e.pull(r.fileNameLength).then(function(n){return r.fileName=n.toString("utf8"),e.pull(r.extraFieldLength)}).then(function(n){return e.pull(r.fileCommentLength)}).then(function(n){return!0})})};Ve.prototype._readEndOfCentralDirectoryRecord=function(){var e=this;return e.pull(18).then(function(t){var r=hr.parse(t,[["diskNumber",2],["diskStart",2],["numberOfRecordsOnDisk",2],["numberOfRecords",2],["sizeOfCentralDirectory",4],["offsetToStartOfCentralDirectory",4],["commentLength",2]]);return e.pull(r.commentLength).then(function(n){n=n.toString("utf8"),e.end(),e.push(null)})})};Ve.prototype.promise=function(){var e=this;return new Ti(function(t,r){e.on("finish",t),e.on("error",r)})};Vu.exports=Ve});var pr=V((P_,Oi)=>{"use strict";typeof process>"u"||!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?Oi.exports={nextTick:Dd}:Oi.exports=process;function Dd(e,t,r,n){if(typeof e!="function")throw new TypeError('"callback" argument must be a function');var i=arguments.length,o,s;switch(i){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick(function(){e.call(null,t)});case 3:return process.nextTick(function(){e.call(null,t,r)});case 4:return process.nextTick(function(){e.call(null,t,r,n)});default:for(o=new Array(i-1),s=0;s<o.length;)o[s++]=arguments[s];return process.nextTick(function(){e.apply(null,o)})}}});var zu=V((B_,Gu)=>{var Ad={}.toString;Gu.exports=Array.isArray||function(e){return Ad.call(e)=="[object Array]"}});var xi=V((U_,Hu)=>{Hu.exports=require("stream")});var dr=V((Ci,Yu)=>{var hn=require("buffer"),tt=hn.Buffer;function Ku(e,t){for(var r in e)t[r]=e[r]}tt.from&&tt.alloc&&tt.allocUnsafe&&tt.allocUnsafeSlow?Yu.exports=hn:(Ku(hn,Ci),Ci.Buffer=Vt);function Vt(e,t,r){return tt(e,t,r)}Ku(tt,Vt);Vt.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return tt(e,t,r)};Vt.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=tt(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};Vt.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return tt(e)};Vt.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return hn.SlowBuffer(e)}});var Gt=V(je=>{function Nd(e){return Array.isArray?Array.isArray(e):pn(e)==="[object Array]"}je.isArray=Nd;function jd(e){return typeof e=="boolean"}je.isBoolean=jd;function Ld(e){return e===null}je.isNull=Ld;function Id(e){return e==null}je.isNullOrUndefined=Id;function Md(e){return typeof e=="number"}je.isNumber=Md;function Pd(e){return typeof e=="string"}je.isString=Pd;function Bd(e){return typeof e=="symbol"}je.isSymbol=Bd;function Ud(e){return e===void 0}je.isUndefined=Ud;function Wd(e){return pn(e)==="[object RegExp]"}je.isRegExp=Wd;function $d(e){return typeof e=="object"&&e!==null}je.isObject=$d;function Vd(e){return pn(e)==="[object Date]"}je.isDate=Vd;function Gd(e){return pn(e)==="[object Error]"||e instanceof Error}je.isError=Gd;function zd(e){return typeof e=="function"}je.isFunction=zd;function Hd(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||typeof e=="symbol"||typeof e>"u"}je.isPrimitive=Hd;je.isBuffer=require("buffer").Buffer.isBuffer;function pn(e){return Object.prototype.toString.call(e)}});var Qu=V(($_,Fi)=>{typeof Object.create=="function"?Fi.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Fi.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}});var xe=V((V_,qi)=>{try{if(Ri=require("util"),typeof Ri.inherits!="function")throw"";qi.exports=Ri.inherits}catch{qi.exports=Qu()}var Ri});var Xu=V((G_,Di)=>{"use strict";function Kd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Ju=dr().Buffer,yr=require("util");function Yd(e,t,r){e.copy(t,r)}Di.exports=function(){function e(){Kd(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},e.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},e.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},e.prototype.concat=function(r){if(this.length===0)return Ju.alloc(0);for(var n=Ju.allocUnsafe(r>>>0),i=this.head,o=0;i;)Yd(i.data,n,o),o+=i.data.length,i=i.next;return n},e}();yr&&yr.inspect&&yr.inspect.custom&&(Di.exports.prototype[yr.inspect.custom]=function(){var e=yr.inspect({length:this.length});return this.constructor.name+" "+e})});var Ai=V((z_,Zu)=>{"use strict";var dn=pr();function Qd(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,dn.nextTick(yn,this,e)):dn.nextTick(yn,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(o){!t&&o?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,dn.nextTick(yn,r,o)):dn.nextTick(yn,r,o):t&&t(o)}),this)}function Jd(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function yn(e,t){e.emit("error",t)}Zu.exports={destroy:Qd,undestroy:Jd}});var tc=V((H_,ec)=>{ec.exports=require("util").deprecate});var ji=V((K_,cc)=>{"use strict";var Tt=pr();cc.exports=Te;function nc(e){var t=this;this.next=null,this.entry=null,this.finish=function(){yy(t,e)}}var Xd=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:Tt.nextTick,zt;Te.WritableState=mr;var ic=Object.create(Gt());ic.inherits=xe();var Zd={deprecate:tc()},oc=xi(),mn=dr().Buffer,ey=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function ty(e){return mn.from(e)}function ry(e){return mn.isBuffer(e)||e instanceof ey}var ac=Ai();ic.inherits(Te,oc);function ny(){}function mr(e,t){zt=zt||Ot(),e=e||{};var r=t instanceof zt;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,i=e.writableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=e.decodeStrings===!1;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(u){ly(t,u)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new nc(this)}mr.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(mr.prototype,"buffer",{get:Zd.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var vn;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(vn=Function.prototype[Symbol.hasInstance],Object.defineProperty(Te,Symbol.hasInstance,{value:function(e){return vn.call(this,e)?!0:this!==Te?!1:e&&e._writableState instanceof mr}})):vn=function(e){return e instanceof this};function Te(e){if(zt=zt||Ot(),!vn.call(Te,this)&&!(this instanceof zt))return new Te(e);this._writableState=new mr(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),oc.call(this)}Te.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function iy(e,t){var r=new Error("write after end");e.emit("error",r),Tt.nextTick(t,r)}function oy(e,t,r,n){var i=!0,o=!1;return r===null?o=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!t.objectMode&&(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),Tt.nextTick(n,o),i=!1),i}Te.prototype.write=function(e,t,r){var n=this._writableState,i=!1,o=!n.objectMode&&ry(e);return o&&!mn.isBuffer(e)&&(e=ty(e)),typeof t=="function"&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=ny),n.ended?iy(this,r):(o||oy(this,n,e,r))&&(n.pendingcb++,i=sy(this,n,o,e,t,r)),i};Te.prototype.cork=function(){var e=this._writableState;e.corked++};Te.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&sc(this,e))};Te.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this};function ay(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=mn.from(t,r)),t}Object.defineProperty(Te.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function sy(e,t,r,n,i,o){if(!r){var s=ay(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var u=t.objectMode?1:n.length;t.length+=u;var a=t.length<t.highWaterMark;if(a||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else Ni(e,t,!1,u,n,i,o);return a}function Ni(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function uy(e,t,r,n,i){--t.pendingcb,r?(Tt.nextTick(i,n),Tt.nextTick(vr,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),vr(e,t))}function cy(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function ly(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(cy(r),t)uy(e,r,n,t,i);else{var o=uc(r);!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&sc(e,r),n?Xd(rc,e,r,o,i):rc(e,r,o,i)}}function rc(e,t,r,n){r||fy(e,t),t.pendingcb--,n(),vr(e,t)}function fy(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function sc(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var s=0,u=!0;r;)i[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;i.allBuffers=u,Ni(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new nc(t),t.bufferedRequestCount=0}else{for(;r;){var a=r.chunk,c=r.encoding,f=r.callback,d=t.objectMode?1:a.length;if(Ni(e,t,!1,d,a,c,f),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}Te.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))};Te.prototype._writev=null;Te.prototype.end=function(e,t,r){var n=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||dy(this,n,r)};function uc(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function hy(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),vr(e,t)})}function py(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"?(t.pendingcb++,t.finalCalled=!0,Tt.nextTick(hy,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function vr(e,t){var r=uc(t);return r&&(py(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"))),r}function dy(e,t,r){t.ending=!0,vr(e,t),r&&(t.finished?Tt.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function yy(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}Object.defineProperty(Te.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});Te.prototype.destroy=ac.destroy;Te.prototype._undestroy=ac.undestroy;Te.prototype._destroy=function(e,t){this.end(),t(e)}});var Ot=V((Y_,pc)=>{"use strict";var lc=pr(),vy=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};pc.exports=rt;var fc=Object.create(Gt());fc.inherits=xe();var hc=Mi(),Ii=ji();fc.inherits(rt,hc);for(Li=vy(Ii.prototype),gn=0;gn<Li.length;gn++)_n=Li[gn],rt.prototype[_n]||(rt.prototype[_n]=Ii.prototype[_n]);var Li,_n,gn;function rt(e){if(!(this instanceof rt))return new rt(e);hc.call(this,e),Ii.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",my)}Object.defineProperty(rt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function my(){this.allowHalfOpen||this._writableState.ended||lc.nextTick(gy,this)}function gy(e){e.end()}Object.defineProperty(rt.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}});rt.prototype._destroy=function(e,t){this.push(null),this.end(),lc.nextTick(t,e)}});var Ui=V(yc=>{"use strict";var Bi=dr().Buffer,dc=Bi.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _y(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function wy(e){var t=_y(e);if(typeof t!="string"&&(Bi.isEncoding===dc||!dc(e)))throw new Error("Unknown encoding: "+e);return t||e}yc.StringDecoder=gr;function gr(e){this.encoding=wy(e);var t;switch(this.encoding){case"utf16le":this.text=Oy,this.end=xy,t=4;break;case"utf8":this.fillLast=Sy,t=4;break;case"base64":this.text=Cy,this.end=Fy,t=3;break;default:this.write=Ry,this.end=qy;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Bi.allocUnsafe(t)}gr.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};gr.prototype.end=Ty;gr.prototype.text=ky;gr.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function Pi(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function by(e,t,r){var n=t.length-1;if(n<r)return 0;var i=Pi(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||i===-2?0:(i=Pi(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||i===-2?0:(i=Pi(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function Ey(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}function Sy(e){var t=this.lastTotal-this.lastNeed,r=Ey(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function ky(e,t){var r=by(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function Ty(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}function Oy(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function xy(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function Cy(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function Fy(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function Ry(e){return e.toString(this.encoding)}function qy(e){return e&&e.length?this.write(e):""}});var Mi=V((X_,xc)=>{"use strict";var Kt=pr();xc.exports=ge;var Dy=zu(),_r;ge.ReadableState=Ec;var J_=require("events").EventEmitter,_c=function(e,t){return e.listeners(t).length},zi=xi(),wr=dr().Buffer,Ay=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Ny(e){return wr.from(e)}function jy(e){return wr.isBuffer(e)||e instanceof Ay}var wc=Object.create(Gt());wc.inherits=xe();var Wi=require("util"),ce=void 0;Wi&&Wi.debuglog?ce=Wi.debuglog("stream"):ce=function(){};var Ly=Xu(),bc=Ai(),Ht;wc.inherits(ge,zi);var $i=["error","close","destroy","pause","resume"];function Iy(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Dy(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function Ec(e,t){_r=_r||Ot(),e=e||{};var r=t instanceof _r;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,i=e.readableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Ly,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(Ht||(Ht=Ui().StringDecoder),this.decoder=new Ht(e.encoding),this.encoding=e.encoding)}function ge(e){if(_r=_r||Ot(),!(this instanceof ge))return new ge(e);this._readableState=new Ec(e,this),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),zi.call(this)}Object.defineProperty(ge.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});ge.prototype.destroy=bc.destroy;ge.prototype._undestroy=bc.undestroy;ge.prototype._destroy=function(e,t){this.push(null),t(e)};ge.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=wr.from(e,t),t=""),n=!0),Sc(this,e,t,!1,n)};ge.prototype.unshift=function(e){return Sc(this,e,null,!0,!1)};function Sc(e,t,r,n,i){var o=e._readableState;if(t===null)o.reading=!1,Uy(e,o);else{var s;i||(s=My(o,t)),s?e.emit("error",s):o.objectMode||t&&t.length>0?(typeof t!="string"&&!o.objectMode&&Object.getPrototypeOf(t)!==wr.prototype&&(t=Ny(t)),n?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):Vi(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||t.length!==0?Vi(e,o,t,!1):kc(e,o)):Vi(e,o,t,!1))):n||(o.reading=!1)}return Py(o)}function Vi(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&wn(e)),kc(e,t)}function My(e,t){var r;return!jy(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function Py(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}ge.prototype.isPaused=function(){return this._readableState.flowing===!1};ge.prototype.setEncoding=function(e){return Ht||(Ht=Ui().StringDecoder),this._readableState.decoder=new Ht(e),this._readableState.encoding=e,this};var vc=8388608;function By(e){return e>=vc?e=vc:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function mc(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=By(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}ge.prototype.read=function(e){ce("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return ce("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?Gi(this):wn(this),null;if(e=mc(e,t),e===0&&t.ended)return t.length===0&&Gi(this),null;var n=t.needReadable;ce("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,ce("length less than watermark",n)),t.ended||t.reading?(n=!1,ce("reading or ended",n)):n&&(ce("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=mc(r,t)));var i;return e>0?i=Tc(e,t):i=null,i===null?(t.needReadable=!0,e=0):t.length-=e,t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&Gi(this)),i!==null&&this.emit("data",i),i};function Uy(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,wn(e)}}function wn(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(ce("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?Kt.nextTick(gc,e):gc(e))}function gc(e){ce("emit readable"),e.emit("readable"),Hi(e)}function kc(e,t){t.readingMore||(t.readingMore=!0,Kt.nextTick(Wy,e,t))}function Wy(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(ce("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}ge.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))};ge.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,ce("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,o=i?u:_;n.endEmitted?Kt.nextTick(o):r.once("end",o),e.on("unpipe",s);function s(b,g){ce("onunpipe"),b===r&&g&&g.hasUnpiped===!1&&(g.hasUnpiped=!0,f())}function u(){ce("onend"),e.end()}var a=$y(r);e.on("drain",a);var c=!1;function f(){ce("cleanup"),e.removeListener("close",p),e.removeListener("finish",m),e.removeListener("drain",a),e.removeListener("error",y),e.removeListener("unpipe",s),r.removeListener("end",u),r.removeListener("end",_),r.removeListener("data",w),c=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&a()}var d=!1;r.on("data",w);function w(b){ce("ondata"),d=!1;var g=e.write(b);g===!1&&!d&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&Oc(n.pipes,e)!==-1)&&!c&&(ce("false write response, pause",n.awaitDrain),n.awaitDrain++,d=!0),r.pause())}function y(b){ce("onerror",b),_(),e.removeListener("error",y),_c(e,"error")===0&&e.emit("error",b)}Iy(e,"error",y);function p(){e.removeListener("finish",m),_()}e.once("close",p);function m(){ce("onfinish"),e.removeListener("close",p),_()}e.once("finish",m);function _(){ce("unpipe"),r.unpipe(e)}return e.emit("pipe",r),n.flowing||(ce("pipe resume"),r.resume()),e};function $y(e){return function(){var t=e._readableState;ce("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&_c(e,"data")&&(t.flowing=!0,Hi(e))}}ge.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=Oc(t.pipes,e);return s===-1?this:(t.pipes.splice(s,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};ge.prototype.on=function(e,t){var r=zi.prototype.on.call(this,e,t);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&wn(this):Kt.nextTick(Vy,this))}return r};ge.prototype.addListener=ge.prototype.on;function Vy(e){ce("readable nexttick read 0"),e.read(0)}ge.prototype.resume=function(){var e=this._readableState;return e.flowing||(ce("resume"),e.flowing=!0,Gy(this,e)),this};function Gy(e,t){t.resumeScheduled||(t.resumeScheduled=!0,Kt.nextTick(zy,e,t))}function zy(e,t){t.reading||(ce("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),Hi(e),t.flowing&&!t.reading&&e.read(0)}ge.prototype.pause=function(){return ce("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ce("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function Hi(e){var t=e._readableState;for(ce("flow",t.flowing);t.flowing&&e.read()!==null;);}ge.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(ce("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&t.push(s)}t.push(null)}),e.on("data",function(s){if(ce("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var u=t.push(s);u||(n=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=function(s){return function(){return e[s].apply(e,arguments)}}(i));for(var o=0;o<$i.length;o++)e.on($i[o],this.emit.bind(this,$i[o]));return this._read=function(s){ce("wrapped _read",s),n&&(n=!1,e.resume())},this};Object.defineProperty(ge.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});ge._fromList=Tc;function Tc(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.head.data:r=t.buffer.concat(t.length),t.buffer.clear()):r=Hy(e,t.buffer,t.decoder),r}function Hy(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):e===t.head.data.length?n=t.shift():n=r?Ky(e,t):Yy(e,t),n}function Ky(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),e-=s,e===0){s===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++n}return t.length-=n,i}function Yy(e,t){var r=wr.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,s),e-=s,e===0){s===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++i}return t.length-=i,r}function Gi(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,Kt.nextTick(Qy,t,e))}function Qy(e,t){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function Oc(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}});var Ki=V((Z_,Rc)=>{"use strict";Rc.exports=nt;var bn=Ot(),Fc=Object.create(Gt());Fc.inherits=xe();Fc.inherits(nt,bn);function Jy(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function nt(e){if(!(this instanceof nt))return new nt(e);bn.call(this,e),this._transformState={afterTransform:Jy.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",Xy)}function Xy(){var e=this;typeof this._flush=="function"?this._flush(function(t,r){Cc(e,t,r)}):Cc(this,null,null)}nt.prototype.push=function(e,t){return this._transformState.needTransform=!1,bn.prototype.push.call(this,e,t)};nt.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")};nt.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};nt.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};nt.prototype._destroy=function(e,t){var r=this;bn.prototype._destroy.call(this,e,function(n){t(n),r.emit("close")})};function Cc(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}});var Nc=V((ew,Ac)=>{"use strict";Ac.exports=br;var qc=Ki(),Dc=Object.create(Gt());Dc.inherits=xe();Dc.inherits(br,qc);function br(e){if(!(this instanceof br))return new br(e);qc.call(this,e)}br.prototype._transform=function(e,t,r){r(null,e)}});var jc=V((qe,En)=>{var Qe=require("stream");process.env.READABLE_STREAM==="disable"&&Qe?(En.exports=Qe,qe=En.exports=Qe.Readable,qe.Readable=Qe.Readable,qe.Writable=Qe.Writable,qe.Duplex=Qe.Duplex,qe.Transform=Qe.Transform,qe.PassThrough=Qe.PassThrough,qe.Stream=Qe):(qe=En.exports=Mi(),qe.Stream=Qe||qe,qe.Readable=qe,qe.Writable=ji(),qe.Duplex=Ot(),qe.Transform=Ki(),qe.PassThrough=Nc())});var Ji=V((tw,Qi)=>{"use strict";var Yi=jc();function Yt(e,t,r){typeof r>"u"&&(r=t,t=e,e=null),Yi.Duplex.call(this,e),typeof r.read!="function"&&(r=new Yi.Readable(e).wrap(r)),this._writable=t,this._readable=r,this._waiting=!1;var n=this;t.once("finish",function(){n.end()}),this.once("finish",function(){t.end()}),r.on("readable",function(){n._waiting&&(n._waiting=!1,n._read())}),r.once("end",function(){n.push(null)}),(!e||typeof e.bubbleErrors>"u"||e.bubbleErrors)&&(t.on("error",function(i){n.emit("error",i)}),r.on("error",function(i){n.emit("error",i)}))}Yt.prototype=Object.create(Yi.Duplex.prototype,{constructor:{value:Yt}});Yt.prototype._write=function(t,r,n){this._writable.write(t,r,n)};Yt.prototype._read=function(){for(var t,r=0;(t=this._readable.read())!==null;)this.push(t),r++;r===0&&(this._waiting=!0)};Qi.exports=function(t,r,n){return new Yt(t,r,n)};Qi.exports.DuplexWrapper=Yt});var Ic=V((rw,Lc)=>{var Xi=require("stream"),Zy=fn(),ev=Ji(),tv=un();function rv(e,t){var r=Xi.PassThrough({objectMode:!0}),n=Xi.PassThrough(),i=Xi.Transform({objectMode:!0}),o=e instanceof RegExp?e:e&&new RegExp(e),s;i._transform=function(a,c,f){if(s||o&&!o.exec(a.path))return a.autodrain(),f();s=!0,u.emit("entry",a),a.on("error",function(d){n.emit("error",d)}),a.pipe(n).on("error",function(d){f(d)}).on("finish",function(d){f(null,d)})},r.pipe(Zy(t)).on("error",function(a){n.emit("error",a)}).pipe(i).on("error",Object).on("finish",function(){s?n.end():n.emit("error",new Error("PATTERN_NOT_FOUND"))});var u=ev(r,n);return u.buffer=function(){return tv(n)},u}Lc.exports=rv});var Sn=V((nw,Pc)=>{Pc.exports=ct;var Zi=require("stream").Stream,nv=xe();function ct(){Zi.call(this)}nv(ct,Zi);ct.prototype.on=function(e,t){return e==="ready"&&this.ready?process.nextTick(t.bind(this)):Zi.prototype.on.call(this,e,t),this};ct.prototype.abort=function(){this._aborted=!0,this.emit("abort")};ct.prototype.destroy=function(){};ct.prototype.warn=function(e,t){var r=this,n=Mc(e,t,r);r.listeners("warn")?r.emit("warn",n):console.error(`%s %s
path = %s
syscall = %s
fstream_type = %s
fstream_path = %s
fstream_unc_path = %s
fstream_class = %s
fstream_stack =
%s
`,t||"UNKNOWN",n.stack,n.path,n.syscall,n.fstream_type,n.fstream_path,n.fstream_unc_path,n.fstream_class,n.fstream_stack.join(`
`))};ct.prototype.info=function(e,t){this.emit("info",e,t)};ct.prototype.error=function(e,t,r){var n=Mc(e,t,this);if(r)throw n;this.emit("error",n)};function Mc(e,t,r){return e instanceof Error||(e=new Error(e)),e.code=e.code||t,e.path=e.path||r.path,e.fstream_type=e.fstream_type||r.type,e.fstream_path=e.fstream_path||r.path,r._path!==r.path&&(e.fstream_unc_path=e.fstream_unc_path||r._path),r.linkpath&&(e.fstream_linkpath=e.fstream_linkpath||r.linkpath),e.fstream_class=e.fstream_class||r.constructor.name,e.fstream_stack=e.fstream_stack||new Error().stack.split(/\n/).slice(3).map(function(n){return n.replace(/^ {4}at /,"")}),e}});var Uc=V((iw,Bc)=>{var lt=require("constants"),iv=process.cwd,kn=null,ov=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return kn||(kn=iv.call(process)),kn};try{process.cwd()}catch{}typeof process.chdir=="function"&&(eo=process.chdir,process.chdir=function(e){kn=null,eo.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,eo));var eo;Bc.exports=av;function av(e){lt.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||r(e),e.chown=o(e.chown),e.fchown=o(e.fchown),e.lchown=o(e.lchown),e.chmod=n(e.chmod),e.fchmod=n(e.fchmod),e.lchmod=n(e.lchmod),e.chownSync=s(e.chownSync),e.fchownSync=s(e.fchownSync),e.lchownSync=s(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=u(e.stat),e.fstat=u(e.fstat),e.lstat=u(e.lstat),e.statSync=a(e.statSync),e.fstatSync=a(e.fstatSync),e.lstatSync=a(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(f,d,w){w&&process.nextTick(w)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(f,d,w,y){y&&process.nextTick(y)},e.lchownSync=function(){}),ov==="win32"&&(e.rename=typeof e.rename!="function"?e.rename:function(f){function d(w,y,p){var m=Date.now(),_=0;f(w,y,function b(g){if(g&&(g.code==="EACCES"||g.code==="EPERM"||g.code==="EBUSY")&&Date.now()-m<6e4){setTimeout(function(){e.stat(y,function(S,O){S&&S.code==="ENOENT"?f(w,y,b):p(g)})},_),_<100&&(_+=10);return}p&&p(g)})}return Object.setPrototypeOf&&Object.setPrototypeOf(d,f),d}(e.rename)),e.read=typeof e.read!="function"?e.read:function(f){function d(w,y,p,m,_,b){var g;if(b&&typeof b=="function"){var S=0;g=function(O,R,W){if(O&&O.code==="EAGAIN"&&S<10)return S++,f.call(e,w,y,p,m,_,g);b.apply(this,arguments)}}return f.call(e,w,y,p,m,_,g)}return Object.setPrototypeOf&&Object.setPrototypeOf(d,f),d}(e.read),e.readSync=typeof e.readSync!="function"?e.readSync:function(f){return function(d,w,y,p,m){for(var _=0;;)try{return f.call(e,d,w,y,p,m)}catch(b){if(b.code==="EAGAIN"&&_<10){_++;continue}throw b}}}(e.readSync);function t(f){f.lchmod=function(d,w,y){f.open(d,lt.O_WRONLY|lt.O_SYMLINK,w,function(p,m){if(p){y&&y(p);return}f.fchmod(m,w,function(_){f.close(m,function(b){y&&y(_||b)})})})},f.lchmodSync=function(d,w){var y=f.openSync(d,lt.O_WRONLY|lt.O_SYMLINK,w),p=!0,m;try{m=f.fchmodSync(y,w),p=!1}finally{if(p)try{f.closeSync(y)}catch{}else f.closeSync(y)}return m}}function r(f){lt.hasOwnProperty("O_SYMLINK")&&f.futimes?(f.lutimes=function(d,w,y,p){f.open(d,lt.O_SYMLINK,function(m,_){if(m){p&&p(m);return}f.futimes(_,w,y,function(b){f.close(_,function(g){p&&p(b||g)})})})},f.lutimesSync=function(d,w,y){var p=f.openSync(d,lt.O_SYMLINK),m,_=!0;try{m=f.futimesSync(p,w,y),_=!1}finally{if(_)try{f.closeSync(p)}catch{}else f.closeSync(p)}return m}):f.futimes&&(f.lutimes=function(d,w,y,p){p&&process.nextTick(p)},f.lutimesSync=function(){})}function n(f){return f&&function(d,w,y){return f.call(e,d,w,function(p){c(p)&&(p=null),y&&y.apply(this,arguments)})}}function i(f){return f&&function(d,w){try{return f.call(e,d,w)}catch(y){if(!c(y))throw y}}}function o(f){return f&&function(d,w,y,p){return f.call(e,d,w,y,function(m){c(m)&&(m=null),p&&p.apply(this,arguments)})}}function s(f){return f&&function(d,w,y){try{return f.call(e,d,w,y)}catch(p){if(!c(p))throw p}}}function u(f){return f&&function(d,w,y){typeof w=="function"&&(y=w,w=null);function p(m,_){_&&(_.uid<0&&(_.uid+=4294967296),_.gid<0&&(_.gid+=4294967296)),y&&y.apply(this,arguments)}return w?f.call(e,d,w,p):f.call(e,d,p)}}function a(f){return f&&function(d,w){var y=w?f.call(e,d,w):f.call(e,d);return y&&(y.uid<0&&(y.uid+=4294967296),y.gid<0&&(y.gid+=4294967296)),y}}function c(f){if(!f||f.code==="ENOSYS")return!0;var d=!process.getuid||process.getuid()!==0;return!!(d&&(f.code==="EINVAL"||f.code==="EPERM"))}}});var Vc=V((ow,$c)=>{var Wc=require("stream").Stream;$c.exports=sv;function sv(e){return{ReadStream:t,WriteStream:r};function t(n,i){if(!(this instanceof t))return new t(n,i);Wc.call(this);var o=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var s=Object.keys(i),u=0,a=s.length;u<a;u++){var c=s[u];this[c]=i[c]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){o._read()});return}e.open(this.path,this.flags,this.mode,function(f,d){if(f){o.emit("error",f),o.readable=!1;return}o.fd=d,o.emit("open",d),o._read()})}function r(n,i){if(!(this instanceof r))return new r(n,i);Wc.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var o=Object.keys(i),s=0,u=o.length;s<u;s++){var a=o[s];this[a]=i[a]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var zc=V((aw,Gc)=>{"use strict";Gc.exports=cv;var uv=Object.getPrototypeOf||function(e){return e.__proto__};function cv(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:uv(e)};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}});var Je=V((sw,no)=>{var Ee=require("fs"),lv=Uc(),fv=Vc(),hv=zc(),Tn=require("util"),De,xn;typeof Symbol=="function"&&typeof Symbol.for=="function"?(De=Symbol.for("graceful-fs.queue"),xn=Symbol.for("graceful-fs.previous")):(De="___graceful-fs.queue",xn="___graceful-fs.previous");function pv(){}function Yc(e,t){Object.defineProperty(e,De,{get:function(){return t}})}var xt=pv;Tn.debuglog?xt=Tn.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(xt=function(){var e=Tn.format.apply(Tn,arguments);e="GFS4: "+e.split(/\n/).join(`
GFS4: `),console.error(e)});Ee[De]||(Hc=global[De]||[],Yc(Ee,Hc),Ee.close=function(e){function t(r,n){return e.call(Ee,r,function(i){i||Kc(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(t,xn,{value:e}),t}(Ee.close),Ee.closeSync=function(e){function t(r){e.apply(Ee,arguments),Kc()}return Object.defineProperty(t,xn,{value:e}),t}(Ee.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){xt(Ee[De]),require("assert").equal(Ee[De].length,0)}));var Hc;global[De]||Yc(global,Ee[De]);no.exports=to(hv(Ee));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!Ee.__patched&&(no.exports=to(Ee),Ee.__patched=!0);function to(e){lv(e),e.gracefulify=to,e.createReadStream=R,e.createWriteStream=W;var t=e.readFile;e.readFile=r;function r(D,B,$){return typeof B=="function"&&($=B,B=null),C(D,B,$);function C(F,L,I,E){return t(F,L,function(T){T&&(T.code==="EMFILE"||T.code==="ENFILE")?Qt([C,[F,L,I],T,E||Date.now(),Date.now()]):typeof I=="function"&&I.apply(this,arguments)})}}var n=e.writeFile;e.writeFile=i;function i(D,B,$,C){return typeof $=="function"&&(C=$,$=null),F(D,B,$,C);function F(L,I,E,T,A){return n(L,I,E,function(j){j&&(j.code==="EMFILE"||j.code==="ENFILE")?Qt([F,[L,I,E,T],j,A||Date.now(),Date.now()]):typeof T=="function"&&T.apply(this,arguments)})}}var o=e.appendFile;o&&(e.appendFile=s);function s(D,B,$,C){return typeof $=="function"&&(C=$,$=null),F(D,B,$,C);function F(L,I,E,T,A){return o(L,I,E,function(j){j&&(j.code==="EMFILE"||j.code==="ENFILE")?Qt([F,[L,I,E,T],j,A||Date.now(),Date.now()]):typeof T=="function"&&T.apply(this,arguments)})}}var u=e.copyFile;u&&(e.copyFile=a);function a(D,B,$,C){return typeof $=="function"&&(C=$,$=0),F(D,B,$,C);function F(L,I,E,T,A){return u(L,I,E,function(j){j&&(j.code==="EMFILE"||j.code==="ENFILE")?Qt([F,[L,I,E,T],j,A||Date.now(),Date.now()]):typeof T=="function"&&T.apply(this,arguments)})}}var c=e.readdir;e.readdir=d;var f=/^v[0-5]\./;function d(D,B,$){typeof B=="function"&&($=B,B=null);var C=f.test(process.version)?function(I,E,T,A){return c(I,F(I,E,T,A))}:function(I,E,T,A){return c(I,E,F(I,E,T,A))};return C(D,B,$);function F(L,I,E,T){return function(A,j){A&&(A.code==="EMFILE"||A.code==="ENFILE")?Qt([C,[L,I,E],A,T||Date.now(),Date.now()]):(j&&j.sort&&j.sort(),typeof E=="function"&&E.call(this,A,j))}}}if(process.version.substr(0,4)==="v0.8"){var w=fv(e);b=w.ReadStream,S=w.WriteStream}var y=e.ReadStream;y&&(b.prototype=Object.create(y.prototype),b.prototype.open=g);var p=e.WriteStream;p&&(S.prototype=Object.create(p.prototype),S.prototype.open=O),Object.defineProperty(e,"ReadStream",{get:function(){return b},set:function(D){b=D},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return S},set:function(D){S=D},enumerable:!0,configurable:!0});var m=b;Object.defineProperty(e,"FileReadStream",{get:function(){return m},set:function(D){m=D},enumerable:!0,configurable:!0});var _=S;Object.defineProperty(e,"FileWriteStream",{get:function(){return _},set:function(D){_=D},enumerable:!0,configurable:!0});function b(D,B){return this instanceof b?(y.apply(this,arguments),this):b.apply(Object.create(b.prototype),arguments)}function g(){var D=this;z(D.path,D.flags,D.mode,function(B,$){B?(D.autoClose&&D.destroy(),D.emit("error",B)):(D.fd=$,D.emit("open",$),D.read())})}function S(D,B){return this instanceof S?(p.apply(this,arguments),this):S.apply(Object.create(S.prototype),arguments)}function O(){var D=this;z(D.path,D.flags,D.mode,function(B,$){B?(D.destroy(),D.emit("error",B)):(D.fd=$,D.emit("open",$))})}function R(D,B){return new e.ReadStream(D,B)}function W(D,B){return new e.WriteStream(D,B)}var Y=e.open;e.open=z;function z(D,B,$,C){return typeof $=="function"&&(C=$,$=null),F(D,B,$,C);function F(L,I,E,T,A){return Y(L,I,E,function(j,K){j&&(j.code==="EMFILE"||j.code==="ENFILE")?Qt([F,[L,I,E,T],j,A||Date.now(),Date.now()]):typeof T=="function"&&T.apply(this,arguments)})}}return e}function Qt(e){xt("ENQUEUE",e[0].name,e[1]),Ee[De].push(e),ro()}var On;function Kc(){for(var e=Date.now(),t=0;t<Ee[De].length;++t)Ee[De][t].length>2&&(Ee[De][t][3]=e,Ee[De][t][4]=e);ro()}function ro(){if(clearTimeout(On),On=void 0,Ee[De].length!==0){var e=Ee[De].shift(),t=e[0],r=e[1],n=e[2],i=e[3],o=e[4];if(i===void 0)xt("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-i>=6e4){xt("TIMEOUT",t.name,r);var s=r.pop();typeof s=="function"&&s.call(null,n)}else{var u=Date.now()-o,a=Math.max(o-i,1),c=Math.min(a*1.2,100);u>=c?(xt("RETRY",t.name,r),t.apply(null,r.concat([i]))):Ee[De].push(e)}On===void 0&&(On=setTimeout(ro,0))}}});var Er=V((uw,Qc)=>{Qc.exports=dv;function dv(e){var t=["Directory","File","SymbolicLink","Link","BlockDevice","CharacterDevice","FIFO","Socket"],r;if(e.type&&t.indexOf(e.type)!==-1)return e[e.type]=!0,e.type;for(var n=0,i=t.length;n<i;n++){r=t[n];var o=e[r]||e["is"+r];if(typeof o=="function"&&(o=o.call(e)),o)return e[r]=!0,e.type=r,r}return null}});var oo=V((cw,Jc)=>{Jc.exports=Sr;var yv=Je(),vv=xe(),io=Ct();vv(Sr,io);function Sr(e){var t=this;if(!(t instanceof Sr))throw new Error("LinkReader must be called as constructor.");if(!(e.type==="Link"&&e.Link||e.type==="SymbolicLink"&&e.SymbolicLink))throw new Error("Non-link type "+e.type);io.call(t,e)}Sr.prototype._stat=function(e){var t=this;yv.readlink(t._path,function(r,n){if(r)return t.error(r);t.linkpath=t.props.linkpath=n,t.emit("linkpath",n),io.prototype._stat.call(t,e)})};Sr.prototype._read=function(){var e=this;e._paused||e._ended||(e.emit("end"),e.emit("close"),e._ended=!0)}});var so=V((lw,el)=>{el.exports=Xe;var Zc=Je(),mv=xe(),kr=require("path"),ao=Ct(),Xc=require("assert").ok;mv(Xe,ao);function Xe(e){var t=this;if(!(t instanceof Xe))throw new Error("DirReader must be called as constructor.");if(e.type!=="Directory"||!e.Directory)throw new Error("Non-directory type "+e.type);t.entries=null,t._index=-1,t._paused=!1,t._length=-1,e.sort&&(this.sort=e.sort),ao.call(this,e)}Xe.prototype._getEntries=function(){var e=this;e._gotEntries||(e._gotEntries=!0,Zc.readdir(e._path,function(t,r){if(t)return e.error(t);e.entries=r,e.emit("entries",r),e._paused?e.once("resume",n):n();function n(){e._length=e.entries.length,typeof e.sort=="function"&&(e.entries=e.entries.sort(e.sort.bind(e))),e._read()}}))};Xe.prototype._read=function(){var e=this;if(!e.entries)return e._getEntries();if(!(e._paused||e._currentEntry||e._aborted)){if(e._index++,e._index>=e.entries.length){e._ended||(e._ended=!0,e.emit("end"),e.emit("close"));return}var t=kr.resolve(e._path,e.entries[e._index]);Xc(t!==e._path),Xc(e.entries[e._index]),e._currentEntry=t,Zc[e.props.follow?"stat":"lstat"](t,function(r,n){if(r)return e.error(r);var i=e._proxy||e;n.path=t,n.basename=kr.basename(t),n.dirname=kr.dirname(t);var o=e.getChildProps.call(i,n);o.path=t,o.basename=kr.basename(t),o.dirname=kr.dirname(t);var s=ao(o,n);e._currentEntry=s,s.on("pause",function(c){!e._paused&&!s._disowned&&e.pause(c)}),s.on("resume",function(c){e._paused&&!s._disowned&&e.resume(c)}),s.on("stat",function(c){e.emit("_entryStat",s,c),!s._aborted&&(s._paused?s.once("resume",function(){e.emit("entryStat",s,c)}):e.emit("entryStat",s,c))}),s.on("ready",function c(){if(e._paused)return s.pause(e),e.once("resume",c);s.type==="Socket"?e.emit("socket",s):e.emitEntry(s)});var u=!1;s.on("close",a),s.on("disown",a);function a(){u||(u=!0,e.emit("childEnd",s),e.emit("entryEnd",s),e._currentEntry=null,e._paused||e._read())}s.on("error",function(c){s._swallowErrors?(e.warn(c),s.emit("end"),s.emit("close")):e.emit("error",c)}),["child","childEnd","warn"].forEach(function(c){s.on(c,e.emit.bind(e,c))})})}};Xe.prototype.disown=function(e){e.emit("beforeDisown"),e._disowned=!0,e.parent=e.root=null,e===this._currentEntry&&(this._currentEntry=null),e.emit("disown")};Xe.prototype.getChildProps=function(){return{depth:this.depth+1,root:this.root||this,parent:this,follow:this.follow,filter:this.filter,sort:this.props.sort,hardlinks:this.props.hardlinks}};Xe.prototype.pause=function(e){var t=this;t._paused||(e=e||t,t._paused=!0,t._currentEntry&&t._currentEntry.pause&&t._currentEntry.pause(e),t.emit("pause",e))};Xe.prototype.resume=function(e){var t=this;t._paused&&(e=e||t,t._paused=!1,t.emit("resume",e),!t._paused&&(t._currentEntry?t._currentEntry.resume&&t._currentEntry.resume(e):t._read()))};Xe.prototype.emitEntry=function(e){this.emit("entry",e),this.emit("child",e)}});var uo=V((fw,il)=>{il.exports=Ft;var gv=Je(),_v=xe(),tl=Ct(),rl={EOF:!0},nl={CLOSE:!0};_v(Ft,tl);function Ft(e){var t=this;if(!(t instanceof Ft))throw new Error("FileReader must be called as constructor.");if(!(e.type==="Link"&&e.Link||e.type==="File"&&e.File))throw new Error("Non-file type "+e.type);t._buffer=[],t._bytesEmitted=0,tl.call(t,e)}Ft.prototype._getStream=function(){var e=this,t=e._stream=gv.createReadStream(e._path,e.props);e.props.blksize&&(t.bufferSize=e.props.blksize),t.on("open",e.emit.bind(e,"open")),t.on("data",function(r){if(e._bytesEmitted+=r.length,r.length)e._paused||e._buffer.length?(e._buffer.push(r),e._read()):e.emit("data",r);else return}),t.on("end",function(){e._paused||e._buffer.length?(e._buffer.push(rl),e._read()):e.emit("end"),e._bytesEmitted!==e.props.size&&e.error(`Didn't get expected byte count
expect: `+e.props.size+`
actual: `+e._bytesEmitted)}),t.on("close",function(){e._paused||e._buffer.length?(e._buffer.push(nl),e._read()):e.emit("close")}),t.on("error",function(r){e.emit("error",r)}),e._read()};Ft.prototype._read=function(){var e=this;if(!e._paused){if(!e._stream)return e._getStream();if(e._buffer.length){for(var t=e._buffer,r=0,n=t.length;r<n;r++){var i=t[r];if(i===rl?e.emit("end"):i===nl?e.emit("close"):e.emit("data",i),e._paused){e._buffer=t.slice(r);return}}e._buffer.length=0}}};Ft.prototype.pause=function(e){var t=this;t._paused||(e=e||t,t._paused=!0,t._stream&&t._stream.pause(),t.emit("pause",e))};Ft.prototype.resume=function(e){var t=this;t._paused&&(e=e||t,t.emit("resume",e),t._paused=!1,t._stream&&t._stream.resume(),t._read())}});var sl=V((hw,al)=>{al.exports=Cn;var wv=xe(),ol=Ct();wv(Cn,ol);function Cn(e){var t=this;if(!(t instanceof Cn))throw new Error("SocketReader must be called as constructor.");if(!(e.type==="Socket"&&e.Socket))throw new Error("Non-socket type "+e.type);ol.call(t,e)}Cn.prototype._read=function(){var e=this;e._paused||e._ended||(e.emit("end"),e.emit("close"),e._ended=!0)}});var lo=V((pw,ul)=>{ul.exports=Rt;var co=Ct(),bv=Er(),Ev=xe(),Sv=Je();Ev(Rt,co);function Rt(e){var t=this;if(!(t instanceof Rt))throw new Error("ProxyReader must be called as constructor.");t.props=e,t._buffer=[],t.ready=!1,co.call(t,e)}Rt.prototype._stat=function(){var e=this,t=e.props,r=t.follow?"stat":"lstat";Sv[r](t.path,function(n,i){var o;n||!i?o="File":o=bv(i),t[o]=!0,t.type=e.type=o,e._old=i,e._addProxy(co(t,i))})};Rt.prototype._addProxy=function(e){var t=this;if(t._proxyTarget)return t.error("proxy already set");t._proxyTarget=e,e._proxy=t,["error","data","end","close","linkpath","entry","entryEnd","child","childEnd","warn","stat"].forEach(function(n){e.on(n,t.emit.bind(t,n))}),t.emit("proxy",e),e.on("ready",function(){t.ready=!0,t.emit("ready")});var r=t._buffer;t._buffer.length=0,r.forEach(function(n){e[n[0]].apply(e,n[1])})};Rt.prototype.pause=function(){return this._proxyTarget?this._proxyTarget.pause():!1};Rt.prototype.resume=function(){return this._proxyTarget?this._proxyTarget.resume():!1}});var Ct=V((dw,fl)=>{fl.exports=Ge;var kv=Je(),Tv=require("stream").Stream,Ov=xe(),fo=require("path"),ho=Er(),Fn=Ge.hardLinks={},cl=Sn();Ov(Ge,cl);var ll=oo();function Ge(e,t){var r=this;if(!(r instanceof Ge))return new Ge(e,t);typeof e=="string"&&(e={path:e});var n,i;switch(e.type&&typeof e.type=="function"?(n=e.type,i=n):(n=ho(e),i=Ge),t&&!n&&(n=ho(t),e[n]=!0,e.type=n),n){case"Directory":i=so();break;case"Link":case"File":i=uo();break;case"SymbolicLink":i=ll;break;case"Socket":i=sl();break;case null:i=lo();break}if(!(r instanceof i))return new i(e);cl.call(r),e.path||r.error("Must provide a path",null,!0),r.readable=!0,r.writable=!1,r.type=n,r.props=e,r.depth=e.depth=e.depth||0,r.parent=e.parent||null,r.root=e.root||e.parent&&e.parent.root||r,r._path=r.path=fo.resolve(e.path),process.platform==="win32"&&(r.path=r._path=r.path.replace(/\?/g,"_"),r._path.length>=260&&(r._swallowErrors=!0,r._path="\\\\?\\"+r.path.replace(/\//g,"\\"))),r.basename=e.basename=fo.basename(r.path),r.dirname=e.dirname=fo.dirname(r.path),e.parent=e.root=null,r.size=e.size,r.filter=typeof e.filter=="function"?e.filter:null,e.sort==="alpha"&&(e.sort=xv),r._stat(t)}function xv(e,t){return e===t?0:e.toLowerCase()>t.toLowerCase()?1:e.toLowerCase()<t.toLowerCase()?-1:e>t?1:-1}Ge.prototype._stat=function(e){var t=this,r=t.props,n=r.follow?"stat":"lstat";e?process.nextTick(i.bind(null,null,e)):kv[n](t._path,i);function i(o,s){if(o)return t.error(o);if(Object.keys(s).forEach(function(y){r[y]=s[y]}),t.size!==void 0&&r.size!==t.size)return t.error("incorrect size");t.size=r.size;var u=ho(r),a=r.hardlinks!==!1;if(a&&u!=="Directory"&&r.nlink&&r.nlink>1){var c=r.dev+":"+r.ino;Fn[c]===t._path||!Fn[c]?Fn[c]=t._path:(u=t.type=t.props.type="Link",t.Link=t.props.Link=!0,t.linkpath=t.props.linkpath=Fn[c],t._stat=t._read=ll.prototype._read)}if(t.type&&t.type!==u&&t.error("Unexpected type: "+u),t.filter){var f=t._proxy||t;if(!t.filter.call(f,f,r)){t._disowned||(t.abort(),t.emit("end"),t.emit("close"));return}}var d=["_stat","stat","ready"],w=0;(function y(){if(t._aborted){t.emit("end"),t.emit("close");return}if(t._paused&&t.type!=="Directory"){t.once("resume",y);return}var p=d[w++];if(!p)return t._read();t.emit(p,r),y()})()}};Ge.prototype.pipe=function(e){var t=this;return typeof e.add=="function"&&t.on("entry",function(r){var n=e.add(r);n===!1&&t.pause()}),Tv.prototype.pipe.apply(this,arguments)};Ge.prototype.pause=function(e){this._paused=!0,e=e||this,this.emit("pause",e),this._stream&&this._stream.pause(e)};Ge.prototype.resume=function(e){this._paused=!1,e=e||this,this.emit("resume",e),this._stream&&this._stream.resume(e),this._read()};Ge.prototype._read=function(){this.error("Cannot read unknown type: "+this.type)}});var hl=V(po=>{var qt=require("path"),ht=process.platform==="win32",ft=require("fs"),Cv=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function Fv(){var e;if(Cv){var t=new Error;e=r}else e=n;return e;function r(i){i&&(t.message=i.message,i=t,n(i))}function n(i){if(i){if(process.throwDeprecation)throw i;if(!process.noDeprecation){var o="fs: missing callback "+(i.stack||i.message);process.traceDeprecation?console.trace(o):console.error(o)}}}}function Rv(e){return typeof e=="function"?e:Fv()}var yw=qt.normalize;ht?it=/(.*?)(?:[\/\\]+|$)/g:it=/(.*?)(?:[\/]+|$)/g;var it;ht?Tr=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:Tr=/^[\/]*/;var Tr;po.realpathSync=function(t,r){if(t=qt.resolve(t),r&&Object.prototype.hasOwnProperty.call(r,t))return r[t];var n=t,i={},o={},s,u,a,c;f();function f(){var _=Tr.exec(t);s=_[0].length,u=_[0],a=_[0],c="",ht&&!o[a]&&(ft.lstatSync(a),o[a]=!0)}for(;s<t.length;){it.lastIndex=s;var d=it.exec(t);if(c=u,u+=d[0],a=c+d[1],s=it.lastIndex,!(o[a]||r&&r[a]===a)){var w;if(r&&Object.prototype.hasOwnProperty.call(r,a))w=r[a];else{var y=ft.lstatSync(a);if(!y.isSymbolicLink()){o[a]=!0,r&&(r[a]=a);continue}var p=null;if(!ht){var m=y.dev.toString(32)+":"+y.ino.toString(32);i.hasOwnProperty(m)&&(p=i[m])}p===null&&(ft.statSync(a),p=ft.readlinkSync(a)),w=qt.resolve(c,p),r&&(r[a]=w),ht||(i[m]=p)}t=qt.resolve(w,t.slice(s)),f()}}return r&&(r[n]=t),t};po.realpath=function(t,r,n){if(typeof n!="function"&&(n=Rv(r),r=null),t=qt.resolve(t),r&&Object.prototype.hasOwnProperty.call(r,t))return process.nextTick(n.bind(null,null,r[t]));var i=t,o={},s={},u,a,c,f;d();function d(){var _=Tr.exec(t);u=_[0].length,a=_[0],c=_[0],f="",ht&&!s[c]?ft.lstat(c,function(b){if(b)return n(b);s[c]=!0,w()}):process.nextTick(w)}function w(){if(u>=t.length)return r&&(r[i]=t),n(null,t);it.lastIndex=u;var _=it.exec(t);return f=a,a+=_[0],c=f+_[1],u=it.lastIndex,s[c]||r&&r[c]===c?process.nextTick(w):r&&Object.prototype.hasOwnProperty.call(r,c)?m(r[c]):ft.lstat(c,y)}function y(_,b){if(_)return n(_);if(!b.isSymbolicLink())return s[c]=!0,r&&(r[c]=c),process.nextTick(w);if(!ht){var g=b.dev.toString(32)+":"+b.ino.toString(32);if(o.hasOwnProperty(g))return p(null,o[g],c)}ft.stat(c,function(S){if(S)return n(S);ft.readlink(c,function(O,R){ht||(o[g]=R),p(O,R)})})}function p(_,b,g){if(_)return n(_);var S=qt.resolve(f,b);r&&(r[g]=S),m(S)}function m(_){t=qt.resolve(_,t.slice(u)),d()}}});var go=V((mw,vl)=>{vl.exports=pt;pt.realpath=pt;pt.sync=mo;pt.realpathSync=mo;pt.monkeypatch=Dv;pt.unmonkeypatch=Av;var Jt=require("fs"),yo=Jt.realpath,vo=Jt.realpathSync,qv=process.version,pl=/^v[0-5]\./.test(qv),dl=hl();function yl(e){return e&&e.syscall==="realpath"&&(e.code==="ELOOP"||e.code==="ENOMEM"||e.code==="ENAMETOOLONG")}function pt(e,t,r){if(pl)return yo(e,t,r);typeof t=="function"&&(r=t,t=null),yo(e,t,function(n,i){yl(n)?dl.realpath(e,t,r):r(n,i)})}function mo(e,t){if(pl)return vo(e,t);try{return vo(e,t)}catch(r){if(yl(r))return dl.realpathSync(e,t);throw r}}function Dv(){Jt.realpath=pt,Jt.realpathSync=mo}function Av(){Jt.realpath=yo,Jt.realpathSync=vo}});var gl=V((gw,ml)=>{ml.exports=function(e,t){for(var r=[],n=0;n<e.length;n++){var i=t(e[n],n);Nv(i)?r.push.apply(r,i):r.push(i)}return r};var Nv=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}});var Sl=V((_w,El)=>{"use strict";El.exports=wl;function wl(e,t,r){e instanceof RegExp&&(e=_l(e,r)),t instanceof RegExp&&(t=_l(t,r));var n=bl(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}function _l(e,t){var r=t.match(e);return r?r[0]:null}wl.range=bl;function bl(e,t,r){var n,i,o,s,u,a=r.indexOf(e),c=r.indexOf(t,a+1),f=a;if(a>=0&&c>0){if(e===t)return[a,c];for(n=[],o=r.length;f>=0&&!u;)f==a?(n.push(f),a=r.indexOf(e,f+1)):n.length==1?u=[n.pop(),c]:(i=n.pop(),i<o&&(o=i,s=c),c=r.indexOf(t,f+1)),f=a<c&&a>=0?a:c;n.length&&(u=[o,s])}return u}});var ql=V((ww,Rl)=>{var jv=gl(),kl=Sl();Rl.exports=Mv;var Tl="\0SLASH"+Math.random()+"\0",Ol="\0OPEN"+Math.random()+"\0",wo="\0CLOSE"+Math.random()+"\0",xl="\0COMMA"+Math.random()+"\0",Cl="\0PERIOD"+Math.random()+"\0";function _o(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function Lv(e){return e.split("\\\\").join(Tl).split("\\{").join(Ol).split("\\}").join(wo).split("\\,").join(xl).split("\\.").join(Cl)}function Iv(e){return e.split(Tl).join("\\").split(Ol).join("{").split(wo).join("}").split(xl).join(",").split(Cl).join(".")}function Fl(e){if(!e)return[""];var t=[],r=kl("{","}",e);if(!r)return e.split(",");var n=r.pre,i=r.body,o=r.post,s=n.split(",");s[s.length-1]+="{"+i+"}";var u=Fl(o);return o.length&&(s[s.length-1]+=u.shift(),s.push.apply(s,u)),t.push.apply(t,s),t}function Mv(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),Xt(Lv(e),!0).map(Iv)):[]}function Pv(e){return"{"+e+"}"}function Bv(e){return/^-?0\d/.test(e)}function Uv(e,t){return e<=t}function Wv(e,t){return e>=t}function Xt(e,t){var r=[],n=kl("{","}",e);if(!n||/\$$/.test(n.pre))return[e];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),o=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),s=i||o,u=n.body.indexOf(",")>=0;if(!s&&!u)return n.post.match(/,.*\}/)?(e=n.pre+"{"+n.body+wo+n.post,Xt(e)):[e];var a;if(s)a=n.body.split(/\.\./);else if(a=Fl(n.body),a.length===1&&(a=Xt(a[0],!1).map(Pv),a.length===1)){var f=n.post.length?Xt(n.post,!1):[""];return f.map(function($){return n.pre+a[0]+$})}var c=n.pre,f=n.post.length?Xt(n.post,!1):[""],d;if(s){var w=_o(a[0]),y=_o(a[1]),p=Math.max(a[0].length,a[1].length),m=a.length==3?Math.abs(_o(a[2])):1,_=Uv,b=y<w;b&&(m*=-1,_=Wv);var g=a.some(Bv);d=[];for(var S=w;_(S,y);S+=m){var O;if(o)O=String.fromCharCode(S),O==="\\"&&(O="");else if(O=String(S),g){var R=p-O.length;if(R>0){var W=new Array(R+1).join("0");S<0?O="-"+W+O.slice(1):O=W+O}}d.push(O)}}else d=jv(a,function(B){return Xt(B,!1)});for(var Y=0;Y<d.length;Y++)for(var z=0;z<f.length;z++){var D=c+d[Y]+f[z];(!t||s||D)&&r.push(D)}return r}});var Dn=V((bw,Ll)=>{Ll.exports=Be;Be.Minimatch=Ae;var Or=function(){try{return require("path")}catch{}}()||{sep:"/"};Be.sep=Or.sep;var So=Be.GLOBSTAR=Ae.GLOBSTAR={},$v=ql(),Dl={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},bo="[^/]",Eo=bo+"*?",Vv="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Gv="(?:(?!(?:\\/|^)\\.).)*?",Al=zv("().*{}+?[]^$\\!");function zv(e){return e.split("").reduce(function(t,r){return t[r]=!0,t},{})}var Nl=/\/+/;Be.filter=Hv;function Hv(e,t){return t=t||{},function(r,n,i){return Be(r,e,t)}}function dt(e,t){t=t||{};var r={};return Object.keys(e).forEach(function(n){r[n]=e[n]}),Object.keys(t).forEach(function(n){r[n]=t[n]}),r}Be.defaults=function(e){if(!e||typeof e!="object"||!Object.keys(e).length)return Be;var t=Be,r=function(i,o,s){return t(i,o,dt(e,s))};return r.Minimatch=function(i,o){return new t.Minimatch(i,dt(e,o))},r.Minimatch.defaults=function(i){return t.defaults(dt(e,i)).Minimatch},r.filter=function(i,o){return t.filter(i,dt(e,o))},r.defaults=function(i){return t.defaults(dt(e,i))},r.makeRe=function(i,o){return t.makeRe(i,dt(e,o))},r.braceExpand=function(i,o){return t.braceExpand(i,dt(e,o))},r.match=function(n,i,o){return t.match(n,i,dt(e,o))},r};Ae.defaults=function(e){return Be.defaults(e).Minimatch};function Be(e,t,r){return qn(t),r||(r={}),!r.nocomment&&t.charAt(0)==="#"?!1:new Ae(t,r).match(e)}function Ae(e,t){if(!(this instanceof Ae))return new Ae(e,t);qn(e),t||(t={}),e=e.trim(),!t.allowWindowsEscape&&Or.sep!=="/"&&(e=e.split(Or.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}Ae.prototype.debug=function(){};Ae.prototype.make=Kv;function Kv(){var e=this.pattern,t=this.options;if(!t.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();t.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,r),r=this.globParts=r.map(function(n){return n.split(Nl)}),this.debug(this.pattern,r),r=r.map(function(n,i,o){return n.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}Ae.prototype.parseNegate=Yv;function Yv(){var e=this.pattern,t=!1,r=this.options,n=0;if(!r.nonegate){for(var i=0,o=e.length;i<o&&e.charAt(i)==="!";i++)t=!t,n++;n&&(this.pattern=e.substr(n)),this.negate=t}}Be.braceExpand=function(e,t){return jl(e,t)};Ae.prototype.braceExpand=jl;function jl(e,t){return t||(this instanceof Ae?t=this.options:t={}),e=typeof e>"u"?this.pattern:e,qn(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:$v(e)}var Qv=1024*64,qn=function(e){if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>Qv)throw new TypeError("pattern is too long")};Ae.prototype.parse=Jv;var Rn={};function Jv(e,t){qn(e);var r=this.options;if(e==="**")if(r.noglobstar)e="*";else return So;if(e==="")return"";var n="",i=!!r.nocase,o=!1,s=[],u=[],a,c=!1,f=-1,d=-1,w=e.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",y=this;function p(){if(a){switch(a){case"*":n+=Eo,i=!0;break;case"?":n+=bo,i=!0;break;default:n+="\\"+a;break}y.debug("clearStateChar %j %j",a,n),a=!1}}for(var m=0,_=e.length,b;m<_&&(b=e.charAt(m));m++){if(this.debug("%s	%s %s %j",e,m,n,b),o&&Al[b]){n+="\\"+b,o=!1;continue}switch(b){case"/":return!1;case"\\":p(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,m,n,b),c){this.debug("  in class"),b==="!"&&m===d+1&&(b="^"),n+=b;continue}y.debug("call clearStateChar %j",a),p(),a=b,r.noext&&p();continue;case"(":if(c){n+="(";continue}if(!a){n+="\\(";continue}s.push({type:a,start:m-1,reStart:n.length,open:Dl[a].open,close:Dl[a].close}),n+=a==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",a,n),a=!1;continue;case")":if(c||!s.length){n+="\\)";continue}p(),i=!0;var g=s.pop();n+=g.close,g.type==="!"&&u.push(g),g.reEnd=n.length;continue;case"|":if(c||!s.length||o){n+="\\|",o=!1;continue}p(),n+="|";continue;case"[":if(p(),c){n+="\\"+b;continue}c=!0,d=m,f=n.length,n+=b;continue;case"]":if(m===d+1||!c){n+="\\"+b,o=!1;continue}var S=e.substring(d+1,m);try{RegExp("["+S+"]")}catch{var O=this.parse(S,Rn);n=n.substr(0,f)+"\\["+O[0]+"\\]",i=i||O[1],c=!1;continue}i=!0,c=!1,n+=b;continue;default:p(),o?o=!1:Al[b]&&!(b==="^"&&c)&&(n+="\\"),n+=b}}for(c&&(S=e.substr(d+1),O=this.parse(S,Rn),n=n.substr(0,f)+"\\["+O[0],i=i||O[1]),g=s.pop();g;g=s.pop()){var R=n.slice(g.reStart+g.open.length);this.debug("setting tail",n,g),R=R.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(K,H,Z){return Z||(Z="\\"),H+H+Z+"|"}),this.debug(`tail=%j
   %s`,R,R,g,n);var W=g.type==="*"?Eo:g.type==="?"?bo:"\\"+g.type;i=!0,n=n.slice(0,g.reStart)+W+"\\("+R}p(),o&&(n+="\\\\");var Y=!1;switch(n.charAt(0)){case"[":case".":case"(":Y=!0}for(var z=u.length-1;z>-1;z--){var D=u[z],B=n.slice(0,D.reStart),$=n.slice(D.reStart,D.reEnd-8),C=n.slice(D.reEnd-8,D.reEnd),F=n.slice(D.reEnd);C+=F;var L=B.split("(").length-1,I=F;for(m=0;m<L;m++)I=I.replace(/\)[+*?]?/,"");F=I;var E="";F===""&&t!==Rn&&(E="$");var T=B+$+F+E+C;n=T}if(n!==""&&i&&(n="(?=.)"+n),Y&&(n=w+n),t===Rn)return[n,i];if(!i)return Zv(e);var A=r.nocase?"i":"";try{var j=new RegExp("^"+n+"$",A)}catch{return new RegExp("$.")}return j._glob=e,j._src=n,j}Be.makeRe=function(e,t){return new Ae(e,t||{}).makeRe()};Ae.prototype.makeRe=Xv;function Xv(){if(this.regexp||this.regexp===!1)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,r=t.noglobstar?Eo:t.dot?Vv:Gv,n=t.nocase?"i":"",i=e.map(function(o){return o.map(function(s){return s===So?r:typeof s=="string"?em(s):s._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch{this.regexp=!1}return this.regexp}Be.match=function(e,t,r){r=r||{};var n=new Ae(t,r);return e=e.filter(function(i){return n.match(i)}),n.options.nonull&&!e.length&&e.push(t),e};Ae.prototype.match=function(t,r){if(typeof r>"u"&&(r=this.partial),this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;var n=this.options;Or.sep!=="/"&&(t=t.split(Or.sep).join("/")),t=t.split(Nl),this.debug(this.pattern,"split",t);var i=this.set;this.debug(this.pattern,"set",i);var o,s;for(s=t.length-1;s>=0&&(o=t[s],!o);s--);for(s=0;s<i.length;s++){var u=i[s],a=t;n.matchBase&&u.length===1&&(a=[o]);var c=this.matchOne(a,u,r);if(c)return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate};Ae.prototype.matchOne=function(e,t,r){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var i=0,o=0,s=e.length,u=t.length;i<s&&o<u;i++,o++){this.debug("matchOne loop");var a=t[o],c=e[i];if(this.debug(t,a,c),a===!1)return!1;if(a===So){this.debug("GLOBSTAR",[t,a,c]);var f=i,d=o+1;if(d===u){for(this.debug("** at the end");i<s;i++)if(e[i]==="."||e[i]===".."||!n.dot&&e[i].charAt(0)===".")return!1;return!0}for(;f<s;){var w=e[f];if(this.debug(`
globstar while`,e,f,t,d,w),this.matchOne(e.slice(f),t.slice(d),r))return this.debug("globstar found match!",f,s,w),!0;if(w==="."||w===".."||!n.dot&&w.charAt(0)==="."){this.debug("dot detected!",e,f,t,d);break}this.debug("globstar swallow a segment, and continue"),f++}return!!(r&&(this.debug(`
>>> no match, partial?`,e,f,t,d),f===s))}var y;if(typeof a=="string"?(y=c===a,this.debug("string match",a,c,y)):(y=c.match(a),this.debug("pattern match",a,c,y)),!y)return!1}if(i===s&&o===u)return!0;if(i===s)return r;if(o===u)return i===s-1&&e[i]==="";throw new Error("wtf?")};function Zv(e){return e.replace(/\\(.)/g,"$1")}function em(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var Nn=V((Ew,An)=>{"use strict";function Il(e){return e.charAt(0)==="/"}function Ml(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,r=t.exec(e),n=r[1]||"",i=!!(n&&n.charAt(1)!==":");return!!(r[2]||i)}An.exports=process.platform==="win32"?Ml:Il;An.exports.posix=Il;An.exports.win32=Ml});var To=V(yt=>{yt.setopts=am;yt.ownProp=Pl;yt.makeAbs=xr;yt.finish=sm;yt.mark=um;yt.isIgnored=Ul;yt.childrenIgnored=cm;function Pl(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var tm=require("fs"),Zt=require("path"),rm=Dn(),Bl=Nn(),ko=rm.Minimatch;function nm(e,t){return e.localeCompare(t,"en")}function im(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]),e.ignore.length&&(e.ignore=e.ignore.map(om))}function om(e){var t=null;if(e.slice(-3)==="/**"){var r=e.replace(/(\/\*\*)+$/,"");t=new ko(r,{dot:!0})}return{matcher:new ko(e,{dot:!0}),gmatcher:t}}function am(e,t,r){if(r||(r={}),r.matchBase&&t.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!r.silent,e.pattern=t,e.strict=r.strict!==!1,e.realpath=!!r.realpath,e.realpathCache=r.realpathCache||Object.create(null),e.follow=!!r.follow,e.dot=!!r.dot,e.mark=!!r.mark,e.nodir=!!r.nodir,e.nodir&&(e.mark=!0),e.sync=!!r.sync,e.nounique=!!r.nounique,e.nonull=!!r.nonull,e.nosort=!!r.nosort,e.nocase=!!r.nocase,e.stat=!!r.stat,e.noprocess=!!r.noprocess,e.absolute=!!r.absolute,e.fs=r.fs||tm,e.maxLength=r.maxLength||1/0,e.cache=r.cache||Object.create(null),e.statCache=r.statCache||Object.create(null),e.symlinks=r.symlinks||Object.create(null),im(e,r),e.changedCwd=!1;var n=process.cwd();Pl(r,"cwd")?(e.cwd=Zt.resolve(r.cwd),e.changedCwd=e.cwd!==n):e.cwd=n,e.root=r.root||Zt.resolve(e.cwd,"/"),e.root=Zt.resolve(e.root),process.platform==="win32"&&(e.root=e.root.replace(/\\/g,"/")),e.cwdAbs=Bl(e.cwd)?e.cwd:xr(e,e.cwd),process.platform==="win32"&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/")),e.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,r.allowWindowsEscape=!1,e.minimatch=new ko(t,r),e.options=e.minimatch.options}function sm(e){for(var t=e.nounique,r=t?[]:Object.create(null),n=0,i=e.matches.length;n<i;n++){var o=e.matches[n];if(!o||Object.keys(o).length===0){if(e.nonull){var s=e.minimatch.globSet[n];t?r.push(s):r[s]=!0}}else{var u=Object.keys(o);t?r.push.apply(r,u):u.forEach(function(a){r[a]=!0})}}if(t||(r=Object.keys(r)),e.nosort||(r=r.sort(nm)),e.mark){for(var n=0;n<r.length;n++)r[n]=e._mark(r[n]);e.nodir&&(r=r.filter(function(a){var c=!/\/$/.test(a),f=e.cache[a]||e.cache[xr(e,a)];return c&&f&&(c=f!=="DIR"&&!Array.isArray(f)),c}))}e.ignore.length&&(r=r.filter(function(a){return!Ul(e,a)})),e.found=r}function um(e,t){var r=xr(e,t),n=e.cache[r],i=t;if(n){var o=n==="DIR"||Array.isArray(n),s=t.slice(-1)==="/";if(o&&!s?i+="/":!o&&s&&(i=i.slice(0,-1)),i!==t){var u=xr(e,i);e.statCache[u]=e.statCache[r],e.cache[u]=e.cache[r]}}return i}function xr(e,t){var r=t;return t.charAt(0)==="/"?r=Zt.join(e.root,t):Bl(t)||t===""?r=t:e.changedCwd?r=Zt.resolve(e.cwd,t):r=Zt.resolve(t),process.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function Ul(e,t){return e.ignore.length?e.ignore.some(function(r){return r.matcher.match(t)||!!(r.gmatcher&&r.gmatcher.match(t))}):!1}function cm(e,t){return e.ignore.length?e.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(t))}):!1}});var zl=V((xw,Gl)=>{Gl.exports=Vl;Vl.GlobSync=Ce;var lm=go(),Wl=Dn(),kw=Wl.Minimatch,Tw=Co().Glob,Ow=require("util"),Oo=require("path"),$l=require("assert"),jn=Nn(),Dt=To(),fm=Dt.setopts,xo=Dt.ownProp,hm=Dt.childrenIgnored,pm=Dt.isIgnored;function Vl(e,t){if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new Ce(e,t).found}function Ce(e,t){if(!e)throw new Error("must provide pattern");if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof Ce))return new Ce(e,t);if(fm(this,e,t),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}Ce.prototype._finish=function(){if($l.ok(this instanceof Ce),this.realpath){var e=this;this.matches.forEach(function(t,r){var n=e.matches[r]=Object.create(null);for(var i in t)try{i=e._makeAbs(i);var o=lm.realpathSync(i,e.realpathCache);n[o]=!0}catch(s){if(s.syscall==="stat")n[e._makeAbs(i)]=!0;else throw s}})}Dt.finish(this)};Ce.prototype._process=function(e,t,r){$l.ok(this instanceof Ce);for(var n=0;typeof e[n]=="string";)n++;var i;switch(n){case e.length:this._processSimple(e.join("/"),t);return;case 0:i=null;break;default:i=e.slice(0,n).join("/");break}var o=e.slice(n),s;i===null?s=".":((jn(i)||jn(e.map(function(c){return typeof c=="string"?c:"[*]"}).join("/")))&&(!i||!jn(i))&&(i="/"+i),s=i);var u=this._makeAbs(s);if(!hm(this,s)){var a=o[0]===Wl.GLOBSTAR;a?this._processGlobStar(i,s,u,o,t,r):this._processReaddir(i,s,u,o,t,r)}};Ce.prototype._processReaddir=function(e,t,r,n,i,o){var s=this._readdir(r,o);if(s){for(var u=n[0],a=!!this.minimatch.negate,c=u._glob,f=this.dot||c.charAt(0)===".",d=[],w=0;w<s.length;w++){var y=s[w];if(y.charAt(0)!=="."||f){var p;a&&!e?p=!y.match(u):p=y.match(u),p&&d.push(y)}}var m=d.length;if(m!==0){if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var w=0;w<m;w++){var y=d[w];e&&(e.slice(-1)!=="/"?y=e+"/"+y:y=e+y),y.charAt(0)==="/"&&!this.nomount&&(y=Oo.join(this.root,y)),this._emitMatch(i,y)}return}n.shift();for(var w=0;w<m;w++){var y=d[w],_;e?_=[e,y]:_=[y],this._process(_.concat(n),i,o)}}}};Ce.prototype._emitMatch=function(e,t){if(!pm(this,t)){var r=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}};Ce.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,r,n;try{r=this.fs.lstatSync(e)}catch(o){if(o.code==="ENOENT")return null}var i=r&&r.isSymbolicLink();return this.symlinks[e]=i,!i&&r&&!r.isDirectory()?this.cache[e]="FILE":t=this._readdir(e,!1),t};Ce.prototype._readdir=function(e,t){var r;if(t&&!xo(this.symlinks,e))return this._readdirInGlobStar(e);if(xo(this.cache,e)){var n=this.cache[e];if(!n||n==="FILE")return null;if(Array.isArray(n))return n}try{return this._readdirEntries(e,this.fs.readdirSync(e))}catch(i){return this._readdirError(e,i),null}};Ce.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var n=t[r];e==="/"?n=e+n:n=e+"/"+n,this.cache[n]=!0}return this.cache[e]=t,t};Ce.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(t.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=t.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t);break}};Ce.prototype._processGlobStar=function(e,t,r,n,i,o){var s=this._readdir(r,o);if(s){var u=n.slice(1),a=e?[e]:[],c=a.concat(u);this._process(c,i,!1);var f=s.length,d=this.symlinks[r];if(!(d&&o))for(var w=0;w<f;w++){var y=s[w];if(!(y.charAt(0)==="."&&!this.dot)){var p=a.concat(s[w],u);this._process(p,i,!0);var m=a.concat(s[w],n);this._process(m,i,!0)}}}};Ce.prototype._processSimple=function(e,t){var r=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),!!r){if(e&&jn(e)&&!this.nomount){var n=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=Oo.join(this.root,e):(e=Oo.resolve(this.root,e),n&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}};Ce.prototype._stat=function(e){var t=this._makeAbs(e),r=e.slice(-1)==="/";if(e.length>this.maxLength)return!1;if(!this.stat&&xo(this.cache,t)){var s=this.cache[t];if(Array.isArray(s)&&(s="DIR"),!r||s==="DIR")return s;if(r&&s==="FILE")return!1}var n,i=this.statCache[t];if(!i){var o;try{o=this.fs.lstatSync(t)}catch(u){if(u&&(u.code==="ENOENT"||u.code==="ENOTDIR"))return this.statCache[t]=!1,!1}if(o&&o.isSymbolicLink())try{i=this.fs.statSync(t)}catch{i=o}else i=o}this.statCache[t]=i;var s=!0;return i&&(s=i.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||s,r&&s==="FILE"?!1:s};Ce.prototype._mark=function(e){return Dt.mark(this,e)};Ce.prototype._makeAbs=function(e){return Dt.makeAbs(this,e)}});var Fo=V((Cw,Kl)=>{Kl.exports=Hl;function Hl(e,t){if(e&&t)return Hl(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){r[n]=e[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var o=e.apply(this,n),s=n[n.length-1];return typeof o=="function"&&o!==s&&Object.keys(s).forEach(function(u){o[u]=s[u]}),o}}});var qo=V((Fw,Ro)=>{var Yl=Fo();Ro.exports=Yl(Ln);Ro.exports.strict=Yl(Ql);Ln.proto=Ln(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Ln(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return Ql(this)},configurable:!0})});function Ln(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function Ql(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}});var Xl=V((Rw,Jl)=>{var dm=Fo(),Cr=Object.create(null),ym=qo();Jl.exports=dm(vm);function vm(e,t){return Cr[e]?(Cr[e].push(t),null):(Cr[e]=[t],mm(e))}function mm(e){return ym(function t(){var r=Cr[e],n=r.length,i=gm(arguments);try{for(var o=0;o<n;o++)r[o].apply(null,i)}finally{r.length>n?(r.splice(0,n),process.nextTick(function(){t.apply(null,i)})):delete Cr[e]}})}function gm(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n]=e[n];return r}});var Co=V((Aw,ef)=>{ef.exports=At;var _m=go(),Zl=Dn(),qw=Zl.Minimatch,wm=xe(),bm=require("events").EventEmitter,Do=require("path"),Ao=require("assert"),Fr=Nn(),jo=zl(),Nt=To(),Em=Nt.setopts,No=Nt.ownProp,Lo=Xl(),Dw=require("util"),Sm=Nt.childrenIgnored,km=Nt.isIgnored,Tm=qo();function At(e,t,r){if(typeof t=="function"&&(r=t,t={}),t||(t={}),t.sync){if(r)throw new TypeError("callback provided to sync glob");return jo(e,t)}return new fe(e,t,r)}At.sync=jo;var Om=At.GlobSync=jo.GlobSync;At.glob=At;function xm(e,t){if(t===null||typeof t!="object")return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}At.hasMagic=function(e,t){var r=xm({},t);r.noprocess=!0;var n=new fe(e,r),i=n.minimatch.set;if(!e)return!1;if(i.length>1)return!0;for(var o=0;o<i[0].length;o++)if(typeof i[0][o]!="string")return!0;return!1};At.Glob=fe;wm(fe,bm);function fe(e,t,r){if(typeof t=="function"&&(r=t,t=null),t&&t.sync){if(r)throw new TypeError("callback provided to sync glob");return new Om(e,t)}if(!(this instanceof fe))return new fe(e,t,r);Em(this,e,t),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),typeof r=="function"&&(r=Tm(r),this.on("error",r),this.on("end",function(a){r(null,a)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(n===0)return u();for(var o=!0,s=0;s<n;s++)this._process(this.minimatch.set[s],s,!1,u);o=!1;function u(){--i._processing,i._processing<=0&&(o?process.nextTick(function(){i._finish()}):i._finish())}}fe.prototype._finish=function(){if(Ao(this instanceof fe),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();Nt.finish(this),this.emit("end",this.found)}};fe.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var e=this.matches.length;if(e===0)return this._finish();for(var t=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n);function n(){--e===0&&t._finish()}};fe.prototype._realpathSet=function(e,t){var r=this.matches[e];if(!r)return t();var n=Object.keys(r),i=this,o=n.length;if(o===0)return t();var s=this.matches[e]=Object.create(null);n.forEach(function(u,a){u=i._makeAbs(u),_m.realpath(u,i.realpathCache,function(c,f){c?c.syscall==="stat"?s[u]=!0:i.emit("error",c):s[f]=!0,--o===0&&(i.matches[e]=s,t())})})};fe.prototype._mark=function(e){return Nt.mark(this,e)};fe.prototype._makeAbs=function(e){return Nt.makeAbs(this,e)};fe.prototype.abort=function(){this.aborted=!0,this.emit("abort")};fe.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};fe.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var r=e[t];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var t=0;t<n.length;t++){var i=n[t];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}};fe.prototype._process=function(e,t,r,n){if(Ao(this instanceof fe),Ao(typeof n=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([e,t,r,n]);return}for(var i=0;typeof e[i]=="string";)i++;var o;switch(i){case e.length:this._processSimple(e.join("/"),t,n);return;case 0:o=null;break;default:o=e.slice(0,i).join("/");break}var s=e.slice(i),u;o===null?u=".":((Fr(o)||Fr(e.map(function(f){return typeof f=="string"?f:"[*]"}).join("/")))&&(!o||!Fr(o))&&(o="/"+o),u=o);var a=this._makeAbs(u);if(Sm(this,u))return n();var c=s[0]===Zl.GLOBSTAR;c?this._processGlobStar(o,u,a,s,t,r,n):this._processReaddir(o,u,a,s,t,r,n)}};fe.prototype._processReaddir=function(e,t,r,n,i,o,s){var u=this;this._readdir(r,o,function(a,c){return u._processReaddir2(e,t,r,n,i,o,c,s)})};fe.prototype._processReaddir2=function(e,t,r,n,i,o,s,u){if(!s)return u();for(var a=n[0],c=!!this.minimatch.negate,f=a._glob,d=this.dot||f.charAt(0)===".",w=[],y=0;y<s.length;y++){var p=s[y];if(p.charAt(0)!=="."||d){var m;c&&!e?m=!p.match(a):m=p.match(a),m&&w.push(p)}}var _=w.length;if(_===0)return u();if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var y=0;y<_;y++){var p=w[y];e&&(e!=="/"?p=e+"/"+p:p=e+p),p.charAt(0)==="/"&&!this.nomount&&(p=Do.join(this.root,p)),this._emitMatch(i,p)}return u()}n.shift();for(var y=0;y<_;y++){var p=w[y],b;e&&(e!=="/"?p=e+"/"+p:p=e+p),this._process([p].concat(n),i,o,u)}u()};fe.prototype._emitMatch=function(e,t){if(!this.aborted&&!km(this,t)){if(this.paused){this._emitQueue.push([e,t]);return}var r=Fr(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[e][t]=!0;var i=this.statCache[r];i&&this.emit("stat",t,i),this.emit("match",t)}}};fe.prototype._readdirInGlobStar=function(e,t){if(this.aborted)return;if(this.follow)return this._readdir(e,!1,t);var r="lstat\0"+e,n=this,i=Lo(r,o);i&&n.fs.lstat(e,i);function o(s,u){if(s&&s.code==="ENOENT")return t();var a=u&&u.isSymbolicLink();n.symlinks[e]=a,!a&&u&&!u.isDirectory()?(n.cache[e]="FILE",t()):n._readdir(e,!1,t)}};fe.prototype._readdir=function(e,t,r){if(!this.aborted&&(r=Lo("readdir\0"+e+"\0"+t,r),!!r)){if(t&&!No(this.symlinks,e))return this._readdirInGlobStar(e,r);if(No(this.cache,e)){var n=this.cache[e];if(!n||n==="FILE")return r();if(Array.isArray(n))return r(null,n)}var i=this;i.fs.readdir(e,Cm(this,e,r))}};function Cm(e,t,r){return function(n,i){n?e._readdirError(t,n,r):e._readdirEntries(t,i,r)}}fe.prototype._readdirEntries=function(e,t,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var i=t[n];e==="/"?i=e+i:i=e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,r(null,t)}};fe.prototype._readdirError=function(e,t,r){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=t.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t);break}return r()}};fe.prototype._processGlobStar=function(e,t,r,n,i,o,s){var u=this;this._readdir(r,o,function(a,c){u._processGlobStar2(e,t,r,n,i,o,c,s)})};fe.prototype._processGlobStar2=function(e,t,r,n,i,o,s,u){if(!s)return u();var a=n.slice(1),c=e?[e]:[],f=c.concat(a);this._process(f,i,!1,u);var d=this.symlinks[r],w=s.length;if(d&&o)return u();for(var y=0;y<w;y++){var p=s[y];if(!(p.charAt(0)==="."&&!this.dot)){var m=c.concat(s[y],a);this._process(m,i,!0,u);var _=c.concat(s[y],n);this._process(_,i,!0,u)}}u()};fe.prototype._processSimple=function(e,t,r){var n=this;this._stat(e,function(i,o){n._processSimple2(e,t,i,o,r)})};fe.prototype._processSimple2=function(e,t,r,n,i){if(this.matches[t]||(this.matches[t]=Object.create(null)),!n)return i();if(e&&Fr(e)&&!this.nomount){var o=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=Do.join(this.root,e):(e=Do.resolve(this.root,e),o&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),i()};fe.prototype._stat=function(e,t){var r=this._makeAbs(e),n=e.slice(-1)==="/";if(e.length>this.maxLength)return t();if(!this.stat&&No(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!n||i==="DIR")return t(null,i);if(n&&i==="FILE")return t()}var o,s=this.statCache[r];if(s!==void 0){if(s===!1)return t(null,s);var u=s.isDirectory()?"DIR":"FILE";return n&&u==="FILE"?t():t(null,u,s)}var a=this,c=Lo("stat\0"+r,f);c&&a.fs.lstat(r,c);function f(d,w){if(w&&w.isSymbolicLink())return a.fs.stat(r,function(y,p){y?a._stat2(e,r,null,w,t):a._stat2(e,r,y,p,t)});a._stat2(e,r,d,w,t)}};fe.prototype._stat2=function(e,t,r,n,i){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[t]=!1,i();var o=e.slice(-1)==="/";if(this.statCache[t]=n,t.slice(-1)==="/"&&n&&!n.isDirectory())return i(null,!1,n);var s=!0;return n&&(s=n.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||s,o&&s==="FILE"?i():i(null,s,n)}});var Bo=V((Nw,cf)=>{cf.exports=Po;Po.sync=uf;var le=require("assert"),of=require("path"),tf=require("fs"),er=void 0;try{er=Co()}catch{}var af=parseInt("666",8),Fm={nosort:!0,silent:!0},Io=0,Rr=process.platform==="win32";function sf(e){var t=["unlink","chmod","stat","lstat","rmdir","readdir"];if(t.forEach(function(r){e[r]=e[r]||tf[r],r=r+"Sync",e[r]=e[r]||tf[r]}),e.maxBusyTries=e.maxBusyTries||3,e.emfileWait=e.emfileWait||1e3,e.glob===!1&&(e.disableGlob=!0),e.disableGlob!==!0&&er===void 0)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");e.disableGlob=e.disableGlob||!1,e.glob=e.glob||Fm}function Po(e,t,r){typeof t=="function"&&(r=t,t={}),le(e,"rimraf: missing path"),le.equal(typeof e,"string","rimraf: path should be a string"),le.equal(typeof r,"function","rimraf: callback function required"),le(t,"rimraf: invalid options argument provided"),le.equal(typeof t,"object","rimraf: options should be object"),sf(t);var n=0,i=null,o=0;if(t.disableGlob||!er.hasMagic(e))return u(null,[e]);t.lstat(e,function(a,c){if(!a)return u(null,[e]);er(e,t.glob,u)});function s(a){i=i||a,--o===0&&r(i)}function u(a,c){if(a)return r(a);if(o=c.length,o===0)return r();c.forEach(function(f){Mo(f,t,function d(w){if(w){if((w.code==="EBUSY"||w.code==="ENOTEMPTY"||w.code==="EPERM")&&n<t.maxBusyTries){n++;var y=n*100;return setTimeout(function(){Mo(f,t,d)},y)}if(w.code==="EMFILE"&&Io<t.emfileWait)return setTimeout(function(){Mo(f,t,d)},Io++);w.code==="ENOENT"&&(w=null)}Io=0,s(w)})})}}function Mo(e,t,r){le(e),le(t),le(typeof r=="function"),t.lstat(e,function(n,i){if(n&&n.code==="ENOENT")return r(null);if(n&&n.code==="EPERM"&&Rr&&rf(e,t,n,r),i&&i.isDirectory())return In(e,t,n,r);t.unlink(e,function(o){if(o){if(o.code==="ENOENT")return r(null);if(o.code==="EPERM")return Rr?rf(e,t,o,r):In(e,t,o,r);if(o.code==="EISDIR")return In(e,t,o,r)}return r(o)})})}function rf(e,t,r,n){le(e),le(t),le(typeof n=="function"),r&&le(r instanceof Error),t.chmod(e,af,function(i){i?n(i.code==="ENOENT"?null:r):t.stat(e,function(o,s){o?n(o.code==="ENOENT"?null:r):s.isDirectory()?In(e,t,r,n):t.unlink(e,n)})})}function nf(e,t,r){le(e),le(t),r&&le(r instanceof Error);try{t.chmodSync(e,af)}catch(i){if(i.code==="ENOENT")return;throw r}try{var n=t.statSync(e)}catch(i){if(i.code==="ENOENT")return;throw r}n.isDirectory()?Mn(e,t,r):t.unlinkSync(e)}function In(e,t,r,n){le(e),le(t),r&&le(r instanceof Error),le(typeof n=="function"),t.rmdir(e,function(i){i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?Rm(e,t,n):i&&i.code==="ENOTDIR"?n(r):n(i)})}function Rm(e,t,r){le(e),le(t),le(typeof r=="function"),t.readdir(e,function(n,i){if(n)return r(n);var o=i.length;if(o===0)return t.rmdir(e,r);var s;i.forEach(function(u){Po(of.join(e,u),t,function(a){if(!s){if(a)return r(s=a);--o===0&&t.rmdir(e,r)}})})})}function uf(e,t){t=t||{},sf(t),le(e,"rimraf: missing path"),le.equal(typeof e,"string","rimraf: path should be a string"),le(t,"rimraf: missing options"),le.equal(typeof t,"object","rimraf: options should be object");var r;if(t.disableGlob||!er.hasMagic(e))r=[e];else try{t.lstatSync(e),r=[e]}catch{r=er.sync(e,t.glob)}if(r.length)for(var n=0;n<r.length;n++){var e=r[n];try{var i=t.lstatSync(e)}catch(s){if(s.code==="ENOENT")return;s.code==="EPERM"&&Rr&&nf(e,t,s)}try{i&&i.isDirectory()?Mn(e,t,null):t.unlinkSync(e)}catch(s){if(s.code==="ENOENT")return;if(s.code==="EPERM")return Rr?nf(e,t,s):Mn(e,t,s);if(s.code!=="EISDIR")throw s;Mn(e,t,s)}}}function Mn(e,t,r){le(e),le(t),r&&le(r instanceof Error);try{t.rmdirSync(e)}catch(n){if(n.code==="ENOENT")return;if(n.code==="ENOTDIR")throw r;(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")&&qm(e,t)}}function qm(e,t){le(e),le(t),t.readdirSync(e).forEach(function(s){uf(of.join(e,s),t)});var r=Rr?100:1,n=0;do{var i=!0;try{var o=t.rmdirSync(e,t);return i=!1,o}finally{if(++n<r&&i)continue}}while(!0)}});var Uo=V((jw,hf)=>{var qr=require("path"),lf=require("fs"),ff=parseInt("0777",8);hf.exports=tr.mkdirp=tr.mkdirP=tr;function tr(e,t,r,n){typeof t=="function"?(r=t,t={}):(!t||typeof t!="object")&&(t={mode:t});var i=t.mode,o=t.fs||lf;i===void 0&&(i=ff),n||(n=null);var s=r||function(){};e=qr.resolve(e),o.mkdir(e,i,function(u){if(!u)return n=n||e,s(null,n);switch(u.code){case"ENOENT":if(qr.dirname(e)===e)return s(u);tr(qr.dirname(e),t,function(a,c){a?s(a,c):tr(e,t,s,c)});break;default:o.stat(e,function(a,c){a||!c.isDirectory()?s(u,n):s(null,n)});break}})}tr.sync=function e(t,r,n){(!r||typeof r!="object")&&(r={mode:r});var i=r.mode,o=r.fs||lf;i===void 0&&(i=ff),n||(n=null),t=qr.resolve(t);try{o.mkdirSync(t,i),n=n||t}catch(u){switch(u.code){case"ENOENT":n=e(qr.dirname(t),r,n),e(t,r,n);break;default:var s;try{s=o.statSync(t)}catch{throw u}if(!s.isDirectory())throw u;break}}return n}});var Pn=V((Lw,pf)=>{pf.exports=Wo;function Wo(e){if(e._collected)return;if(e._paused)return e.on("resume",Wo.bind(null,e));e._collected=!0,e.pause(),e.on("data",r),e.on("end",r);var t=[];function r(s){typeof s=="string"&&(s=new Buffer(s)),!(Buffer.isBuffer(s)&&!s.length)&&t.push(s)}e.on("entry",i);var n=[];function i(s){Wo(s),n.push(s)}e.on("proxy",o);function o(s){s.pause()}e.pipe=function(s){return function(u){var a=0;(function f(){var d=n[a++];if(!d)return c();d.on("end",f),u?u.add(d):e.emit("entry",d)})();function c(){e.removeListener("entry",i),e.removeListener("data",r),e.removeListener("end",r),e.pipe=s,u&&e.pipe(u),t.forEach(function(f){f?e.emit("data",f):e.emit("end")}),e.resume()}return u}}(e.pipe)}});var $o=V((Iw,yf)=>{yf.exports=vt;var Bn=rr(),Dm=xe(),Am=Uo(),df=require("path"),Nm=Pn();Dm(vt,Bn);function vt(e){var t=this;t instanceof vt||t.error("DirWriter must be called as constructor.",null,!0),(e.type!=="Directory"||!e.Directory)&&t.error("Non-directory type "+e.type+" "+JSON.stringify(e),null,!0),Bn.call(this,e)}vt.prototype._create=function(){var e=this;Am(e._path,Bn.dirmode,function(t){if(t)return e.error(t);e.ready=!0,e.emit("ready"),e._process()})};vt.prototype.write=function(){return!0};vt.prototype.end=function(){this._ended=!0,this._process()};vt.prototype.add=function(e){var t=this;return Nm(e),!t.ready||t._currentEntry?(t._buffer.push(e),!1):t._ended?t.error("add after end"):(t._buffer.push(e),t._process(),this._buffer.length===0)};vt.prototype._process=function(){var e=this;if(e._processing)return;var t=e._buffer.shift();if(!t){e.emit("drain"),e._ended&&e._finish();return}e._processing=!0,e.emit("entry",t);var r=t,n;do{if(n=r._path||r.path,n===e.root._path||n===e._path||n&&n.indexOf(e._path)===0)return e._processing=!1,t._collected&&t.pipe(),e._process();r=r.parent}while(r);var i={parent:e,root:e.root||e,type:t.type,depth:e.depth+1};n=t._path||t.path||t.props.path,t.parent&&(n=n.substr(t.parent._path.length+1)),i.path=df.join(e.path,df.join("/",n)),i.filter=e.filter,Object.keys(t.props).forEach(function(a){i.hasOwnProperty(a)||(i[a]=t.props[a])});var o=e._currentChild=new Bn(i);o.on("ready",function(){t.pipe(o),t.resume()}),o.on("error",function(a){o._swallowErrors?(e.warn(a),o.emit("end"),o.emit("close")):e.emit("error",a)}),o.on("close",u);var s=!1;function u(){s||(s=!0,e._currentChild=null,e._processing=!1,e._process())}}});var Vo=V((Mw,wf)=>{wf.exports=Dr;var mf=Je(),gf=rr(),jm=xe(),Lm=require("path"),Im=Bo();jm(Dr,gf);function Dr(e){var t=this;if(!(t instanceof Dr))throw new Error("LinkWriter must be called as constructor.");if(!(e.type==="Link"&&e.Link||e.type==="SymbolicLink"&&e.SymbolicLink))throw new Error("Non-link type "+e.type);e.linkpath===""&&(e.linkpath="."),e.linkpath||t.error("Need linkpath property to create "+e.type),gf.call(this,e)}Dr.prototype._create=function(){var e=this,t=e.type==="Link"||process.platform==="win32",r=t?"link":"symlink",n=t?Lm.resolve(e.dirname,e.linkpath):e.linkpath;if(t)return vf(e,n,r);mf.readlink(e._path,function(i,o){if(o&&o===n)return _f(e);vf(e,n,r)})};function vf(e,t,r){Im(e._path,function(n){if(n)return e.error(n);Mm(e,t,r)})}function Mm(e,t,r){mf[r](t,e._path,function(n){if(n)if((n.code==="ENOENT"||n.code==="EACCES"||n.code==="EPERM")&&process.platform==="win32")e.ready=!0,e.emit("ready"),e.emit("end"),e.emit("close"),e.end=e._finish=function(){};else return e.error(n);_f(e)})}function _f(e){e.ready=!0,e.emit("ready"),e._ended&&!e._finished&&e._finish()}Dr.prototype.end=function(){this._ended=!0,this.ready&&(this._finished=!0,this._finish())}});var Go=V((Pw,Ef)=>{Ef.exports=jt;var Pm=Je(),Un=rr(),Bm=xe(),bf={};Bm(jt,Un);function jt(e){var t=this;if(!(t instanceof jt))throw new Error("FileWriter must be called as constructor.");if(e.type!=="File"||!e.File)throw new Error("Non-file type "+e.type);t._buffer=[],t._bytesWritten=0,Un.call(this,e)}jt.prototype._create=function(){var e=this;if(!e._stream){var t={};e.props.flags&&(t.flags=e.props.flags),t.mode=Un.filemode,e._old&&e._old.blksize&&(t.bufferSize=e._old.blksize),e._stream=Pm.createWriteStream(e._path,t),e._stream.on("open",function(){e.ready=!0,e._buffer.forEach(function(r){r===bf?e._stream.end():e._stream.write(r)}),e.emit("ready"),e.emit("drain")}),e._stream.on("error",function(r){e.emit("error",r)}),e._stream.on("drain",function(){e.emit("drain")}),e._stream.on("close",function(){e._finish()})}};jt.prototype.write=function(e){var t=this;if(t._bytesWritten+=e.length,!t.ready){if(!Buffer.isBuffer(e)&&typeof e!="string")throw new Error("invalid write data");return t._buffer.push(e),!1}var r=t._stream.write(e);return r===!1&&t._stream._queue?t._stream._queue.length<=2:r};jt.prototype.end=function(e){var t=this;return e&&t.write(e),t.ready?t._stream.end():(t._buffer.push(bf),!1)};jt.prototype._finish=function(){var e=this;typeof e.size=="number"&&e._bytesWritten!==e.size&&e.error(`Did not get expected byte count.
expect: `+e.size+`
actual: `+e._bytesWritten),Un.prototype._finish.call(e)}});var Ho=V((Bw,Sf)=>{Sf.exports=mt;var zo=rr(),Um=Er(),Wm=xe(),$m=Pn(),Vm=require("fs");Wm(mt,zo);function mt(e){var t=this;if(!(t instanceof mt))throw new Error("ProxyWriter must be called as constructor.");t.props=e,t._needDrain=!1,zo.call(t,e)}mt.prototype._stat=function(){var e=this,t=e.props,r=t.follow?"stat":"lstat";Vm[r](t.path,function(n,i){var o;n||!i?o="File":o=Um(i),t[o]=!0,t.type=e.type=o,e._old=i,e._addProxy(zo(t,i))})};mt.prototype._addProxy=function(e){var t=this;if(t._proxy)return t.error("proxy already set");t._proxy=e,["ready","error","close","pipe","drain","warn"].forEach(function(n){e.on(n,t.emit.bind(t,n))}),t.emit("proxy",e);var r=t._buffer;r.forEach(function(n){e[n[0]].apply(e,n[1])}),t._buffer.length=0,t._needsDrain&&t.emit("drain")};mt.prototype.add=function(e){return $m(e),this._proxy?this._proxy.add(e):(this._buffer.push(["add",[e]]),this._needDrain=!0,!1)};mt.prototype.write=function(e){return this._proxy?this._proxy.write(e):(this._buffer.push(["write",[e]]),this._needDrain=!0,!1)};mt.prototype.end=function(e){return this._proxy?this._proxy.end(e):(this._buffer.push(["end",[e]]),!1)}});var rr=V((Uw,Df)=>{Df.exports=We;var Ue=Je(),Gm=xe(),zm=Bo(),Hm=Uo(),Ar=require("path"),Tf=process.platform==="win32"?0:process.umask(),Of=Er(),xf=Sn();Gm(We,xf);We.dirmode=parseInt("0777",8)&~Tf;We.filemode=parseInt("0666",8)&~Tf;var Km=$o(),Ym=Vo(),Qm=Go(),Jm=Ho();function We(e,t){var r=this;typeof e=="string"&&(e={path:e});var n=Of(e),i=We;switch(n){case"Directory":i=Km;break;case"File":i=Qm;break;case"Link":case"SymbolicLink":i=Ym;break;case null:default:i=Jm;break}if(!(r instanceof i))return new i(e);xf.call(r),e.path||r.error("Must provide a path",null,!0),r.type=e.type,r.props=e,r.depth=e.depth||0,r.clobber=e.clobber===!1?e.clobber:!0,r.parent=e.parent||null,r.root=e.root||e.parent&&e.parent.root||r,r._path=r.path=Ar.resolve(e.path),process.platform==="win32"&&(r.path=r._path=r.path.replace(/\?/g,"_"),r._path.length>=260&&(r._swallowErrors=!0,r._path="\\\\?\\"+r.path.replace(/\//g,"\\"))),r.basename=Ar.basename(e.path),r.dirname=Ar.dirname(e.path),r.linkpath=e.linkpath||null,e.parent=e.root=null,r.size=e.size,typeof e.mode=="string"&&(e.mode=parseInt(e.mode,8)),r.readable=!1,r.writable=!0,r._buffer=[],r.ready=!1,r.filter=typeof e.filter=="function"?e.filter:null,r._stat(t)}We.prototype._create=function(){var e=this;Ue[e.props.follow?"stat":"lstat"](e._path,function(t){if(t)return e.warn("Cannot create "+e._path+`
Unsupported type: `+e.type,"ENOTSUP");e._finish()})};We.prototype._stat=function(e){var t=this,r=t.props,n=r.follow?"stat":"lstat",i=t._proxy||t;e?o(null,e):Ue[n](t._path,o);function o(s,u){if(t.filter&&!t.filter.call(i,i,u)){t._aborted=!0,t.emit("end"),t.emit("close");return}if(s||!u)return Ko(t);t._old=u;var a=Of(u);if(a!==t.type||t.type==="File"&&u.nlink>1)return zm(t._path,function(c){if(c)return t.error(c);t._old=null,Ko(t)});Ko(t)}};function Ko(e){Hm(Ar.dirname(e._path),We.dirmode,function(t,r){return t?e.error(t):(e._madeDir=r,e._create())})}function Cf(e,t,r,n,i){var o=t.mode,s=t.follow||e.type!=="SymbolicLink"?"chmod":"lchmod";if(!Ue[s]||typeof o!="number")return i();var u=r.mode&parseInt("0777",8);if(o=o&parseInt("0777",8),o===u)return i();Ue[s](n,o,i)}function Ff(e,t,r,n,i){if(process.platform==="win32"||!process.getuid||process.getuid()!==0||typeof t.uid!="number"&&typeof t.gid!="number"||r.uid===t.uid&&r.gid===t.gid)return i();var o=e.props.follow||e.type!=="SymbolicLink"?"chown":"lchown";if(!Ue[o])return i();typeof t.uid!="number"&&(t.uid=r.uid),typeof t.gid!="number"&&(t.gid=r.gid),Ue[o](n,t.uid,t.gid,i)}function Rf(e,t,r,n,i){if(!Ue.utimes||process.platform==="win32")return i();var o=t.follow||e.type!=="SymbolicLink"?"utimes":"lutimes";if(o==="lutimes"&&!Ue[o]&&(o="utimes"),!Ue[o])return i();var s=r.atime,u=r.mtime,a=t.atime,c=t.mtime;if(a===void 0&&(a=s),c===void 0&&(c=u),kf(a)||(a=new Date(a)),kf(c)||(a=new Date(c)),a.getTime()===s.getTime()&&c.getTime()===u.getTime())return i();Ue[o](n,a,c,i)}We.prototype._finish=function(){var e=this;if(e._finishing)return;e._finishing=!0;var t=0,r=null,n=!1;if(e._old)e._old.atime=new Date(0),e._old.mtime=new Date(0),o(e._old);else{var i=e.props.follow?"stat":"lstat";Ue[i](e._path,function(u,a){if(u)if(u.code==="ENOENT"&&(e.type==="Link"||e.type==="SymbolicLink")&&process.platform==="win32"){e.ready=!0,e.emit("ready"),e.emit("end"),e.emit("close"),e.end=e._finish=function(){};return}else return e.error(u);o(e._old=a)})}return;function o(u){t+=3,Cf(e,e.props,u,e._path,s("chmod")),Ff(e,e.props,u,e._path,s("chown")),Rf(e,e.props,u,e._path,s("utimes"))}function s(u){return function(a){if(r)return;if(a)return a.fstream_finish_call=u,e.error(r=a);if(--t>0||n)return;if(n=!0,e._madeDir)qf(e,e._path,c);else return c();function c(f){if(f)return f.fstream_finish_call="setupMadeDir",e.error(f);e.emit("end"),e.emit("close")}}}};function qf(e,t,r){var n=e._madeDir,i=Ar.dirname(t);Xm(e,i,function(o){if(o)return r(o);if(i===n)return r();qf(e,i,r)})}function Xm(e,t,r){var n={};Object.keys(e.props).forEach(function(u){n[u]=e.props[u],u==="mode"&&e.type!=="Directory"&&(n[u]=n[u]|parseInt("0111",8))});var i=3,o=null;Ue.stat(t,function(u,a){if(u)return r(o=u);Cf(e,n,a,t,s),Ff(e,n,a,t,s),Rf(e,n,a,t,s)});function s(u){if(!o){if(u)return r(o=u);if(--i===0)return r()}}}We.prototype.pipe=function(){this.error("Can't pipe from writable stream")};We.prototype.add=function(){this.error("Can't add to non-Directory type")};We.prototype.write=function(){return!0};function Zm(e){return Object.prototype.toString.call(e)}function kf(e){return typeof e=="object"&&Zm(e)==="[object Date]"}});var Yo=V(ae=>{ae.Abstract=Sn();ae.Reader=Ct();ae.Writer=rr();ae.File={Reader:uo(),Writer:Go()};ae.Dir={Reader:so(),Writer:$o()};ae.Link={Reader:oo(),Writer:Vo()};ae.Proxy={Reader:lo(),Writer:Ho()};ae.Reader.Dir=ae.DirReader=ae.Dir.Reader;ae.Reader.File=ae.FileReader=ae.File.Reader;ae.Reader.Link=ae.LinkReader=ae.Link.Reader;ae.Reader.Proxy=ae.ProxyReader=ae.Proxy.Reader;ae.Writer.Dir=ae.DirWriter=ae.Dir.Writer;ae.Writer.File=ae.FileWriter=ae.File.Writer;ae.Writer.Link=ae.LinkWriter=ae.Link.Writer;ae.Writer.Proxy=ae.ProxyWriter=ae.Proxy.Writer;ae.collect=Pn()});var Nf=V(($w,Af)=>{Af.exports=og;var eg=fn(),tg=Yo().Writer,Qo=require("path"),rg=require("stream"),ng=Ji(),ig=st();function og(e){e.path=Qo.resolve(Qo.normalize(e.path));var t=new eg(e),r=new rg.Writable({objectMode:!0});r._write=function(i,o,s){if(i.type=="Directory")return s();var u=Qo.join(e.path,i.path.replace(/\\/g,"/"));if(u.indexOf(e.path)!=0)return s();let a=e.getWriter?e.getWriter({path:u}):tg({path:u});i.pipe(a).on("error",s).on("close",s)};var n=ng(t,r);return t.once("crx-header",function(i){n.crxHeader=i}),t.pipe(r).on("finish",function(){n.emit("close")}),n.promise=function(){return new ig(function(i,o){n.on("close",i),n.on("error",o)})},n}});var jf=V((Vw,Wn)=>{var Fe=function(e){"use strict";var t=1e7,r=7,n=9007199254740992,i=w(n),o="0123456789abcdefghijklmnopqrstuvwxyz",s=typeof BigInt=="function";function u(h,v,k,x){return typeof h>"u"?u[0]:typeof v<"u"?+v==10&&!k?Q(h):se(h,v,k,x):Q(h)}function a(h,v){this.value=h,this.sign=v,this.isSmall=!1}a.prototype=Object.create(u.prototype);function c(h){this.value=h,this.sign=h<0,this.isSmall=!0}c.prototype=Object.create(u.prototype);function f(h){this.value=h}f.prototype=Object.create(u.prototype);function d(h){return-n<h&&h<n}function w(h){return h<1e7?[h]:h<1e14?[h%1e7,Math.floor(h/1e7)]:[h%1e7,Math.floor(h/1e7)%1e7,Math.floor(h/1e14)]}function y(h){p(h);var v=h.length;if(v<4&&A(h,i)<0)switch(v){case 0:return 0;case 1:return h[0];case 2:return h[0]+h[1]*t;default:return h[0]+(h[1]+h[2]*t)*t}return h}function p(h){for(var v=h.length;h[--v]===0;);h.length=v+1}function m(h){for(var v=new Array(h),k=-1;++k<h;)v[k]=0;return v}function _(h){return h>0?Math.floor(h):Math.ceil(h)}function b(h,v){var k=h.length,x=v.length,M=new Array(k),q=0,P=t,U,G;for(G=0;G<x;G++)U=h[G]+v[G]+q,q=U>=P?1:0,M[G]=U-q*P;for(;G<k;)U=h[G]+q,q=U===P?1:0,M[G++]=U-q*P;return q>0&&M.push(q),M}function g(h,v){return h.length>=v.length?b(h,v):b(v,h)}function S(h,v){var k=h.length,x=new Array(k),M=t,q,P;for(P=0;P<k;P++)q=h[P]-M+v,v=Math.floor(q/M),x[P]=q-v*M,v+=1;for(;v>0;)x[P++]=v%M,v=Math.floor(v/M);return x}a.prototype.add=function(h){var v=Q(h);if(this.sign!==v.sign)return this.subtract(v.negate());var k=this.value,x=v.value;return v.isSmall?new a(S(k,Math.abs(x)),this.sign):new a(g(k,x),this.sign)},a.prototype.plus=a.prototype.add,c.prototype.add=function(h){var v=Q(h),k=this.value;if(k<0!==v.sign)return this.subtract(v.negate());var x=v.value;if(v.isSmall){if(d(k+x))return new c(k+x);x=w(Math.abs(x))}return new a(S(x,Math.abs(k)),k<0)},c.prototype.plus=c.prototype.add,f.prototype.add=function(h){return new f(this.value+Q(h).value)},f.prototype.plus=f.prototype.add;function O(h,v){var k=h.length,x=v.length,M=new Array(k),q=0,P=t,U,G;for(U=0;U<x;U++)G=h[U]-q-v[U],G<0?(G+=P,q=1):q=0,M[U]=G;for(U=x;U<k;U++){if(G=h[U]-q,G<0)G+=P;else{M[U++]=G;break}M[U]=G}for(;U<k;U++)M[U]=h[U];return p(M),M}function R(h,v,k){var x;return A(h,v)>=0?x=O(h,v):(x=O(v,h),k=!k),x=y(x),typeof x=="number"?(k&&(x=-x),new c(x)):new a(x,k)}function W(h,v,k){var x=h.length,M=new Array(x),q=-v,P=t,U,G;for(U=0;U<x;U++)G=h[U]+q,q=Math.floor(G/P),G%=P,M[U]=G<0?G+P:G;return M=y(M),typeof M=="number"?(k&&(M=-M),new c(M)):new a(M,k)}a.prototype.subtract=function(h){var v=Q(h);if(this.sign!==v.sign)return this.add(v.negate());var k=this.value,x=v.value;return v.isSmall?W(k,Math.abs(x),this.sign):R(k,x,this.sign)},a.prototype.minus=a.prototype.subtract,c.prototype.subtract=function(h){var v=Q(h),k=this.value;if(k<0!==v.sign)return this.add(v.negate());var x=v.value;return v.isSmall?new c(k-x):W(x,Math.abs(k),k>=0)},c.prototype.minus=c.prototype.subtract,f.prototype.subtract=function(h){return new f(this.value-Q(h).value)},f.prototype.minus=f.prototype.subtract,a.prototype.negate=function(){return new a(this.value,!this.sign)},c.prototype.negate=function(){var h=this.sign,v=new c(-this.value);return v.sign=!h,v},f.prototype.negate=function(){return new f(-this.value)},a.prototype.abs=function(){return new a(this.value,!1)},c.prototype.abs=function(){return new c(Math.abs(this.value))},f.prototype.abs=function(){return new f(this.value>=0?this.value:-this.value)};function Y(h,v){var k=h.length,x=v.length,M=k+x,q=m(M),P=t,U,G,X,ee,te;for(X=0;X<k;++X){ee=h[X];for(var ue=0;ue<x;++ue)te=v[ue],U=ee*te+q[X+ue],G=Math.floor(U/P),q[X+ue]=U-G*P,q[X+ue+1]+=G}return p(q),q}function z(h,v){var k=h.length,x=new Array(k),M=t,q=0,P,U;for(U=0;U<k;U++)P=h[U]*v+q,q=Math.floor(P/M),x[U]=P-q*M;for(;q>0;)x[U++]=q%M,q=Math.floor(q/M);return x}function D(h,v){for(var k=[];v-- >0;)k.push(0);return k.concat(h)}function B(h,v){var k=Math.max(h.length,v.length);if(k<=30)return Y(h,v);k=Math.ceil(k/2);var x=h.slice(k),M=h.slice(0,k),q=v.slice(k),P=v.slice(0,k),U=B(M,P),G=B(x,q),X=B(g(M,x),g(P,q)),ee=g(g(U,D(O(O(X,U),G),k)),D(G,2*k));return p(ee),ee}function $(h,v){return-.012*h-.012*v+15e-6*h*v>0}a.prototype.multiply=function(h){var v=Q(h),k=this.value,x=v.value,M=this.sign!==v.sign,q;if(v.isSmall){if(x===0)return u[0];if(x===1)return this;if(x===-1)return this.negate();if(q=Math.abs(x),q<t)return new a(z(k,q),M);x=w(q)}return $(k.length,x.length)?new a(B(k,x),M):new a(Y(k,x),M)},a.prototype.times=a.prototype.multiply;function C(h,v,k){return h<t?new a(z(v,h),k):new a(Y(v,w(h)),k)}c.prototype._multiplyBySmall=function(h){return d(h.value*this.value)?new c(h.value*this.value):C(Math.abs(h.value),w(Math.abs(this.value)),this.sign!==h.sign)},a.prototype._multiplyBySmall=function(h){return h.value===0?u[0]:h.value===1?this:h.value===-1?this.negate():C(Math.abs(h.value),this.value,this.sign!==h.sign)},c.prototype.multiply=function(h){return Q(h)._multiplyBySmall(this)},c.prototype.times=c.prototype.multiply,f.prototype.multiply=function(h){return new f(this.value*Q(h).value)},f.prototype.times=f.prototype.multiply;function F(h){var v=h.length,k=m(v+v),x=t,M,q,P,U,G;for(P=0;P<v;P++){U=h[P],q=0-U*U;for(var X=P;X<v;X++)G=h[X],M=2*(U*G)+k[P+X]+q,q=Math.floor(M/x),k[P+X]=M-q*x;k[P+v]=q}return p(k),k}a.prototype.square=function(){return new a(F(this.value),!1)},c.prototype.square=function(){var h=this.value*this.value;return d(h)?new c(h):new a(F(w(Math.abs(this.value))),!1)},f.prototype.square=function(h){return new f(this.value*this.value)};function L(h,v){var k=h.length,x=v.length,M=t,q=m(v.length),P=v[x-1],U=Math.ceil(M/(2*P)),G=z(h,U),X=z(v,U),ee,te,ue,Me,Le,zn,Hn;for(G.length<=k&&G.push(0),X.push(0),P=X[x-1],te=k-x;te>=0;te--){for(ee=M-1,G[te+x]!==P&&(ee=Math.floor((G[te+x]*M+G[te+x-1])/P)),ue=0,Me=0,zn=X.length,Le=0;Le<zn;Le++)ue+=ee*X[Le],Hn=Math.floor(ue/M),Me+=G[te+Le]-(ue-Hn*M),ue=Hn,Me<0?(G[te+Le]=Me+M,Me=-1):(G[te+Le]=Me,Me=0);for(;Me!==0;){for(ee-=1,ue=0,Le=0;Le<zn;Le++)ue+=G[te+Le]-M+X[Le],ue<0?(G[te+Le]=ue+M,ue=0):(G[te+Le]=ue,ue=1);Me+=ue}q[te]=ee}return G=E(G,U)[0],[y(q),y(G)]}function I(h,v){for(var k=h.length,x=v.length,M=[],q=[],P=t,U,G,X,ee,te;k;){if(q.unshift(h[--k]),p(q),A(q,v)<0){M.push(0);continue}G=q.length,X=q[G-1]*P+q[G-2],ee=v[x-1]*P+v[x-2],G>x&&(X=(X+1)*P),U=Math.ceil(X/ee);do{if(te=z(v,U),A(te,q)<=0)break;U--}while(U);M.push(U),q=O(q,te)}return M.reverse(),[y(M),y(q)]}function E(h,v){var k=h.length,x=m(k),M=t,q,P,U,G;for(U=0,q=k-1;q>=0;--q)G=U*M+h[q],P=_(G/v),U=G-P*v,x[q]=P|0;return[x,U|0]}function T(h,v){var k,x=Q(v);if(s)return[new f(h.value/x.value),new f(h.value%x.value)];var M=h.value,q=x.value,P;if(q===0)throw new Error("Cannot divide by zero");if(h.isSmall)return x.isSmall?[new c(_(M/q)),new c(M%q)]:[u[0],h];if(x.isSmall){if(q===1)return[h,u[0]];if(q==-1)return[h.negate(),u[0]];var U=Math.abs(q);if(U<t){k=E(M,U),P=y(k[0]);var G=k[1];return h.sign&&(G=-G),typeof P=="number"?(h.sign!==x.sign&&(P=-P),[new c(P),new c(G)]):[new a(P,h.sign!==x.sign),new c(G)]}q=w(U)}var X=A(M,q);if(X===-1)return[u[0],h];if(X===0)return[u[h.sign===x.sign?1:-1],u[0]];M.length+q.length<=200?k=L(M,q):k=I(M,q),P=k[0];var ee=h.sign!==x.sign,te=k[1],ue=h.sign;return typeof P=="number"?(ee&&(P=-P),P=new c(P)):P=new a(P,ee),typeof te=="number"?(ue&&(te=-te),te=new c(te)):te=new a(te,ue),[P,te]}a.prototype.divmod=function(h){var v=T(this,h);return{quotient:v[0],remainder:v[1]}},f.prototype.divmod=c.prototype.divmod=a.prototype.divmod,a.prototype.divide=function(h){return T(this,h)[0]},f.prototype.over=f.prototype.divide=function(h){return new f(this.value/Q(h).value)},c.prototype.over=c.prototype.divide=a.prototype.over=a.prototype.divide,a.prototype.mod=function(h){return T(this,h)[1]},f.prototype.mod=f.prototype.remainder=function(h){return new f(this.value%Q(h).value)},c.prototype.remainder=c.prototype.mod=a.prototype.remainder=a.prototype.mod,a.prototype.pow=function(h){var v=Q(h),k=this.value,x=v.value,M,q,P;if(x===0)return u[1];if(k===0)return u[0];if(k===1)return u[1];if(k===-1)return v.isEven()?u[1]:u[-1];if(v.sign)return u[0];if(!v.isSmall)throw new Error("The exponent "+v.toString()+" is too large.");if(this.isSmall&&d(M=Math.pow(k,x)))return new c(_(M));for(q=this,P=u[1];x&!0&&(P=P.times(q),--x),x!==0;)x/=2,q=q.square();return P},c.prototype.pow=a.prototype.pow,f.prototype.pow=function(h){var v=Q(h),k=this.value,x=v.value,M=BigInt(0),q=BigInt(1),P=BigInt(2);if(x===M)return u[1];if(k===M)return u[0];if(k===q)return u[1];if(k===BigInt(-1))return v.isEven()?u[1]:u[-1];if(v.isNegative())return new f(M);for(var U=this,G=u[1];(x&q)===q&&(G=G.times(U),--x),x!==M;)x/=P,U=U.square();return G},a.prototype.modPow=function(h,v){if(h=Q(h),v=Q(v),v.isZero())throw new Error("Cannot take modPow with modulus 0");var k=u[1],x=this.mod(v);for(h.isNegative()&&(h=h.multiply(u[-1]),x=x.modInv(v));h.isPositive();){if(x.isZero())return u[0];h.isOdd()&&(k=k.multiply(x).mod(v)),h=h.divide(2),x=x.square().mod(v)}return k},f.prototype.modPow=c.prototype.modPow=a.prototype.modPow;function A(h,v){if(h.length!==v.length)return h.length>v.length?1:-1;for(var k=h.length-1;k>=0;k--)if(h[k]!==v[k])return h[k]>v[k]?1:-1;return 0}a.prototype.compareAbs=function(h){var v=Q(h),k=this.value,x=v.value;return v.isSmall?1:A(k,x)},c.prototype.compareAbs=function(h){var v=Q(h),k=Math.abs(this.value),x=v.value;return v.isSmall?(x=Math.abs(x),k===x?0:k>x?1:-1):-1},f.prototype.compareAbs=function(h){var v=this.value,k=Q(h).value;return v=v>=0?v:-v,k=k>=0?k:-k,v===k?0:v>k?1:-1},a.prototype.compare=function(h){if(h===1/0)return-1;if(h===-1/0)return 1;var v=Q(h),k=this.value,x=v.value;return this.sign!==v.sign?v.sign?1:-1:v.isSmall?this.sign?-1:1:A(k,x)*(this.sign?-1:1)},a.prototype.compareTo=a.prototype.compare,c.prototype.compare=function(h){if(h===1/0)return-1;if(h===-1/0)return 1;var v=Q(h),k=this.value,x=v.value;return v.isSmall?k==x?0:k>x?1:-1:k<0!==v.sign?k<0?-1:1:k<0?1:-1},c.prototype.compareTo=c.prototype.compare,f.prototype.compare=function(h){if(h===1/0)return-1;if(h===-1/0)return 1;var v=this.value,k=Q(h).value;return v===k?0:v>k?1:-1},f.prototype.compareTo=f.prototype.compare,a.prototype.equals=function(h){return this.compare(h)===0},f.prototype.eq=f.prototype.equals=c.prototype.eq=c.prototype.equals=a.prototype.eq=a.prototype.equals,a.prototype.notEquals=function(h){return this.compare(h)!==0},f.prototype.neq=f.prototype.notEquals=c.prototype.neq=c.prototype.notEquals=a.prototype.neq=a.prototype.notEquals,a.prototype.greater=function(h){return this.compare(h)>0},f.prototype.gt=f.prototype.greater=c.prototype.gt=c.prototype.greater=a.prototype.gt=a.prototype.greater,a.prototype.lesser=function(h){return this.compare(h)<0},f.prototype.lt=f.prototype.lesser=c.prototype.lt=c.prototype.lesser=a.prototype.lt=a.prototype.lesser,a.prototype.greaterOrEquals=function(h){return this.compare(h)>=0},f.prototype.geq=f.prototype.greaterOrEquals=c.prototype.geq=c.prototype.greaterOrEquals=a.prototype.geq=a.prototype.greaterOrEquals,a.prototype.lesserOrEquals=function(h){return this.compare(h)<=0},f.prototype.leq=f.prototype.lesserOrEquals=c.prototype.leq=c.prototype.lesserOrEquals=a.prototype.leq=a.prototype.lesserOrEquals,a.prototype.isEven=function(){return(this.value[0]&1)===0},c.prototype.isEven=function(){return(this.value&1)===0},f.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},a.prototype.isOdd=function(){return(this.value[0]&1)===1},c.prototype.isOdd=function(){return(this.value&1)===1},f.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},a.prototype.isPositive=function(){return!this.sign},c.prototype.isPositive=function(){return this.value>0},f.prototype.isPositive=c.prototype.isPositive,a.prototype.isNegative=function(){return this.sign},c.prototype.isNegative=function(){return this.value<0},f.prototype.isNegative=c.prototype.isNegative,a.prototype.isUnit=function(){return!1},c.prototype.isUnit=function(){return Math.abs(this.value)===1},f.prototype.isUnit=function(){return this.abs().value===BigInt(1)},a.prototype.isZero=function(){return!1},c.prototype.isZero=function(){return this.value===0},f.prototype.isZero=function(){return this.value===BigInt(0)},a.prototype.isDivisibleBy=function(h){var v=Q(h);return v.isZero()?!1:v.isUnit()?!0:v.compareAbs(2)===0?this.isEven():this.mod(v).isZero()},f.prototype.isDivisibleBy=c.prototype.isDivisibleBy=a.prototype.isDivisibleBy;function j(h){var v=h.abs();if(v.isUnit())return!1;if(v.equals(2)||v.equals(3)||v.equals(5))return!0;if(v.isEven()||v.isDivisibleBy(3)||v.isDivisibleBy(5))return!1;if(v.lesser(49))return!0}function K(h,v){for(var k=h.prev(),x=k,M=0,q,P,U,G;x.isEven();)x=x.divide(2),M++;e:for(U=0;U<v.length;U++)if(!h.lesser(v[U])&&(G=Fe(v[U]).modPow(x,h),!(G.isUnit()||G.equals(k)))){for(q=M-1;q!=0;q--){if(G=G.square().mod(h),G.isUnit())return!1;if(G.equals(k))continue e}return!1}return!0}a.prototype.isPrime=function(h){var v=j(this);if(v!==e)return v;var k=this.abs(),x=k.bitLength();if(x<=64)return K(k,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var M=Math.log(2)*x.toJSNumber(),q=Math.ceil(h===!0?2*Math.pow(M,2):M),P=[],U=0;U<q;U++)P.push(Fe(U+2));return K(k,P)},f.prototype.isPrime=c.prototype.isPrime=a.prototype.isPrime,a.prototype.isProbablePrime=function(h,v){var k=j(this);if(k!==e)return k;for(var x=this.abs(),M=h===e?5:h,q=[],P=0;P<M;P++)q.push(Fe.randBetween(2,x.minus(2),v));return K(x,q)},f.prototype.isProbablePrime=c.prototype.isProbablePrime=a.prototype.isProbablePrime,a.prototype.modInv=function(h){for(var v=Fe.zero,k=Fe.one,x=Q(h),M=this.abs(),q,P,U;!M.isZero();)q=x.divide(M),P=v,U=x,v=k,x=M,k=P.subtract(q.multiply(k)),M=U.subtract(q.multiply(M));if(!x.isUnit())throw new Error(this.toString()+" and "+h.toString()+" are not co-prime");return v.compare(0)===-1&&(v=v.add(h)),this.isNegative()?v.negate():v},f.prototype.modInv=c.prototype.modInv=a.prototype.modInv,a.prototype.next=function(){var h=this.value;return this.sign?W(h,1,this.sign):new a(S(h,1),this.sign)},c.prototype.next=function(){var h=this.value;return h+1<n?new c(h+1):new a(i,!1)},f.prototype.next=function(){return new f(this.value+BigInt(1))},a.prototype.prev=function(){var h=this.value;return this.sign?new a(S(h,1),!0):W(h,1,this.sign)},c.prototype.prev=function(){var h=this.value;return h-1>-n?new c(h-1):new a(i,!0)},f.prototype.prev=function(){return new f(this.value-BigInt(1))};for(var H=[1];2*H[H.length-1]<=t;)H.push(2*H[H.length-1]);var Z=H.length,ne=H[Z-1];function be(h){return Math.abs(h)<=t}a.prototype.shiftLeft=function(h){var v=Q(h).toJSNumber();if(!be(v))throw new Error(String(v)+" is too large for shifting.");if(v<0)return this.shiftRight(-v);var k=this;if(k.isZero())return k;for(;v>=Z;)k=k.multiply(ne),v-=Z-1;return k.multiply(H[v])},f.prototype.shiftLeft=c.prototype.shiftLeft=a.prototype.shiftLeft,a.prototype.shiftRight=function(h){var v,k=Q(h).toJSNumber();if(!be(k))throw new Error(String(k)+" is too large for shifting.");if(k<0)return this.shiftLeft(-k);for(var x=this;k>=Z;){if(x.isZero()||x.isNegative()&&x.isUnit())return x;v=T(x,ne),x=v[1].isNegative()?v[0].prev():v[0],k-=Z-1}return v=T(x,H[k]),v[1].isNegative()?v[0].prev():v[0]},f.prototype.shiftRight=c.prototype.shiftRight=a.prototype.shiftRight;function Se(h,v,k){v=Q(v);for(var x=h.isNegative(),M=v.isNegative(),q=x?h.not():h,P=M?v.not():v,U=0,G=0,X=null,ee=null,te=[];!q.isZero()||!P.isZero();)X=T(q,ne),U=X[1].toJSNumber(),x&&(U=ne-1-U),ee=T(P,ne),G=ee[1].toJSNumber(),M&&(G=ne-1-G),q=X[0],P=ee[0],te.push(k(U,G));for(var ue=k(x?1:0,M?1:0)!==0?Fe(-1):Fe(0),Me=te.length-1;Me>=0;Me-=1)ue=ue.multiply(ne).add(Fe(te[Me]));return ue}a.prototype.not=function(){return this.negate().prev()},f.prototype.not=c.prototype.not=a.prototype.not,a.prototype.and=function(h){return Se(this,h,function(v,k){return v&k})},f.prototype.and=c.prototype.and=a.prototype.and,a.prototype.or=function(h){return Se(this,h,function(v,k){return v|k})},f.prototype.or=c.prototype.or=a.prototype.or,a.prototype.xor=function(h){return Se(this,h,function(v,k){return v^k})},f.prototype.xor=c.prototype.xor=a.prototype.xor;var ve=1<<30,J=(t&-t)*(t&-t)|ve;function re(h){var v=h.value,k=typeof v=="number"?v|ve:typeof v=="bigint"?v|BigInt(ve):v[0]+v[1]*t|J;return k&-k}function ie(h,v){if(v.compareTo(h)<=0){var k=ie(h,v.square(v)),x=k.p,M=k.e,q=x.multiply(v);return q.compareTo(h)<=0?{p:q,e:M*2+1}:{p:x,e:M*2}}return{p:Fe(1),e:0}}a.prototype.bitLength=function(){var h=this;return h.compareTo(Fe(0))<0&&(h=h.negate().subtract(Fe(1))),h.compareTo(Fe(0))===0?Fe(0):Fe(ie(h,Fe(2)).e).add(Fe(1))},f.prototype.bitLength=c.prototype.bitLength=a.prototype.bitLength;function _e(h,v){return h=Q(h),v=Q(v),h.greater(v)?h:v}function we(h,v){return h=Q(h),v=Q(v),h.lesser(v)?h:v}function he(h,v){if(h=Q(h).abs(),v=Q(v).abs(),h.equals(v))return h;if(h.isZero())return v;if(v.isZero())return h;for(var k=u[1],x,M;h.isEven()&&v.isEven();)x=we(re(h),re(v)),h=h.divide(x),v=v.divide(x),k=k.multiply(x);for(;h.isEven();)h=h.divide(re(h));do{for(;v.isEven();)v=v.divide(re(v));h.greater(v)&&(M=v,v=h,h=M),v=v.subtract(h)}while(!v.isZero());return k.isUnit()?h:h.multiply(k)}function de(h,v){return h=Q(h).abs(),v=Q(v).abs(),h.divide(he(h,v)).multiply(v)}function me(h,v,k){h=Q(h),v=Q(v);var x=k||Math.random,M=we(h,v),q=_e(h,v),P=q.subtract(M).add(1);if(P.isSmall)return M.add(Math.floor(x()*P));for(var U=ze(P,t).value,G=[],X=!0,ee=0;ee<U.length;ee++){var te=X?U[ee]+(ee+1<U.length?U[ee+1]/t:0):t,ue=_(x()*te);G.push(ue),ue<U[ee]&&(X=!1)}return M.add(u.fromArray(G,t,!1))}var se=function(h,v,k,x){k=k||o,h=String(h),x||(h=h.toLowerCase(),k=k.toLowerCase());var M=h.length,q,P=Math.abs(v),U={};for(q=0;q<k.length;q++)U[k[q]]=q;for(q=0;q<M;q++){var G=h[q];if(G!=="-"&&G in U&&U[G]>=P){if(G==="1"&&P===1)continue;throw new Error(G+" is not a valid digit in base "+v+".")}}v=Q(v);var X=[],ee=h[0]==="-";for(q=ee?1:0;q<h.length;q++){var G=h[q];if(G in U)X.push(Q(U[G]));else if(G==="<"){var te=q;do q++;while(h[q]!==">"&&q<h.length);X.push(Q(h.slice(te+1,q)))}else throw new Error(G+" is not a valid character")}return ke(X,v,ee)};function ke(h,v,k){var x=u[0],M=u[1],q;for(q=h.length-1;q>=0;q--)x=x.add(h[q].times(M)),M=M.times(v);return k?x.negate():x}function pe(h,v){return v=v||o,h<v.length?v[h]:"<"+h+">"}function ze(h,v){if(v=Fe(v),v.isZero()){if(h.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(v.equals(-1)){if(h.isZero())return{value:[0],isNegative:!1};if(h.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-h.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var k=Array.apply(null,Array(h.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return k.unshift([1]),{value:[].concat.apply([],k),isNegative:!1}}var x=!1;if(h.isNegative()&&v.isPositive()&&(x=!0,h=h.abs()),v.isUnit())return h.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(h.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:x};for(var M=[],q=h,P;q.isNegative()||q.compareAbs(v)>=0;){P=q.divmod(v),q=P.quotient;var U=P.remainder;U.isNegative()&&(U=v.minus(U).abs(),q=q.next()),M.push(U.toJSNumber())}return M.push(q.toJSNumber()),{value:M.reverse(),isNegative:x}}function Ur(h,v,k){var x=ze(h,v);return(x.isNegative?"-":"")+x.value.map(function(M){return pe(M,k)}).join("")}a.prototype.toArray=function(h){return ze(this,h)},c.prototype.toArray=function(h){return ze(this,h)},f.prototype.toArray=function(h){return ze(this,h)},a.prototype.toString=function(h,v){if(h===e&&(h=10),h!==10||v)return Ur(this,h,v);for(var k=this.value,x=k.length,M=String(k[--x]),q="0000000",P;--x>=0;)P=String(k[x]),M+=q.slice(P.length)+P;var U=this.sign?"-":"";return U+M},c.prototype.toString=function(h,v){return h===e&&(h=10),h!=10||v?Ur(this,h,v):String(this.value)},f.prototype.toString=c.prototype.toString,f.prototype.toJSON=a.prototype.toJSON=c.prototype.toJSON=function(){return this.toString()},a.prototype.valueOf=function(){return parseInt(this.toString(),10)},a.prototype.toJSNumber=a.prototype.valueOf,c.prototype.valueOf=function(){return this.value},c.prototype.toJSNumber=c.prototype.valueOf,f.prototype.valueOf=f.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};function He(h){if(d(+h)){var v=+h;if(v===_(v))return s?new f(BigInt(v)):new c(v);throw new Error("Invalid integer: "+h)}var k=h[0]==="-";k&&(h=h.slice(1));var x=h.split(/e/i);if(x.length>2)throw new Error("Invalid integer: "+x.join("e"));if(x.length===2){var M=x[1];if(M[0]==="+"&&(M=M.slice(1)),M=+M,M!==_(M)||!d(M))throw new Error("Invalid integer: "+M+" is not a valid exponent.");var q=x[0],P=q.indexOf(".");if(P>=0&&(M-=q.length-P-1,q=q.slice(0,P)+q.slice(P+1)),M<0)throw new Error("Cannot include negative exponent part for integers");q+=new Array(M+1).join("0"),h=q}var U=/^([0-9][0-9]*)$/.test(h);if(!U)throw new Error("Invalid integer: "+h);if(s)return new f(BigInt(k?"-"+h:h));for(var G=[],X=h.length,ee=r,te=X-ee;X>0;)G.push(+h.slice(te,X)),te-=ee,te<0&&(te=0),X-=ee;return p(G),new a(G,k)}function Wr(h){if(s)return new f(BigInt(h));if(d(h)){if(h!==_(h))throw new Error(h+" is not an integer.");return new c(h)}return He(h.toString())}function Q(h){return typeof h=="number"?Wr(h):typeof h=="string"?He(h):typeof h=="bigint"?new f(h):h}for(var N=0;N<1e3;N++)u[N]=Q(N),N>0&&(u[-N]=Q(-N));return u.one=u[1],u.zero=u[0],u.minusOne=u[-1],u.max=_e,u.min=we,u.gcd=he,u.lcm=de,u.isInstance=function(h){return h instanceof a||h instanceof c||h instanceof f},u.randBetween=me,u.fromArray=function(h,v,k){return ke(h.map(Q),Q(v||10),k)},u}();typeof Wn<"u"&&Wn.hasOwnProperty("exports")&&(Wn.exports=Fe);typeof define=="function"&&define.amd&&define(function(){return Fe})});var Mf=V((Gw,If)=>{var gt=jf(),ag=require("stream"),$n;function sg(){var e=3988292384,t,r,n;for($n=[],r=0;r<256;r++){for(t=r,n=0;n<8;n++)t=t&1?e^t>>>1:t=t>>>1;$n[r]=t>>>0}}function Lf(e,t){return $n||sg(),e.charCodeAt&&(e=e.charCodeAt(0)),gt(t).shiftRight(8).and(16777215).xor($n[gt(t).xor(e).and(255)]).value}function nr(){if(!(this instanceof nr))return new nr;this.key0=305419896,this.key1=591751049,this.key2=878082192}nr.prototype.update=function(e){this.key0=Lf(e,this.key0),this.key1=gt(this.key0).and(255).and(4294967295).add(this.key1),this.key1=gt(this.key1).multiply(134775813).add(1).and(4294967295).value,this.key2=Lf(gt(this.key1).shiftRight(24).and(255),this.key2)};nr.prototype.decryptByte=function(e){var t=gt(this.key2).or(2);return e=e^gt(t).multiply(gt(t^1)).shiftRight(8).and(255),this.update(e),e};nr.prototype.stream=function(){var e=ag.Transform(),t=this;return e._transform=function(r,n,i){for(var o=0;o<r.length;o++)r[o]=t.decryptByte(r[o]);this.push(r),i()},e};If.exports=nr});var Uf=V((zw,Bf)=>{var ug=st(),cg=Mf(),lg=sn(),Pf=require("stream"),fg=require("zlib"),hg=cn(),pg=ln(),dg=fr();Bf.exports=function(t,r,n,i,o){var s=lg(),u=Pf.PassThrough(),a=t.stream(r,o);return a.pipe(s).on("error",function(c){u.emit("error",c)}),u.vars=s.pull(30).then(function(c){var f=dg.parse(c,[["signature",4],["versionsNeededToExtract",2],["flags",2],["compressionMethod",2],["lastModifiedTime",2],["lastModifiedDate",2],["crc32",4],["compressedSize",4],["uncompressedSize",4],["fileNameLength",2],["extraFieldLength",2]]);return f.lastModifiedDateTime=pg(f.lastModifiedDate,f.lastModifiedTime),s.pull(f.fileNameLength).then(function(d){return f.fileName=d.toString("utf8"),s.pull(f.extraFieldLength)}).then(function(d){var w;return f.extra=hg(d,f),i&&i.compressedSize&&(f=i),f.flags&1&&(w=s.pull(12).then(function(y){if(!n)throw new Error("MISSING_PASSWORD");var p=cg();String(n).split("").forEach(function(b){p.update(b)});for(var m=0;m<y.length;m++)y[m]=p.decryptByte(y[m]);f.decrypt=p,f.compressedSize-=12;var _=f.flags&8?f.lastModifiedTime>>8&255:f.crc32>>24&255;if(y[11]!==_)throw new Error("BAD_PASSWORD");return f})),ug.resolve(w).then(function(){return u.emit("vars",f),f})})}),u.vars.then(function(c){var f=!(c.flags&8)||c.compressedSize>0,d,w=c.compressionMethod?fg.createInflateRaw():Pf.PassThrough();f?(u.size=c.uncompressedSize,d=c.compressedSize):(d=Buffer.alloc(4),d.writeUInt32LE(134695760,0));var y=s.stream(d);c.decrypt&&(y=y.pipe(c.decrypt.stream())),y.pipe(w).on("error",function(p){u.emit("error",p)}).pipe(u).on("finish",function(){a.destroy?a.destroy():a.abort?a.abort():a.close?a.close():a.push?a.push():console.log("warning - unable to close stream")})}).catch(function(c){u.emit("error",c)}),u}});var Vf=V((Hw,$f)=>{var jr=sn(),yg=Uf(),Nr=st(),vg=un(),mg=cn(),Jo=require("path"),gg=Yo().Writer,_g=ln(),Lr=fr(),Wf=Buffer.alloc(4);Wf.writeUInt32LE(101010256,0);function wg(e){var t=e.stream(0).pipe(jr());return t.pull(4).then(function(r){var n=r.readUInt32LE(0);if(n===875721283){var i;return t.pull(12).then(function(o){i=Lr.parse(o,[["version",4],["pubKeyLength",4],["signatureLength",4]])}).then(function(){return t.pull(i.pubKeyLength+i.signatureLength)}).then(function(o){return i.publicKey=o.slice(0,i.pubKeyLength),i.signature=o.slice(i.pubKeyLength),i.size=16+i.pubKeyLength+i.signatureLength,i})}})}function bg(e,t){var r=Lr.parse(t,[["signature",4],["diskNumber",4],["offsetToStartOfCentralDirectory",8],["numberOfDisks",4]]);if(r.signature!=117853008)throw new Error("invalid zip64 end of central dir locator signature (0x07064b50): 0x"+r.signature.toString(16));var n=jr();return e.stream(r.offsetToStartOfCentralDirectory).pipe(n),n.pull(56)}function Eg(e){var t=Lr.parse(e,[["signature",4],["sizeOfCentralDirectory",8],["version",2],["versionsNeededToExtract",2],["diskNumber",4],["diskStart",4],["numberOfRecordsOnDisk",8],["numberOfRecords",8],["sizeOfCentralDirectory",8],["offsetToStartOfCentralDirectory",8]]);if(t.signature!=101075792)throw new Error("invalid zip64 end of central dir locator signature (0x06064b50): 0x0"+t.signature.toString(16));return t}$f.exports=function(t,r){var n=jr(),i=jr(),o=r&&r.tailSize||80,s,u,a,c;return r&&r.crx&&(u=wg(t)),t.size().then(function(f){return s=f,t.stream(Math.max(0,f-o)).on("error",function(d){n.emit("error",d)}).pipe(n),n.pull(Wf)}).then(function(){return Nr.props({directory:n.pull(22),crxHeader:u})}).then(function(f){var d=f.directory;if(a=f.crxHeader&&f.crxHeader.size||0,c=Lr.parse(d,[["signature",4],["diskNumber",2],["diskStart",2],["numberOfRecordsOnDisk",2],["numberOfRecords",2],["sizeOfCentralDirectory",4],["offsetToStartOfCentralDirectory",4],["commentLength",2]]),c.numberOfRecords==65535||c.numberOfRecords==65535||c.offsetToStartOfCentralDirectory==4294967295){let y=s-(o-n.match+20),p=jr();return t.stream(y).pipe(p),p.pull(20).then(function(m){return bg(t,m)}).then(function(m){c=Eg(m)})}else c.offsetToStartOfCentralDirectory+=a}).then(function(){if(c.commentLength)return n.pull(c.commentLength).then(function(f){c.comment=f.toString("utf8")})}).then(function(){return t.stream(c.offsetToStartOfCentralDirectory).pipe(i),c.extract=function(f){if(!f||!f.path)throw new Error("PATH_MISSING");return f.path=Jo.resolve(Jo.normalize(f.path)),c.files.then(function(d){return Nr.map(d,function(w){if(w.type!="Directory"){var y=Jo.join(f.path,w.path);if(y.indexOf(f.path)==0){var p=f.getWriter?f.getWriter({path:y}):gg({path:y});return new Nr(function(m,_){w.stream(f.password).on("error",_).pipe(p).on("close",m).on("error",_)})}}},{concurrency:f.concurrency>1?f.concurrency:1})})},c.files=Nr.mapSeries(Array(c.numberOfRecords),function(){return i.pull(46).then(function(f){var d=d=Lr.parse(f,[["signature",4],["versionMadeBy",2],["versionsNeededToExtract",2],["flags",2],["compressionMethod",2],["lastModifiedTime",2],["lastModifiedDate",2],["crc32",4],["compressedSize",4],["uncompressedSize",4],["fileNameLength",2],["extraFieldLength",2],["fileCommentLength",2],["diskNumber",2],["internalFileAttributes",2],["externalFileAttributes",4],["offsetToLocalFileHeader",4]]);return d.offsetToLocalFileHeader+=a,d.lastModifiedDateTime=_g(d.lastModifiedDate,d.lastModifiedTime),i.pull(d.fileNameLength).then(function(w){return d.pathBuffer=w,d.path=w.toString("utf8"),d.isUnicode=(d.flags&2048)!=0,i.pull(d.extraFieldLength)}).then(function(w){return d.extra=mg(w,d),i.pull(d.fileCommentLength)}).then(function(w){d.comment=w,d.type=d.uncompressedSize===0&&/[\/\\]$/.test(d.path)?"Directory":"File";var y=r&&r.padding||1e3;return d.stream=function(p){var m=30+y+(d.extraFieldLength||0)+(d.fileNameLength||0)+d.compressedSize;return yg(t,d.offsetToLocalFileHeader,p,d,m)},d.buffer=function(p){return vg(d.stream(p))},d})})}),Nr.props(c)})}});var Hf=V((Kw,zf)=>{var Gf=Je(),Vn=st(),Ir=Vf(),Sg=require("stream");zf.exports={buffer:function(e,t){var r={stream:function(n,i){var o=Sg.PassThrough(),s=i?n+i:void 0;return o.end(e.slice(n,s)),o},size:function(){return Vn.resolve(e.length)}};return Ir(r,t)},file:function(e,t){var r={stream:function(n,i){var o=i?n+i:void 0;return Gf.createReadStream(e,{start:n,end:o})},size:function(){return new Vn(function(n,i){Gf.stat(e,function(o,s){o?i(o):n(s.size)})})}};return Ir(r,t)},url:function(e,t,r){if(typeof t=="string"&&(t={url:t}),!t.url)throw"URL missing";t.headers=t.headers||{};var n={stream:function(i,o){var s=Object.create(t),u=o?i+o:"";return s.headers=Object.create(t.headers),s.headers.range="bytes="+i+"-"+u,e(s)},size:function(){return new Vn(function(i,o){var s=e(t);s.on("response",function(u){s.abort(),u.headers["content-length"]?i(u.headers["content-length"]):o(new Error("Missing content length header"))}).on("error",o)})}};return Ir(n,r)},s3:function(e,t,r){var n={size:function(){return new Vn(function(i,o){e.headObject(t,function(s,u){s?o(s):i(u.ContentLength)})})},stream:function(i,o){var s={};for(var u in t)s[u]=t[u];var a=o?i+o:"";return s.Range="bytes="+i+"-"+a,e.getObject(s).createReadStream()}};return Ir(n,r)},custom:function(e,t){return Ir(e,t)}}});var Kf=V(Mr=>{"use strict";Mr.Parse=fn();Mr.ParseOne=Ic();Mr.Extract=Nf();Mr.Open=Hf()});var Jf=V((Qw,Qf)=>{var{Transform:kg}=require("stream"),[Xo]=Buffer.from("\r"),[Zo]=Buffer.from(`
`),Yf={escape:'"',headers:null,mapHeaders:({header:e})=>e,mapValues:({value:e})=>e,newline:`
`,quote:'"',raw:!1,separator:",",skipComments:!1,skipLines:null,maxRowBytes:Number.MAX_SAFE_INTEGER,strict:!1},ea=class extends kg{constructor(t={}){super({objectMode:!0,highWaterMark:16}),Array.isArray(t)&&(t={headers:t});let r=Object.assign({},Yf,t);r.customNewline=r.newline!==Yf.newline;for(let n of["newline","quote","separator"])typeof r[n]<"u"&&([r[n]]=Buffer.from(r[n]));r.escape=(t||{}).escape?Buffer.from(r.escape)[0]:r.quote,this.state={empty:r.raw?Buffer.alloc(0):"",escaped:!1,first:!0,lineNumber:0,previousEnd:0,rowLength:0,quoted:!1},this._prev=null,r.headers===!1&&(r.strict=!1),(r.headers||r.headers===!1)&&(this.state.first=!1),this.options=r,this.headers=r.headers}parseCell(t,r,n){let{escape:i,quote:o}=this.options;t[r]===o&&t[n-1]===o&&(r++,n--);let s=r;for(let u=r;u<n;u++)t[u]===i&&u+1<n&&t[u+1]===o&&u++,s!==u&&(t[s]=t[u]),s++;return this.parseValue(t,r,s)}parseLine(t,r,n){let{customNewline:i,escape:o,mapHeaders:s,mapValues:u,quote:a,separator:c,skipComments:f,skipLines:d}=this.options;n--,!i&&t.length&&t[n-1]===Xo&&n--;let w=c,y=[],p=!1,m=r;if(f){let g=typeof f=="string"?f:"#";if(t[r]===Buffer.from(g)[0])return}let _=g=>{if(this.state.first)return g;let S=y.length,O=this.headers[S];return u({header:O,index:S,value:g})};for(let g=r;g<n;g++){let S=!p&&t[g]===a,O=p&&t[g]===a&&g+1<=n&&t[g+1]===w,R=p&&t[g]===o&&g+1<n&&t[g+1]===a;if(S||O){p=!p;continue}else if(R){g++;continue}if(t[g]===w&&!p){let W=this.parseCell(t,m,g);W=_(W),y.push(W),m=g+1}}if(m<n){let g=this.parseCell(t,m,n);g=_(g),y.push(g)}t[n-1]===w&&y.push(_(this.state.empty));let b=d&&d>this.state.lineNumber;if(this.state.lineNumber++,this.state.first&&!b){this.state.first=!1,this.headers=y.map((g,S)=>s({header:g,index:S})),this.emit("headers",this.headers);return}if(!b&&this.options.strict&&y.length!==this.headers.length){let g=new RangeError("Row length does not match headers");this.emit("error",g)}else b||this.writeRow(y)}parseValue(t,r,n){return this.options.raw?t.slice(r,n):t.toString("utf-8",r,n)}writeRow(t){let r=this.headers===!1?t.map((i,o)=>o):this.headers,n=t.reduce((i,o,s)=>{let u=r[s];return u===null||(u!==void 0?i[u]=o:i[`_${s}`]=o),i},{});this.push(n)}_flush(t){if(this.state.escaped||!this._prev)return t();this.parseLine(this._prev,this.state.previousEnd,this._prev.length+1),t()}_transform(t,r,n){typeof t=="string"&&(t=Buffer.from(t));let{escape:i,quote:o}=this.options,s=0,u=t;this._prev&&(s=this._prev.length,u=Buffer.concat([this._prev,t]),this._prev=null);let a=u.length;for(let c=s;c<a;c++){let f=u[c],d=c+1<a?u[c+1]:null;if(this.state.rowLength++,this.state.rowLength>this.options.maxRowBytes)return n(new Error("Row exceeds the maximum size"));if(!this.state.escaped&&f===i&&d===o&&c!==s){this.state.escaped=!0;continue}else if(f===o){this.state.escaped?this.state.escaped=!1:this.state.quoted=!this.state.quoted;continue}this.state.quoted||(this.state.first&&!this.options.customNewline&&(f===Zo?this.options.newline=Zo:f===Xo&&d!==Zo&&(this.options.newline=Xo)),f===this.options.newline&&(this.parseLine(u,this.state.previousEnd,c+1),this.state.previousEnd=c+1,this.state.rowLength=0))}if(this.state.previousEnd===a)return this.state.previousEnd=0,n();if(a-this.state.previousEnd<t.length)return this._prev=t,this.state.previousEnd-=a-t.length,n();this._prev=u,n()}};Qf.exports=e=>new ea(e)});(function(){ua().config(Object.assign({},la(),ha()(process.argv)))})();var Bt=ir(Za());async function es(e,t){await(0,Bt.startWriters)(e,t,"events (year INTEGER, month INTEGER, day INTEGER, conflict INTEGER, events INTEGER, tone REAL, domain TEXT, url TEXT, summary TEXT, entities TEXT)",function(r){let n="";for(let i of r){let o=i.year,s=i.month,u=i.day,a=i.conflict,c=i.events,f=i.tone,d=i.domain,w=i.url,y=i.summary,p=i.entities;for(let m of Object.keys(i))Number.isNaN(i[m])&&console.log(i);n+=`INSERT INTO events (year, month, day, conflict, events, tone, domain, url, summary, entities) VALUES (${o}, ${s}, ${u}, ${a}, ${c}, ${f}, '${d}', '${w}', '${y}', '${p}');`}return n},!0)}var ts=Bt.workerCount,rs=Bt.enqueue;var eh=require("fs"),th=ir(Kf()),rh=ir(Jf());var Xf=/\d/,Pr=/'/g,Zf=/\+|_/g,ta=/-/g;var Tg={separator:"	",headers:["GLOBALEVENTID","SQLDATE","MonthYear","Year","FractionDate","Actor1Code","Actor1Name","Actor1CountryCode","Actor1KnownGroupCode","Actor1EthnicCode","Actor1Religion1Code","Actor1Religion2Code","Actor1Type1Code","Actor1Type2Code","Actor1Type3Code","Actor2Code","Actor2Name","Actor2CountryCode","Actor2KnownGroupCode","Actor2EthnicCode","Actor2Religion1Code","Actor2Religion2Code","Actor2Type1Code","Actor2Type2Code","Actor2Type3Code","IsRootEvent","EventCode","EventBaseCode","EventRootCode","QuadClass","GoldsteinScale","NumMentions","NumSources","NumArticles","AvgTone","Actor1Geo_Type","Actor1Geo_FullName","Actor1Geo_CountryCode","Actor1Geo_ADM1Code","Actor1Geo_Lat","Actor1Geo_Long","Actor1Geo_FeatureID","Actor2Geo_Type","Actor2Geo_FullName","Actor2Geo_CountryCode","Actor2Geo_ADM1Code","Actor2Geo_Lat","Actor2Geo_Long","Actor2Geo_FeatureID","ActionGeo_Type","ActionGeo_FullName","ActionGeo_CountryCode","ActionGeo_ADM1Code","ActionGeo_Lat","ActionGeo_Long","ActionGeo_FeatureID","DATEADDED","SOURCEURL"]};async function nh(e){let t=[],r=(0,eh.createReadStream)(e).pipe(th.default.Parse({forceStream:!0}));for await(let n of r){let i=n.path.toLowerCase();if(n.type==="File"&&i.endsWith(".csv")){let s=await Og(n);t.push(...s)}else n.autodrain()}return t}function Br(e,t){return e.length>0&&e.toLowerCase().split(",").forEach(r=>{let n=r.trim();t.indexOf(n)===-1&&t.push(n)}),t}function Og(e){return new Promise((t,r)=>{let n={};e.pipe((0,rh.default)(Tg)).on("data",i=>{n[i.SOURCEURL]===void 0&&(n[i.SOURCEURL]={year:parseInt(i.Year),month:parseInt(i.MonthYear.substring(4)),day:parseInt(i.SQLDATE.substring(6)),conflict:0,events:0,tone:parseFloat(i.AvgTone),domain:"",url:i.SOURCEURL.replace(Pr,"''"),summary:"",entities:[]});let o=n[i.SOURCEURL];o.entities=Br(i.Actor1Geo_FullName,o.entities),o.entities=Br(i.Actor2Geo_FullName,o.entities),o.entities=Br(i.Actor1Name,o.entities),o.entities=Br(i.Actor2Name,o.entities),o.entities=Br(i.ActionGeo_FullName,o.entities);let s=i.SOURCEURL.toLowerCase().replace(Zf,"-").split("/");o.domain=s[2].replace("www.","").replace(Pr,"''");let u="";for(let a of s)a.length>u.length&&a.indexOf("?")===-1&&a.indexOf("-")>-1&&(u=a);if(u=u.replace(".html","").replace(".htm","").replace(ta," ").trim(),u===""){let a=[];for(let c of s.slice(3)){if(c.length<=1||c==="*")continue;let f=c.indexOf("?");f>-1&&(c=c.substring(0,f)),f=c.indexOf("."),f>-1&&(c=c.substring(0,f)),c.length!==0&&Xf.test(c)===!1&&a.indexOf(c)===-1&&a.push(c.replace(ta," "))}u=a.join(" ").replace(Pr,"''")}switch(o.summary=u,i.QuadClass){case"2":o.conflict+=0;break;case"1":o.conflict+=25;break;case"3":o.conflict+=50;break;case"4":o.conflict+=75;break}o.events+=1,o.conflict+=parseInt(i.GoldsteinScale||0)*-1}).on("end",()=>{let i=Object.values(n);i.map(o=>(o.entities=o.entities.join(",").replace(Pr,"''"),o)),t(i)}).on("error",i=>r(i))})}var Gn=ir(require("fs/promises")),ih=ir(require("path"));async function oh(e,t){let r=[];try{let n=await Gn.default.readdir(e);for(let i of n)ih.default.extname(i)==="."+t&&r.push(i)}catch(n){throw new RangeError("Unable to scan directory:",n)}return r}var ra=async(e,t)=>{try{let r=JSON.stringify(t,null,2);await Gn.default.writeFile(e,r,"utf-8")}catch(r){throw console.error(`Error writing the file to disk: ${r}`),r}},ah=async(e,t)=>{try{let r=await Gn.default.readFile(e,"utf-8");return JSON.parse(r)}catch(r){if(r.code==="ENOENT")return await ra(e,t),t;throw console.error(`Error reading the file: ${r}`),r}};var sh="data/loaded.json",xg=process.env.GDELT_PATH,Cg=process.env.GDELT_SQLITE_PATH;async function Fg(e=xg){console.log("Gathering archives...");let t=await ah(sh,"{}"),r=await oh(e,"zip"),n=[];for(let i of r){let o=e+"/"+i;t[o]===void 0&&i!=="GDELT.MASTERREDUCEDV2.1979-2013.zip"&&n.push(o)}for(let i of n){console.log(`Processing ${i}...`);let o=await nh(i),s=[],u=0;for(let a of o){let c=u%ts;s[c]===void 0&&(s[c]=[]),s[c].push(a),u+=1}for(let a of s)rs(a);console.log("Saving..."),await es(Cg,i),t[i]=!0,await ra(sh,t)}}Fg();
